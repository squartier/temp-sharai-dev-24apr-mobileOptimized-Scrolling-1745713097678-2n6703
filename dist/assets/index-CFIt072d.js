function kw(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ew(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Pg={exports:{}},Al={},Ag={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=Symbol.for("react.element"),Cw=Symbol.for("react.portal"),Nw=Symbol.for("react.fragment"),jw=Symbol.for("react.strict_mode"),Dw=Symbol.for("react.profiler"),Pw=Symbol.for("react.provider"),Aw=Symbol.for("react.context"),Iw=Symbol.for("react.forward_ref"),Tw=Symbol.for("react.suspense"),Ow=Symbol.for("react.memo"),Rw=Symbol.for("react.lazy"),Uh=Symbol.iterator;function $w(e){return e===null||typeof e!="object"?null:(e=Uh&&e[Uh]||e["@@iterator"],typeof e=="function"?e:null)}var Ig={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tg=Object.assign,Og={};function Ys(e,t,r){this.props=e,this.context=t,this.refs=Og,this.updater=r||Ig}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rg(){}Rg.prototype=Ys.prototype;function Xd(e,t,r){this.props=e,this.context=t,this.refs=Og,this.updater=r||Ig}var ef=Xd.prototype=new Rg;ef.constructor=Xd;Tg(ef,Ys.prototype);ef.isPureReactComponent=!0;var zh=Array.isArray,$g=Object.prototype.hasOwnProperty,tf={current:null},Lg={key:!0,ref:!0,__self:!0,__source:!0};function Fg(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$g.call(t,n)&&!Lg.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Oo,type:e,key:i,ref:o,props:s,_owner:tf.current}}function Lw(e,t){return{$$typeof:Oo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oo}function Fw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Vh=/\/+/g;function zc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fw(""+e.key):t.toString(36)}function ka(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Oo:case Cw:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+zc(o,0):n,zh(s)?(r="",e!=null&&(r=e.replace(Vh,"$&/")+"/"),ka(s,t,r,"",function(c){return c})):s!=null&&(rf(s)&&(s=Lw(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Vh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",zh(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+zc(i,a);o+=ka(i,t,r,l,s)}else if(l=$w(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+zc(i,a++),o+=ka(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Jo(e,t,r){if(e==null)return e;var n=[],s=0;return ka(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Mw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vt={current:null},Ea={transition:null},Bw={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Ea,ReactCurrentOwner:tf};function Mg(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Jo,forEach:function(e,t,r){Jo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Jo(e,function(){t++}),t},toArray:function(e){return Jo(e,function(t){return t})||[]},only:function(e){if(!rf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Ys;he.Fragment=Nw;he.Profiler=Dw;he.PureComponent=Xd;he.StrictMode=jw;he.Suspense=Tw;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bw;he.act=Mg;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Tg({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=tf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)$g.call(t,l)&&!Lg.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Oo,type:e.type,key:s,ref:i,props:n,_owner:o}};he.createContext=function(e){return e={$$typeof:Aw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Pw,_context:e},e.Consumer=e};he.createElement=Fg;he.createFactory=function(e){var t=Fg.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:Iw,render:e}};he.isValidElement=rf;he.lazy=function(e){return{$$typeof:Rw,_payload:{_status:-1,_result:e},_init:Mw}};he.memo=function(e,t){return{$$typeof:Ow,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Ea.transition;Ea.transition={};try{e()}finally{Ea.transition=t}};he.unstable_act=Mg;he.useCallback=function(e,t){return vt.current.useCallback(e,t)};he.useContext=function(e){return vt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return vt.current.useDeferredValue(e)};he.useEffect=function(e,t){return vt.current.useEffect(e,t)};he.useId=function(){return vt.current.useId()};he.useImperativeHandle=function(e,t,r){return vt.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return vt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return vt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return vt.current.useMemo(e,t)};he.useReducer=function(e,t,r){return vt.current.useReducer(e,t,r)};he.useRef=function(e){return vt.current.useRef(e)};he.useState=function(e){return vt.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return vt.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return vt.current.useTransition()};he.version="18.3.1";Ag.exports=he;var w=Ag.exports;const de=Yd(w),Uw=kw({__proto__:null,default:de},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw=w,Vw=Symbol.for("react.element"),Ww=Symbol.for("react.fragment"),Gw=Object.prototype.hasOwnProperty,Hw=zw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qw={key:!0,ref:!0,__self:!0,__source:!0};function Bg(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Gw.call(t,n)&&!qw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Vw,type:e,key:i,ref:o,props:s,_owner:Hw.current}}Al.Fragment=Ww;Al.jsx=Bg;Al.jsxs=Bg;Pg.exports=Al;var f=Pg.exports,Ug={exports:{}},Mt={},zg={exports:{}},Vg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,C){var F=L.length;L.push(C);e:for(;0<F;){var Q=F-1>>>1,z=L[Q];if(0<s(z,C))L[Q]=C,L[F]=z,F=Q;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var C=L[0],F=L.pop();if(F!==C){L[0]=F;e:for(var Q=0,z=L.length,le=z>>>1;Q<le;){var K=2*(Q+1)-1,Fe=L[K],qe=K+1,wt=L[qe];if(0>s(Fe,F))qe<z&&0>s(wt,Fe)?(L[Q]=wt,L[qe]=F,Q=qe):(L[Q]=Fe,L[K]=F,Q=K);else if(qe<z&&0>s(wt,F))L[Q]=wt,L[qe]=F,Q=qe;else break e}}return C}function s(L,C){var F=L.sortIndex-C.sortIndex;return F!==0?F:L.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,x=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var C=r(c);C!==null;){if(C.callback===null)n(c);else if(C.startTime<=L)n(c),C.sortIndex=C.expirationTime,t(l,C);else break;C=r(c)}}function S(L){if(m=!1,v(L),!x)if(r(l)!==null)x=!0,se(k);else{var C=r(c);C!==null&&ae(S,C.startTime-L)}}function k(L,C){x=!1,m&&(m=!1,y(N),N=-1),p=!0;var F=h;try{for(v(C),d=r(l);d!==null&&(!(d.expirationTime>C)||L&&!X());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,h=d.priorityLevel;var z=Q(d.expirationTime<=C);C=e.unstable_now(),typeof z=="function"?d.callback=z:d===r(l)&&n(l),v(C)}else n(l);d=r(l)}if(d!==null)var le=!0;else{var K=r(c);K!==null&&ae(S,K.startTime-C),le=!1}return le}finally{d=null,h=F,p=!1}}var j=!1,P=null,N=-1,A=5,O=-1;function X(){return!(e.unstable_now()-O<A)}function R(){if(P!==null){var L=e.unstable_now();O=L;var C=!0;try{C=P(!0,L)}finally{C?U():(j=!1,P=null)}}else j=!1}var U;if(typeof g=="function")U=function(){g(R)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,I=oe.port2;oe.port1.onmessage=R,U=function(){I.postMessage(null)}}else U=function(){b(R,0)};function se(L){P=L,j||(j=!0,U())}function ae(L,C){N=b(function(){L(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,se(k))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var F=h;h=C;try{return L()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,C){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=h;h=L;try{return C()}finally{h=F}},e.unstable_scheduleCallback=function(L,C,F){var Q=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Q+F:Q):F=Q,L){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=F+z,L={id:u++,callback:C,priorityLevel:L,startTime:F,expirationTime:z,sortIndex:-1},F>Q?(L.sortIndex=F,t(c,L),r(l)===null&&L===r(c)&&(m?(y(N),N=-1):m=!0,ae(S,F-Q))):(L.sortIndex=z,t(l,L),x||p||(x=!0,se(k))),L},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(L){var C=h;return function(){var F=h;h=C;try{return L.apply(this,arguments)}finally{h=F}}}})(Vg);zg.exports=Vg;var Zw=zg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw=w,Ft=Zw;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wg=new Set,Hi={};function rs(e,t){$s(e,t),$s(e+"Capture",t)}function $s(e,t){for(Hi[e]=t,e=0;e<t.length;e++)Wg.add(t[e])}var Rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ru=Object.prototype.hasOwnProperty,Jw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wh={},Gh={};function Qw(e){return Ru.call(Gh,e)?!0:Ru.call(Wh,e)?!1:Jw.test(e)?Gh[e]=!0:(Wh[e]=!0,!1)}function Yw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xw(e,t,r,n){if(t===null||typeof t>"u"||Yw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var nf=/[\-:]([a-z])/g;function sf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nf,sf);nt[t]=new xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nf,sf);nt[t]=new xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nf,sf);nt[t]=new xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new xt(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function of(e,t,r,n){var s=nt.hasOwnProperty(t)?nt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xw(t,r,s,n)&&(r=null),n||s===null?Qw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ur=Kw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qo=Symbol.for("react.element"),ms=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),af=Symbol.for("react.strict_mode"),$u=Symbol.for("react.profiler"),Gg=Symbol.for("react.provider"),Hg=Symbol.for("react.context"),lf=Symbol.for("react.forward_ref"),Lu=Symbol.for("react.suspense"),Fu=Symbol.for("react.suspense_list"),cf=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),qg=Symbol.for("react.offscreen"),Hh=Symbol.iterator;function li(e){return e===null||typeof e!="object"?null:(e=Hh&&e[Hh]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,Vc;function _i(e){if(Vc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Vc=t&&t[1]||""}return`
`+Vc+e}var Wc=!1;function Gc(e,t){if(!e||Wc)return"";Wc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_i(e):""}function eb(e){switch(e.tag){case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 2:case 15:return e=Gc(e.type,!1),e;case 11:return e=Gc(e.type.render,!1),e;case 1:return e=Gc(e.type,!0),e;default:return""}}function Mu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gs:return"Fragment";case ms:return"Portal";case $u:return"Profiler";case af:return"StrictMode";case Lu:return"Suspense";case Fu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hg:return(e.displayName||"Context")+".Consumer";case Gg:return(e._context.displayName||"Context")+".Provider";case lf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cf:return t=e.displayName||null,t!==null?t:Mu(e.type)||"Memo";case Zr:t=e._payload,e=e._init;try{return Mu(e(t))}catch{}}return null}function tb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mu(t);case 8:return t===af?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rb(e){var t=Zg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yo(e){e._valueTracker||(e._valueTracker=rb(e))}function Kg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Zg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bu(e,t){var r=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=yn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jg(e,t){t=t.checked,t!=null&&of(e,"checked",t,!1)}function Uu(e,t){Jg(e,t);var r=yn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zu(e,t.type,r):t.hasOwnProperty("defaultValue")&&zu(e,t.type,yn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function zu(e,t,r){(t!=="number"||Ma(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Si=Array.isArray;function js(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+yn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(Si(r)){if(1<r.length)throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:yn(r)}}function Qg(e,t){var r=yn(t.value),n=yn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Jh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xo,Xg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xo=Xo||document.createElement("div"),Xo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nb=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(e){nb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Di[t]=Di[e]})});function ey(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Di.hasOwnProperty(e)&&Di[e]?(""+t).trim():t+"px"}function ty(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ey(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var sb=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gu(e,t){if(t){if(sb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Hu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=null;function uf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zu=null,Ds=null,Ps=null;function Qh(e){if(e=Lo(e)){if(typeof Zu!="function")throw Error($(280));var t=e.stateNode;t&&(t=$l(t),Zu(e.stateNode,e.type,t))}}function ry(e){Ds?Ps?Ps.push(e):Ps=[e]:Ds=e}function ny(){if(Ds){var e=Ds,t=Ps;if(Ps=Ds=null,Qh(e),t)for(e=0;e<t.length;e++)Qh(t[e])}}function sy(e,t){return e(t)}function iy(){}var Hc=!1;function oy(e,t,r){if(Hc)return e(t,r);Hc=!0;try{return sy(e,t,r)}finally{Hc=!1,(Ds!==null||Ps!==null)&&(iy(),ny())}}function Zi(e,t){var r=e.stateNode;if(r===null)return null;var n=$l(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var Ku=!1;if(Rr)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){Ku=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{Ku=!1}function ib(e,t,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Pi=!1,Ba=null,Ua=!1,Ju=null,ob={onError:function(e){Pi=!0,Ba=e}};function ab(e,t,r,n,s,i,o,a,l){Pi=!1,Ba=null,ib.apply(ob,arguments)}function lb(e,t,r,n,s,i,o,a,l){if(ab.apply(this,arguments),Pi){if(Pi){var c=Ba;Pi=!1,Ba=null}else throw Error($(198));Ua||(Ua=!0,Ju=c)}}function ns(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ay(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yh(e){if(ns(e)!==e)throw Error($(188))}function cb(e){var t=e.alternate;if(!t){if(t=ns(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Yh(s),e;if(i===n)return Yh(s),t;i=i.sibling}throw Error($(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function ly(e){return e=cb(e),e!==null?cy(e):null}function cy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cy(e);if(t!==null)return t;e=e.sibling}return null}var uy=Ft.unstable_scheduleCallback,Xh=Ft.unstable_cancelCallback,ub=Ft.unstable_shouldYield,db=Ft.unstable_requestPaint,$e=Ft.unstable_now,fb=Ft.unstable_getCurrentPriorityLevel,df=Ft.unstable_ImmediatePriority,dy=Ft.unstable_UserBlockingPriority,za=Ft.unstable_NormalPriority,hb=Ft.unstable_LowPriority,fy=Ft.unstable_IdlePriority,Il=null,wr=null;function pb(e){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Il,e,void 0,(e.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:yb,mb=Math.log,gb=Math.LN2;function yb(e){return e>>>=0,e===0?32:31-(mb(e)/gb|0)|0}var ea=64,ta=4194304;function ki(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Va(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ki(a):(i&=o,i!==0&&(n=ki(i)))}else o=r&~s,o!==0?n=ki(o):i!==0&&(n=ki(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-cr(t),s=1<<r,n|=e[r],t&=~s;return n}function vb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-cr(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=vb(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Qu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hy(){var e=ea;return ea<<=1,!(ea&4194240)&&(ea=64),e}function qc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ro(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cr(t),e[t]=r}function wb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-cr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ff(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-cr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var we=0;function py(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var my,hf,gy,yy,vy,Yu=!1,ra=[],on=null,an=null,ln=null,Ki=new Map,Ji=new Map,Qr=[],bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ep(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":Ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(t.pointerId)}}function ui(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Lo(t),t!==null&&hf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _b(e,t,r,n,s){switch(t){case"focusin":return on=ui(on,e,t,r,n,s),!0;case"dragenter":return an=ui(an,e,t,r,n,s),!0;case"mouseover":return ln=ui(ln,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ki.set(i,ui(Ki.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ji.set(i,ui(Ji.get(i)||null,e,t,r,n,s)),!0}return!1}function xy(e){var t=$n(e.target);if(t!==null){var r=ns(t);if(r!==null){if(t=r.tag,t===13){if(t=ay(r),t!==null){e.blockedOn=t,vy(e.priority,function(){gy(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);qu=n,r.target.dispatchEvent(n),qu=null}else return t=Lo(r),t!==null&&hf(t),e.blockedOn=r,!1;t.shift()}return!0}function tp(e,t,r){Ca(e)&&r.delete(t)}function Sb(){Yu=!1,on!==null&&Ca(on)&&(on=null),an!==null&&Ca(an)&&(an=null),ln!==null&&Ca(ln)&&(ln=null),Ki.forEach(tp),Ji.forEach(tp)}function di(e,t){e.blockedOn===t&&(e.blockedOn=null,Yu||(Yu=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,Sb)))}function Qi(e){function t(s){return di(s,e)}if(0<ra.length){di(ra[0],e);for(var r=1;r<ra.length;r++){var n=ra[r];n.blockedOn===e&&(n.blockedOn=null)}}for(on!==null&&di(on,e),an!==null&&di(an,e),ln!==null&&di(ln,e),Ki.forEach(t),Ji.forEach(t),r=0;r<Qr.length;r++)n=Qr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Qr.length&&(r=Qr[0],r.blockedOn===null);)xy(r),r.blockedOn===null&&Qr.shift()}var As=Ur.ReactCurrentBatchConfig,Wa=!0;function kb(e,t,r,n){var s=we,i=As.transition;As.transition=null;try{we=1,pf(e,t,r,n)}finally{we=s,As.transition=i}}function Eb(e,t,r,n){var s=we,i=As.transition;As.transition=null;try{we=4,pf(e,t,r,n)}finally{we=s,As.transition=i}}function pf(e,t,r,n){if(Wa){var s=Xu(e,t,r,n);if(s===null)nu(e,t,n,Ga,r),ep(e,n);else if(_b(s,e,t,r,n))n.stopPropagation();else if(ep(e,n),t&4&&-1<bb.indexOf(e)){for(;s!==null;){var i=Lo(s);if(i!==null&&my(i),i=Xu(e,t,r,n),i===null&&nu(e,t,n,Ga,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else nu(e,t,n,null,r)}}var Ga=null;function Xu(e,t,r,n){if(Ga=null,e=uf(n),e=$n(e),e!==null)if(t=ns(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ay(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ga=e,null}function wy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fb()){case df:return 1;case dy:return 4;case za:case hb:return 16;case fy:return 536870912;default:return 16}default:return 16}}var rn=null,mf=null,Na=null;function by(){if(Na)return Na;var e,t=mf,r=t.length,n,s="value"in rn?rn.value:rn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Na=s.slice(e,1<n?1-n:void 0)}function ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function na(){return!0}function rp(){return!1}function Bt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?na:rp,this.isPropagationStopped=rp,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),t}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gf=Bt(Xs),$o=Oe({},Xs,{view:0,detail:0}),Cb=Bt($o),Zc,Kc,fi,Tl=Oe({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(Zc=e.screenX-fi.screenX,Kc=e.screenY-fi.screenY):Kc=Zc=0,fi=e),Zc)},movementY:function(e){return"movementY"in e?e.movementY:Kc}}),np=Bt(Tl),Nb=Oe({},Tl,{dataTransfer:0}),jb=Bt(Nb),Db=Oe({},$o,{relatedTarget:0}),Jc=Bt(Db),Pb=Oe({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ab=Bt(Pb),Ib=Oe({},Xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tb=Bt(Ib),Ob=Oe({},Xs,{data:0}),sp=Bt(Ob),Rb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$b={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lb[e])?!!t[e]:!1}function yf(){return Fb}var Mb=Oe({},$o,{key:function(e){if(e.key){var t=Rb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$b[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yf,charCode:function(e){return e.type==="keypress"?ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bb=Bt(Mb),Ub=Oe({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ip=Bt(Ub),zb=Oe({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yf}),Vb=Bt(zb),Wb=Oe({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gb=Bt(Wb),Hb=Oe({},Tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qb=Bt(Hb),Zb=[9,13,27,32],vf=Rr&&"CompositionEvent"in window,Ai=null;Rr&&"documentMode"in document&&(Ai=document.documentMode);var Kb=Rr&&"TextEvent"in window&&!Ai,_y=Rr&&(!vf||Ai&&8<Ai&&11>=Ai),op=" ",ap=!1;function Sy(e,t){switch(e){case"keyup":return Zb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ky(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function Jb(e,t){switch(e){case"compositionend":return ky(t);case"keypress":return t.which!==32?null:(ap=!0,op);case"textInput":return e=t.data,e===op&&ap?null:e;default:return null}}function Qb(e,t){if(ys)return e==="compositionend"||!vf&&Sy(e,t)?(e=by(),Na=mf=rn=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _y&&t.locale!=="ko"?null:t.data;default:return null}}var Yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yb[e.type]:t==="textarea"}function Ey(e,t,r,n){ry(n),t=Ha(t,"onChange"),0<t.length&&(r=new gf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ii=null,Yi=null;function Xb(e){$y(e,0)}function Ol(e){var t=ws(e);if(Kg(t))return e}function e_(e,t){if(e==="change")return t}var Cy=!1;if(Rr){var Qc;if(Rr){var Yc="oninput"in document;if(!Yc){var cp=document.createElement("div");cp.setAttribute("oninput","return;"),Yc=typeof cp.oninput=="function"}Qc=Yc}else Qc=!1;Cy=Qc&&(!document.documentMode||9<document.documentMode)}function up(){Ii&&(Ii.detachEvent("onpropertychange",Ny),Yi=Ii=null)}function Ny(e){if(e.propertyName==="value"&&Ol(Yi)){var t=[];Ey(t,Yi,e,uf(e)),oy(Xb,t)}}function t_(e,t,r){e==="focusin"?(up(),Ii=t,Yi=r,Ii.attachEvent("onpropertychange",Ny)):e==="focusout"&&up()}function r_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(Yi)}function n_(e,t){if(e==="click")return Ol(t)}function s_(e,t){if(e==="input"||e==="change")return Ol(t)}function i_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fr=typeof Object.is=="function"?Object.is:i_;function Xi(e,t){if(fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ru.call(t,s)||!fr(e[s],t[s]))return!1}return!0}function dp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fp(e,t){var r=dp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dp(r)}}function jy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dy(){for(var e=window,t=Ma();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ma(e.document)}return t}function xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o_(e){var t=Dy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jy(r.ownerDocument.documentElement,r)){if(n!==null&&xf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=fp(r,i);var o=fp(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var a_=Rr&&"documentMode"in document&&11>=document.documentMode,vs=null,ed=null,Ti=null,td=!1;function hp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;td||vs==null||vs!==Ma(n)||(n=vs,"selectionStart"in n&&xf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ti&&Xi(Ti,n)||(Ti=n,n=Ha(ed,"onSelect"),0<n.length&&(t=new gf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vs)))}function sa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xs={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionend:sa("Transition","TransitionEnd")},Xc={},Py={};Rr&&(Py=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Rl(e){if(Xc[e])return Xc[e];if(!xs[e])return e;var t=xs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Py)return Xc[e]=t[r];return e}var Ay=Rl("animationend"),Iy=Rl("animationiteration"),Ty=Rl("animationstart"),Oy=Rl("transitionend"),Ry=new Map,pp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){Ry.set(e,t),rs(t,[e])}for(var eu=0;eu<pp.length;eu++){var tu=pp[eu],l_=tu.toLowerCase(),c_=tu[0].toUpperCase()+tu.slice(1);kn(l_,"on"+c_)}kn(Ay,"onAnimationEnd");kn(Iy,"onAnimationIteration");kn(Ty,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(Oy,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ei="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ei));function mp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lb(n,t,void 0,e),e.currentTarget=null}function $y(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;mp(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;mp(s,a,c),i=l}}}if(Ua)throw e=Ju,Ua=!1,Ju=null,e}function je(e,t){var r=t[od];r===void 0&&(r=t[od]=new Set);var n=e+"__bubble";r.has(n)||(Ly(t,e,2,!1),r.add(n))}function ru(e,t,r){var n=0;t&&(n|=4),Ly(r,e,n,t)}var ia="_reactListening"+Math.random().toString(36).slice(2);function eo(e){if(!e[ia]){e[ia]=!0,Wg.forEach(function(r){r!=="selectionchange"&&(u_.has(r)||ru(r,!1,e),ru(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ia]||(t[ia]=!0,ru("selectionchange",!1,t))}}function Ly(e,t,r,n){switch(wy(t)){case 1:var s=kb;break;case 4:s=Eb;break;default:s=pf}r=s.bind(null,t,r,e),s=void 0,!Ku||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function nu(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=$n(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}oy(function(){var c=i,u=uf(r),d=[];e:{var h=Ry.get(e);if(h!==void 0){var p=gf,x=e;switch(e){case"keypress":if(ja(r)===0)break e;case"keydown":case"keyup":p=Bb;break;case"focusin":x="focus",p=Jc;break;case"focusout":x="blur",p=Jc;break;case"beforeblur":case"afterblur":p=Jc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Vb;break;case Ay:case Iy:case Ty:p=Ab;break;case Oy:p=Gb;break;case"scroll":p=Cb;break;case"wheel":p=qb;break;case"copy":case"cut":case"paste":p=Tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ip}var m=(t&4)!==0,b=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var g=c,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=Zi(g,y),S!=null&&m.push(to(g,S,v)))),b)break;g=g.return}0<m.length&&(h=new p(h,x,null,r,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==qu&&(x=r.relatedTarget||r.fromElement)&&($n(x)||x[$r]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=c,x=x?$n(x):null,x!==null&&(b=ns(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(m=np,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=ip,S="onPointerLeave",y="onPointerEnter",g="pointer"),b=p==null?h:ws(p),v=x==null?h:ws(x),h=new m(S,g+"leave",p,r,u),h.target=b,h.relatedTarget=v,S=null,$n(u)===c&&(m=new m(y,g+"enter",x,r,u),m.target=v,m.relatedTarget=b,S=m),b=S,p&&x)t:{for(m=p,y=x,g=0,v=m;v;v=as(v))g++;for(v=0,S=y;S;S=as(S))v++;for(;0<g-v;)m=as(m),g--;for(;0<v-g;)y=as(y),v--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=as(m),y=as(y)}m=null}else m=null;p!==null&&gp(d,h,p,m,!1),x!==null&&b!==null&&gp(d,b,x,m,!0)}}e:{if(h=c?ws(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=e_;else if(lp(h))if(Cy)k=s_;else{k=r_;var j=t_}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=n_);if(k&&(k=k(e,c))){Ey(d,k,r,u);break e}j&&j(e,h,c),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&zu(h,"number",h.value)}switch(j=c?ws(c):window,e){case"focusin":(lp(j)||j.contentEditable==="true")&&(vs=j,ed=c,Ti=null);break;case"focusout":Ti=ed=vs=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,hp(d,r,u);break;case"selectionchange":if(a_)break;case"keydown":case"keyup":hp(d,r,u)}var P;if(vf)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ys?Sy(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(_y&&r.locale!=="ko"&&(ys||N!=="onCompositionStart"?N==="onCompositionEnd"&&ys&&(P=by()):(rn=u,mf="value"in rn?rn.value:rn.textContent,ys=!0)),j=Ha(c,N),0<j.length&&(N=new sp(N,e,null,r,u),d.push({event:N,listeners:j}),P?N.data=P:(P=ky(r),P!==null&&(N.data=P)))),(P=Kb?Jb(e,r):Qb(e,r))&&(c=Ha(c,"onBeforeInput"),0<c.length&&(u=new sp("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=P))}$y(d,t)})}function to(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ha(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zi(e,r),i!=null&&n.unshift(to(e,i,s)),i=Zi(e,t),i!=null&&n.push(to(e,i,s))),e=e.return}return n}function as(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gp(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Zi(r,i),l!=null&&o.unshift(to(r,l,a))):s||(l=Zi(r,i),l!=null&&o.push(to(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var d_=/\r\n?/g,f_=/\u0000|\uFFFD/g;function yp(e){return(typeof e=="string"?e:""+e).replace(d_,`
`).replace(f_,"")}function oa(e,t,r){if(t=yp(t),yp(e)!==t&&r)throw Error($(425))}function qa(){}var rd=null,nd=null;function sd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var id=typeof setTimeout=="function"?setTimeout:void 0,h_=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,p_=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(e){return vp.resolve(null).then(e).catch(m_)}:id;function m_(e){setTimeout(function(){throw e})}function su(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Qi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Qi(t)}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ei=Math.random().toString(36).slice(2),vr="__reactFiber$"+ei,ro="__reactProps$"+ei,$r="__reactContainer$"+ei,od="__reactEvents$"+ei,g_="__reactListeners$"+ei,y_="__reactHandles$"+ei;function $n(e){var t=e[vr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$r]||r[vr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xp(e);e!==null;){if(r=e[vr])return r;e=xp(e)}return t}e=r,r=e.parentNode}return null}function Lo(e){return e=e[vr]||e[$r],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function $l(e){return e[ro]||null}var ad=[],bs=-1;function En(e){return{current:e}}function De(e){0>bs||(e.current=ad[bs],ad[bs]=null,bs--)}function Ne(e,t){bs++,ad[bs]=e.current,e.current=t}var vn={},ct=En(vn),Ct=En(!1),Hn=vn;function Ls(e,t){var r=e.type.contextTypes;if(!r)return vn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Nt(e){return e=e.childContextTypes,e!=null}function Za(){De(Ct),De(ct)}function wp(e,t,r){if(ct.current!==vn)throw Error($(168));Ne(ct,t),Ne(Ct,r)}function Fy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error($(108,tb(e)||"Unknown",s));return Oe({},r,n)}function Ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vn,Hn=ct.current,Ne(ct,e),Ne(Ct,Ct.current),!0}function bp(e,t,r){var n=e.stateNode;if(!n)throw Error($(169));r?(e=Fy(e,t,Hn),n.__reactInternalMemoizedMergedChildContext=e,De(Ct),De(ct),Ne(ct,e)):De(Ct),Ne(Ct,r)}var Pr=null,Ll=!1,iu=!1;function My(e){Pr===null?Pr=[e]:Pr.push(e)}function v_(e){Ll=!0,My(e)}function Cn(){if(!iu&&Pr!==null){iu=!0;var e=0,t=we;try{var r=Pr;for(we=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Pr=null,Ll=!1}catch(s){throw Pr!==null&&(Pr=Pr.slice(e+1)),uy(df,Cn),s}finally{we=t,iu=!1}}return null}var _s=[],Ss=0,Ja=null,Qa=0,Wt=[],Gt=0,qn=null,Ir=1,Tr="";function An(e,t){_s[Ss++]=Qa,_s[Ss++]=Ja,Ja=e,Qa=t}function By(e,t,r){Wt[Gt++]=Ir,Wt[Gt++]=Tr,Wt[Gt++]=qn,qn=e;var n=Ir;e=Tr;var s=32-cr(n)-1;n&=~(1<<s),r+=1;var i=32-cr(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ir=1<<32-cr(t)+s|r<<s|n,Tr=i+e}else Ir=1<<i|r<<s|n,Tr=e}function wf(e){e.return!==null&&(An(e,1),By(e,1,0))}function bf(e){for(;e===Ja;)Ja=_s[--Ss],_s[Ss]=null,Qa=_s[--Ss],_s[Ss]=null;for(;e===qn;)qn=Wt[--Gt],Wt[Gt]=null,Tr=Wt[--Gt],Wt[Gt]=null,Ir=Wt[--Gt],Wt[Gt]=null}var Ot=null,It=null,Pe=!1,sr=null;function Uy(e,t){var r=Ht(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _p(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ot=e,It=cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ot=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qn!==null?{id:Ir,overflow:Tr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ht(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ot=e,It=null,!0):!1;default:return!1}}function ld(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cd(e){if(Pe){var t=It;if(t){var r=t;if(!_p(e,t)){if(ld(e))throw Error($(418));t=cn(r.nextSibling);var n=Ot;t&&_p(e,t)?Uy(n,r):(e.flags=e.flags&-4097|2,Pe=!1,Ot=e)}}else{if(ld(e))throw Error($(418));e.flags=e.flags&-4097|2,Pe=!1,Ot=e}}}function Sp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ot=e}function aa(e){if(e!==Ot)return!1;if(!Pe)return Sp(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sd(e.type,e.memoizedProps)),t&&(t=It)){if(ld(e))throw zy(),Error($(418));for(;t;)Uy(e,t),t=cn(t.nextSibling)}if(Sp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){It=cn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}It=null}}else It=Ot?cn(e.stateNode.nextSibling):null;return!0}function zy(){for(var e=It;e;)e=cn(e.nextSibling)}function Fs(){It=Ot=null,Pe=!1}function _f(e){sr===null?sr=[e]:sr.push(e)}var x_=Ur.ReactCurrentBatchConfig;function hi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function la(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kp(e){var t=e._init;return t(e._payload)}function Vy(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=hn(y,g),y.index=0,y.sibling=null,y}function i(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,g,v,S){return g===null||g.tag!==6?(g=fu(v,y.mode,S),g.return=y,g):(g=s(g,v),g.return=y,g)}function l(y,g,v,S){var k=v.type;return k===gs?u(y,g,v.props.children,S,v.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Zr&&kp(k)===g.type)?(S=s(g,v.props),S.ref=hi(y,g,v),S.return=y,S):(S=Ra(v.type,v.key,v.props,null,y.mode,S),S.ref=hi(y,g,v),S.return=y,S)}function c(y,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=hu(v,y.mode,S),g.return=y,g):(g=s(g,v.children||[]),g.return=y,g)}function u(y,g,v,S,k){return g===null||g.tag!==7?(g=zn(v,y.mode,S,k),g.return=y,g):(g=s(g,v),g.return=y,g)}function d(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=fu(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qo:return v=Ra(g.type,g.key,g.props,null,y.mode,v),v.ref=hi(y,null,g),v.return=y,v;case ms:return g=hu(g,y.mode,v),g.return=y,g;case Zr:var S=g._init;return d(y,S(g._payload),v)}if(Si(g)||li(g))return g=zn(g,y.mode,v,null),g.return=y,g;la(y,g)}return null}function h(y,g,v,S){var k=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(y,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qo:return v.key===k?l(y,g,v,S):null;case ms:return v.key===k?c(y,g,v,S):null;case Zr:return k=v._init,h(y,g,k(v._payload),S)}if(Si(v)||li(v))return k!==null?null:u(y,g,v,S,null);la(y,v)}return null}function p(y,g,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,a(g,y,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qo:return y=y.get(S.key===null?v:S.key)||null,l(g,y,S,k);case ms:return y=y.get(S.key===null?v:S.key)||null,c(g,y,S,k);case Zr:var j=S._init;return p(y,g,v,j(S._payload),k)}if(Si(S)||li(S))return y=y.get(v)||null,u(g,y,S,k,null);la(g,S)}return null}function x(y,g,v,S){for(var k=null,j=null,P=g,N=g=0,A=null;P!==null&&N<v.length;N++){P.index>N?(A=P,P=null):A=P.sibling;var O=h(y,P,v[N],S);if(O===null){P===null&&(P=A);break}e&&P&&O.alternate===null&&t(y,P),g=i(O,g,N),j===null?k=O:j.sibling=O,j=O,P=A}if(N===v.length)return r(y,P),Pe&&An(y,N),k;if(P===null){for(;N<v.length;N++)P=d(y,v[N],S),P!==null&&(g=i(P,g,N),j===null?k=P:j.sibling=P,j=P);return Pe&&An(y,N),k}for(P=n(y,P);N<v.length;N++)A=p(P,y,N,v[N],S),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?N:A.key),g=i(A,g,N),j===null?k=A:j.sibling=A,j=A);return e&&P.forEach(function(X){return t(y,X)}),Pe&&An(y,N),k}function m(y,g,v,S){var k=li(v);if(typeof k!="function")throw Error($(150));if(v=k.call(v),v==null)throw Error($(151));for(var j=k=null,P=g,N=g=0,A=null,O=v.next();P!==null&&!O.done;N++,O=v.next()){P.index>N?(A=P,P=null):A=P.sibling;var X=h(y,P,O.value,S);if(X===null){P===null&&(P=A);break}e&&P&&X.alternate===null&&t(y,P),g=i(X,g,N),j===null?k=X:j.sibling=X,j=X,P=A}if(O.done)return r(y,P),Pe&&An(y,N),k;if(P===null){for(;!O.done;N++,O=v.next())O=d(y,O.value,S),O!==null&&(g=i(O,g,N),j===null?k=O:j.sibling=O,j=O);return Pe&&An(y,N),k}for(P=n(y,P);!O.done;N++,O=v.next())O=p(P,y,N,O.value,S),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?N:O.key),g=i(O,g,N),j===null?k=O:j.sibling=O,j=O);return e&&P.forEach(function(R){return t(y,R)}),Pe&&An(y,N),k}function b(y,g,v,S){if(typeof v=="object"&&v!==null&&v.type===gs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Qo:e:{for(var k=v.key,j=g;j!==null;){if(j.key===k){if(k=v.type,k===gs){if(j.tag===7){r(y,j.sibling),g=s(j,v.props.children),g.return=y,y=g;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Zr&&kp(k)===j.type){r(y,j.sibling),g=s(j,v.props),g.ref=hi(y,j,v),g.return=y,y=g;break e}r(y,j);break}else t(y,j);j=j.sibling}v.type===gs?(g=zn(v.props.children,y.mode,S,v.key),g.return=y,y=g):(S=Ra(v.type,v.key,v.props,null,y.mode,S),S.ref=hi(y,g,v),S.return=y,y=S)}return o(y);case ms:e:{for(j=v.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(y,g.sibling),g=s(g,v.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=hu(v,y.mode,S),g.return=y,y=g}return o(y);case Zr:return j=v._init,b(y,g,j(v._payload),S)}if(Si(v))return x(y,g,v,S);if(li(v))return m(y,g,v,S);la(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(y,g.sibling),g=s(g,v),g.return=y,y=g):(r(y,g),g=fu(v,y.mode,S),g.return=y,y=g),o(y)):r(y,g)}return b}var Ms=Vy(!0),Wy=Vy(!1),Ya=En(null),Xa=null,ks=null,Sf=null;function kf(){Sf=ks=Xa=null}function Ef(e){var t=Ya.current;De(Ya),e._currentValue=t}function ud(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Is(e,t){Xa=e,Sf=ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Et=!0),e.firstContext=null)}function Qt(e){var t=e._currentValue;if(Sf!==e)if(e={context:e,memoizedValue:t,next:null},ks===null){if(Xa===null)throw Error($(308));ks=e,Xa.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ln=null;function Cf(e){Ln===null?Ln=[e]:Ln.push(e)}function Gy(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Cf(t)):(r.next=s.next,s.next=r),t.interleaved=r,Lr(e,n)}function Lr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Kr=!1;function Nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function un(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ve&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Lr(e,r)}return s=n.interleaved,s===null?(t.next=t,Cf(n)):(t.next=s.next,s.next=t),n.interleaved=t,Lr(e,r)}function Da(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ff(e,r)}}function Ep(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function el(e,t,r,n){var s=e.updateQueue;Kr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,m=a;switch(h=t,p=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){d=x.call(p,d,h);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,h=typeof x=="function"?x.call(p,d,h):x,h==null)break e;d=Oe({},d,h);break e;case 2:Kr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Kn|=o,e.lanes=o,e.memoizedState=d}}function Cp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error($(191,s));s.call(n)}}}var Fo={},br=En(Fo),no=En(Fo),so=En(Fo);function Fn(e){if(e===Fo)throw Error($(174));return e}function jf(e,t){switch(Ne(so,t),Ne(no,e),Ne(br,Fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wu(t,e)}De(br),Ne(br,t)}function Bs(){De(br),De(no),De(so)}function qy(e){Fn(so.current);var t=Fn(br.current),r=Wu(t,e.type);t!==r&&(Ne(no,e),Ne(br,r))}function Df(e){no.current===e&&(De(br),De(no))}var Ie=En(0);function tl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ou=[];function Pf(){for(var e=0;e<ou.length;e++)ou[e]._workInProgressVersionPrimary=null;ou.length=0}var Pa=Ur.ReactCurrentDispatcher,au=Ur.ReactCurrentBatchConfig,Zn=0,Te=null,We=null,Ke=null,rl=!1,Oi=!1,io=0,w_=0;function it(){throw Error($(321))}function Af(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!fr(e[r],t[r]))return!1;return!0}function If(e,t,r,n,s,i){if(Zn=i,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pa.current=e===null||e.memoizedState===null?k_:E_,e=r(n,s),Oi){i=0;do{if(Oi=!1,io=0,25<=i)throw Error($(301));i+=1,Ke=We=null,t.updateQueue=null,Pa.current=C_,e=r(n,s)}while(Oi)}if(Pa.current=nl,t=We!==null&&We.next!==null,Zn=0,Ke=We=Te=null,rl=!1,t)throw Error($(300));return e}function Tf(){var e=io!==0;return io=0,e}function gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Te.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Yt(){if(We===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ke===null?Te.memoizedState:Ke.next;if(t!==null)Ke=t,We=e;else{if(e===null)throw Error($(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ke===null?Te.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function oo(e,t){return typeof t=="function"?t(e):t}function lu(e){var t=Yt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=We,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Zn&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,Te.lanes|=u,Kn|=u}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,fr(n,t.memoizedState)||(Et=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Te.lanes|=i,Kn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cu(e){var t=Yt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);fr(i,t.memoizedState)||(Et=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Zy(){}function Ky(e,t){var r=Te,n=Yt(),s=t(),i=!fr(n.memoizedState,s);if(i&&(n.memoizedState=s,Et=!0),n=n.queue,Of(Yy.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,ao(9,Qy.bind(null,r,n,s,t),void 0,null),Je===null)throw Error($(349));Zn&30||Jy(r,t,s)}return s}function Jy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Qy(e,t,r,n){t.value=r,t.getSnapshot=n,Xy(t)&&ev(e)}function Yy(e,t,r){return r(function(){Xy(t)&&ev(e)})}function Xy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fr(e,r)}catch{return!0}}function ev(e){var t=Lr(e,1);t!==null&&ur(t,e,1,-1)}function Np(e){var t=gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e},t.queue=e,e=e.dispatch=S_.bind(null,Te,e),[t.memoizedState,e]}function ao(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tv(){return Yt().memoizedState}function Aa(e,t,r,n){var s=gr();Te.flags|=e,s.memoizedState=ao(1|t,r,void 0,n===void 0?null:n)}function Fl(e,t,r,n){var s=Yt();n=n===void 0?null:n;var i=void 0;if(We!==null){var o=We.memoizedState;if(i=o.destroy,n!==null&&Af(n,o.deps)){s.memoizedState=ao(t,r,i,n);return}}Te.flags|=e,s.memoizedState=ao(1|t,r,i,n)}function jp(e,t){return Aa(8390656,8,e,t)}function Of(e,t){return Fl(2048,8,e,t)}function rv(e,t){return Fl(4,2,e,t)}function nv(e,t){return Fl(4,4,e,t)}function sv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iv(e,t,r){return r=r!=null?r.concat([e]):null,Fl(4,4,sv.bind(null,t,e),r)}function Rf(){}function ov(e,t){var r=Yt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Af(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function av(e,t){var r=Yt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Af(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function lv(e,t,r){return Zn&21?(fr(r,t)||(r=hy(),Te.lanes|=r,Kn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Et=!0),e.memoizedState=r)}function b_(e,t){var r=we;we=r!==0&&4>r?r:4,e(!0);var n=au.transition;au.transition={};try{e(!1),t()}finally{we=r,au.transition=n}}function cv(){return Yt().memoizedState}function __(e,t,r){var n=fn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uv(e))dv(t,r);else if(r=Gy(e,t,r,n),r!==null){var s=gt();ur(r,e,n,s),fv(r,t,n)}}function S_(e,t,r){var n=fn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uv(e))dv(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,fr(a,o)){var l=t.interleaved;l===null?(s.next=s,Cf(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Gy(e,t,s,n),r!==null&&(s=gt(),ur(r,e,n,s),fv(r,t,n))}}function uv(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function dv(e,t){Oi=rl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ff(e,r)}}var nl={readContext:Qt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},k_={readContext:Qt,useCallback:function(e,t){return gr().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:jp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Aa(4194308,4,sv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var r=gr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=gr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=__.bind(null,Te,e),[n.memoizedState,e]},useRef:function(e){var t=gr();return e={current:e},t.memoizedState=e},useState:Np,useDebugValue:Rf,useDeferredValue:function(e){return gr().memoizedState=e},useTransition:function(){var e=Np(!1),t=e[0];return e=b_.bind(null,e[1]),gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Te,s=gr();if(Pe){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),Je===null)throw Error($(349));Zn&30||Jy(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,jp(Yy.bind(null,n,i,e),[e]),n.flags|=2048,ao(9,Qy.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=gr(),t=Je.identifierPrefix;if(Pe){var r=Tr,n=Ir;r=(n&~(1<<32-cr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=io++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=w_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},E_={readContext:Qt,useCallback:ov,useContext:Qt,useEffect:Of,useImperativeHandle:iv,useInsertionEffect:rv,useLayoutEffect:nv,useMemo:av,useReducer:lu,useRef:tv,useState:function(){return lu(oo)},useDebugValue:Rf,useDeferredValue:function(e){var t=Yt();return lv(t,We.memoizedState,e)},useTransition:function(){var e=lu(oo)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:Zy,useSyncExternalStore:Ky,useId:cv,unstable_isNewReconciler:!1},C_={readContext:Qt,useCallback:ov,useContext:Qt,useEffect:Of,useImperativeHandle:iv,useInsertionEffect:rv,useLayoutEffect:nv,useMemo:av,useReducer:cu,useRef:tv,useState:function(){return cu(oo)},useDebugValue:Rf,useDeferredValue:function(e){var t=Yt();return We===null?t.memoizedState=e:lv(t,We.memoizedState,e)},useTransition:function(){var e=cu(oo)[0],t=Yt().memoizedState;return[e,t]},useMutableSource:Zy,useSyncExternalStore:Ky,useId:cv,unstable_isNewReconciler:!1};function tr(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function dd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ml={isMounted:function(e){return(e=e._reactInternals)?ns(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gt(),s=fn(e),i=Or(n,s);i.payload=t,r!=null&&(i.callback=r),t=un(e,i,s),t!==null&&(ur(t,e,s,n),Da(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gt(),s=fn(e),i=Or(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=un(e,i,s),t!==null&&(ur(t,e,s,n),Da(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gt(),n=fn(e),s=Or(r,n);s.tag=2,t!=null&&(s.callback=t),t=un(e,s,n),t!==null&&(ur(t,e,n,r),Da(t,e,n))}};function Dp(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Xi(r,n)||!Xi(s,i):!0}function hv(e,t,r){var n=!1,s=vn,i=t.contextType;return typeof i=="object"&&i!==null?i=Qt(i):(s=Nt(t)?Hn:ct.current,n=t.contextTypes,i=(n=n!=null)?Ls(e,s):vn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ml,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Pp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ml.enqueueReplaceState(t,t.state,null)}function fd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Nf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Qt(i):(i=Nt(t)?Hn:ct.current,s.context=Ls(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(dd(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ml.enqueueReplaceState(s,s.state,null),el(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Us(e,t){try{var r="",n=t;do r+=eb(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function uu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function hd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var N_=typeof WeakMap=="function"?WeakMap:Map;function pv(e,t,r){r=Or(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){il||(il=!0,Sd=n),hd(e,t)},r}function mv(e,t,r){r=Or(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){hd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){hd(e,t),typeof n!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ap(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new N_;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=U_.bind(null,e,t,r),t.then(e,e))}function Ip(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tp(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Or(-1,1),t.tag=2,un(r,t,1))),r.lanes|=1),e)}var j_=Ur.ReactCurrentOwner,Et=!1;function ht(e,t,r,n){t.child=e===null?Wy(t,null,r,n):Ms(t,e.child,r,n)}function Op(e,t,r,n,s){r=r.render;var i=t.ref;return Is(t,s),n=If(e,t,r,n,i,s),r=Tf(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fr(e,t,s)):(Pe&&r&&wf(t),t.flags|=1,ht(e,t,n,s),t.child)}function Rp(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Vf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,gv(e,t,i,n,s)):(e=Ra(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xi,r(o,n)&&e.ref===t.ref)return Fr(e,t,s)}return t.flags|=1,e=hn(i,n),e.ref=t.ref,e.return=t,t.child=e}function gv(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Xi(i,n)&&e.ref===t.ref)if(Et=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Et=!0);else return t.lanes=e.lanes,Fr(e,t,s)}return pd(e,t,r,n,s)}function yv(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Cs,At),At|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Cs,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ne(Cs,At),At|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ne(Cs,At),At|=n;return ht(e,t,s,r),t.child}function vv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function pd(e,t,r,n,s){var i=Nt(r)?Hn:ct.current;return i=Ls(t,i),Is(t,s),r=If(e,t,r,n,i,s),n=Tf(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Fr(e,t,s)):(Pe&&n&&wf(t),t.flags|=1,ht(e,t,r,s),t.child)}function $p(e,t,r,n,s){if(Nt(r)){var i=!0;Ka(t)}else i=!1;if(Is(t,s),t.stateNode===null)Ia(e,t),hv(t,r,n),fd(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Qt(c):(c=Nt(r)?Hn:ct.current,c=Ls(t,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Pp(t,o,n,c),Kr=!1;var h=t.memoizedState;o.state=h,el(t,n,o,s),l=t.memoizedState,a!==n||h!==l||Ct.current||Kr?(typeof u=="function"&&(dd(t,r,u,n),l=t.memoizedState),(a=Kr||Dp(t,r,a,n,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Hy(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:tr(t.type,a),o.props=c,d=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Qt(l):(l=Nt(r)?Hn:ct.current,l=Ls(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Pp(t,o,n,l),Kr=!1,h=t.memoizedState,o.state=h,el(t,n,o,s);var x=t.memoizedState;a!==d||h!==x||Ct.current||Kr?(typeof p=="function"&&(dd(t,r,p,n),x=t.memoizedState),(c=Kr||Dp(t,r,c,n,h,x,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return md(e,t,r,n,i,s)}function md(e,t,r,n,s,i){vv(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&bp(t,r,!1),Fr(e,t,i);n=t.stateNode,j_.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ms(t,e.child,null,i),t.child=Ms(t,null,a,i)):ht(e,t,a,i),t.memoizedState=n.state,s&&bp(t,r,!0),t.child}function xv(e){var t=e.stateNode;t.pendingContext?wp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wp(e,t.context,!1),jf(e,t.containerInfo)}function Lp(e,t,r,n,s){return Fs(),_f(s),t.flags|=256,ht(e,t,r,n),t.child}var gd={dehydrated:null,treeContext:null,retryLane:0};function yd(e){return{baseLanes:e,cachePool:null,transitions:null}}function wv(e,t,r){var n=t.pendingProps,s=Ie.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ne(Ie,s&1),e===null)return cd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=zl(o,n,0,null),e=zn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=yd(r),t.memoizedState=gd,e):$f(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return D_(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=hn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=hn(a,i):(i=zn(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?yd(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=gd,n}return i=e.child,e=i.sibling,n=hn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $f(e,t){return t=zl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ca(e,t,r,n){return n!==null&&_f(n),Ms(t,e.child,null,r),e=$f(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function D_(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=uu(Error($(422))),ca(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=zl({mode:"visible",children:n.children},s,0,null),i=zn(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ms(t,e.child,null,o),t.child.memoizedState=yd(o),t.memoizedState=gd,i);if(!(t.mode&1))return ca(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error($(419)),n=uu(i,n,void 0),ca(e,t,o,n)}if(a=(o&e.childLanes)!==0,Et||a){if(n=Je,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lr(e,s),ur(n,e,s,-1))}return zf(),n=uu(Error($(421))),ca(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=z_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,It=cn(s.nextSibling),Ot=t,Pe=!0,sr=null,e!==null&&(Wt[Gt++]=Ir,Wt[Gt++]=Tr,Wt[Gt++]=qn,Ir=e.id,Tr=e.overflow,qn=t),t=$f(t,n.children),t.flags|=4096,t)}function Fp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ud(e.return,t,r)}function du(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function bv(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ht(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fp(e,r,t);else if(e.tag===19)Fp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ne(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&tl(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),du(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&tl(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}du(t,!0,r,null,i);break;case"together":du(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ia(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=hn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function P_(e,t,r){switch(t.tag){case 3:xv(t),Fs();break;case 5:qy(t);break;case 1:Nt(t.type)&&Ka(t);break;case 4:jf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ne(Ya,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ne(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?wv(e,t,r):(Ne(Ie,Ie.current&1),e=Fr(e,t,r),e!==null?e.sibling:null);Ne(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,yv(e,t,r)}return Fr(e,t,r)}var _v,vd,Sv,kv;_v=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vd=function(){};Sv=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Fn(br.current);var i=null;switch(r){case"input":s=Bu(e,s),n=Bu(e,n),i=[];break;case"select":s=Oe({},s,{value:void 0}),n=Oe({},n,{value:void 0}),i=[];break;case"textarea":s=Vu(e,s),n=Vu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qa)}Gu(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&je("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};kv=function(e,t,r,n){r!==n&&(t.flags|=4)};function pi(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function A_(e,t,r){var n=t.pendingProps;switch(bf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return Nt(t.type)&&Za(),ot(t),null;case 3:return n=t.stateNode,Bs(),De(Ct),De(ct),Pf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(aa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sr!==null&&(Cd(sr),sr=null))),vd(e,t),ot(t),null;case 5:Df(t);var s=Fn(so.current);if(r=t.type,e!==null&&t.stateNode!=null)Sv(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($(166));return ot(t),null}if(e=Fn(br.current),aa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[vr]=t,n[ro]=i,e=(t.mode&1)!==0,r){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(s=0;s<Ei.length;s++)je(Ei[s],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":qh(n,i),je("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},je("invalid",n);break;case"textarea":Kh(n,i),je("invalid",n)}Gu(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&oa(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&oa(n.textContent,a,e),s=["children",""+a]):Hi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",n)}switch(r){case"input":Yo(n),Zh(n,i,!0);break;case"textarea":Yo(n),Jh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=qa)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[vr]=t,e[ro]=n,_v(e,t,!1,!1),t.stateNode=e;e:{switch(o=Hu(r,n),r){case"dialog":je("cancel",e),je("close",e),s=n;break;case"iframe":case"object":case"embed":je("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ei.length;s++)je(Ei[s],e);s=n;break;case"source":je("error",e),s=n;break;case"img":case"image":case"link":je("error",e),je("load",e),s=n;break;case"details":je("toggle",e),s=n;break;case"input":qh(e,n),s=Bu(e,n),je("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Oe({},n,{value:void 0}),je("invalid",e);break;case"textarea":Kh(e,n),s=Vu(e,n),je("invalid",e);break;default:s=n}Gu(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ty(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xg(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&qi(e,l):typeof l=="number"&&qi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Hi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&je("scroll",e):l!=null&&of(e,i,l,o))}switch(r){case"input":Yo(e),Zh(e,n,!1);break;case"textarea":Yo(e),Jh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+yn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?js(e,!!n.multiple,i,!1):n.defaultValue!=null&&js(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=qa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)kv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));if(r=Fn(so.current),Fn(br.current),aa(t)){if(n=t.stateNode,r=t.memoizedProps,n[vr]=t,(i=n.nodeValue!==r)&&(e=Ot,e!==null))switch(e.tag){case 3:oa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oa(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vr]=t,t.stateNode=n}return ot(t),null;case 13:if(De(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&It!==null&&t.mode&1&&!(t.flags&128))zy(),Fs(),t.flags|=98560,i=!1;else if(i=aa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[vr]=t}else Fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),i=!1}else sr!==null&&(Cd(sr),sr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?Ge===0&&(Ge=3):zf())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return Bs(),vd(e,t),e===null&&eo(t.stateNode.containerInfo),ot(t),null;case 10:return Ef(t.type._context),ot(t),null;case 17:return Nt(t.type)&&Za(),ot(t),null;case 19:if(De(Ie),i=t.memoizedState,i===null)return ot(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)pi(i,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=tl(e),o!==null){for(t.flags|=128,pi(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ne(Ie,Ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&$e()>zs&&(t.flags|=128,n=!0,pi(i,!1),t.lanes=4194304)}else{if(!n)if(e=tl(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return ot(t),null}else 2*$e()-i.renderingStartTime>zs&&r!==1073741824&&(t.flags|=128,n=!0,pi(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,r=Ie.current,Ne(Ie,n?r&1|2:r&1),t):(ot(t),null);case 22:case 23:return Uf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?At&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function I_(e,t){switch(bf(t),t.tag){case 1:return Nt(t.type)&&Za(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bs(),De(Ct),De(ct),Pf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Df(t),null;case 13:if(De(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Ie),null;case 4:return Bs(),null;case 10:return Ef(t.type._context),null;case 22:case 23:return Uf(),null;case 24:return null;default:return null}}var ua=!1,lt=!1,T_=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Es(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Re(e,t,n)}else r.current=null}function xd(e,t,r){try{r()}catch(n){Re(e,t,n)}}var Mp=!1;function O_(e,t){if(rd=Wa,e=Dy(),xf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++c===s&&(a=o),h===i&&++u===n&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(nd={focusedElem:e,selectionRange:r},Wa=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,b=x.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:tr(t.type,m),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(S){Re(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return x=Mp,Mp=!1,x}function Ri(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&xd(t,r,i)}s=s.next}while(s!==n)}}function Bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function wd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ev(e){var t=e.alternate;t!==null&&(e.alternate=null,Ev(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vr],delete t[ro],delete t[od],delete t[g_],delete t[y_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cv(e){return e.tag===5||e.tag===3||e.tag===4}function Bp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qa));else if(n!==4&&(e=e.child,e!==null))for(bd(e,t,r),e=e.sibling;e!==null;)bd(e,t,r),e=e.sibling}function _d(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_d(e,t,r),e=e.sibling;e!==null;)_d(e,t,r),e=e.sibling}var et=null,rr=!1;function Gr(e,t,r){for(r=r.child;r!==null;)Nv(e,t,r),r=r.sibling}function Nv(e,t,r){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Il,r)}catch{}switch(r.tag){case 5:lt||Es(r,t);case 6:var n=et,s=rr;et=null,Gr(e,t,r),et=n,rr=s,et!==null&&(rr?(e=et,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):et.removeChild(r.stateNode));break;case 18:et!==null&&(rr?(e=et,r=r.stateNode,e.nodeType===8?su(e.parentNode,r):e.nodeType===1&&su(e,r),Qi(e)):su(et,r.stateNode));break;case 4:n=et,s=rr,et=r.stateNode.containerInfo,rr=!0,Gr(e,t,r),et=n,rr=s;break;case 0:case 11:case 14:case 15:if(!lt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xd(r,t,o),s=s.next}while(s!==n)}Gr(e,t,r);break;case 1:if(!lt&&(Es(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Re(r,t,a)}Gr(e,t,r);break;case 21:Gr(e,t,r);break;case 22:r.mode&1?(lt=(n=lt)||r.memoizedState!==null,Gr(e,t,r),lt=n):Gr(e,t,r);break;default:Gr(e,t,r)}}function Up(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new T_),t.forEach(function(n){var s=V_.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function er(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:et=a.stateNode,rr=!1;break e;case 3:et=a.stateNode.containerInfo,rr=!0;break e;case 4:et=a.stateNode.containerInfo,rr=!0;break e}a=a.return}if(et===null)throw Error($(160));Nv(i,o,s),et=null,rr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Re(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jv(t,e),t=t.sibling}function jv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(er(t,e),pr(e),n&4){try{Ri(3,e,e.return),Bl(3,e)}catch(m){Re(e,e.return,m)}try{Ri(5,e,e.return)}catch(m){Re(e,e.return,m)}}break;case 1:er(t,e),pr(e),n&512&&r!==null&&Es(r,r.return);break;case 5:if(er(t,e),pr(e),n&512&&r!==null&&Es(r,r.return),e.flags&32){var s=e.stateNode;try{qi(s,"")}catch(m){Re(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Jg(s,i),Hu(a,o);var c=Hu(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?ty(s,d):u==="dangerouslySetInnerHTML"?Xg(s,d):u==="children"?qi(s,d):of(s,u,d,c)}switch(a){case"input":Uu(s,i);break;case"textarea":Qg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?js(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?js(s,!!i.multiple,i.defaultValue,!0):js(s,!!i.multiple,i.multiple?[]:"",!1))}s[ro]=i}catch(m){Re(e,e.return,m)}}break;case 6:if(er(t,e),pr(e),n&4){if(e.stateNode===null)throw Error($(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){Re(e,e.return,m)}}break;case 3:if(er(t,e),pr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qi(t.containerInfo)}catch(m){Re(e,e.return,m)}break;case 4:er(t,e),pr(e);break;case 13:er(t,e),pr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Mf=$e())),n&4&&Up(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(lt=(c=lt)||u,er(t,e),lt=c):er(t,e),pr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Z=e,u=e.child;u!==null;){for(d=Z=u;Z!==null;){switch(h=Z,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ri(4,h,h.return);break;case 1:Es(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){Re(n,r,m)}}break;case 5:Es(h,h.return);break;case 22:if(h.memoizedState!==null){Vp(d);continue}}p!==null?(p.return=h,Z=p):Vp(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ey("display",o))}catch(m){Re(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Re(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:er(t,e),pr(e),n&4&&Up(e);break;case 21:break;default:er(t,e),pr(e)}}function pr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Cv(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(qi(s,""),n.flags&=-33);var i=Bp(e);_d(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Bp(e);bd(e,a,o);break;default:throw Error($(161))}}catch(l){Re(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function R_(e,t,r){Z=e,Dv(e)}function Dv(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ua;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||lt;a=ua;var c=lt;if(ua=o,(lt=l)&&!c)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?Wp(s):l!==null?(l.return=o,Z=l):Wp(s);for(;i!==null;)Z=i,Dv(i),i=i.sibling;Z=s,ua=a,lt=c}zp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):zp(e)}}function zp(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lt||Bl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!lt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:tr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Cp(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Cp(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Qi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}lt||t.flags&512&&wd(t)}catch(h){Re(t,t.return,h)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Vp(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Wp(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bl(4,t)}catch(l){Re(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Re(t,s,l)}}var i=t.return;try{wd(t)}catch(l){Re(t,i,l)}break;case 5:var o=t.return;try{wd(t)}catch(l){Re(t,o,l)}}}catch(l){Re(t,t.return,l)}if(t===e){Z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Z=a;break}Z=t.return}}var $_=Math.ceil,sl=Ur.ReactCurrentDispatcher,Lf=Ur.ReactCurrentOwner,Zt=Ur.ReactCurrentBatchConfig,ve=0,Je=null,Ue=null,rt=0,At=0,Cs=En(0),Ge=0,lo=null,Kn=0,Ul=0,Ff=0,$i=null,St=null,Mf=0,zs=1/0,jr=null,il=!1,Sd=null,dn=null,da=!1,nn=null,ol=0,Li=0,kd=null,Ta=-1,Oa=0;function gt(){return ve&6?$e():Ta!==-1?Ta:Ta=$e()}function fn(e){return e.mode&1?ve&2&&rt!==0?rt&-rt:x_.transition!==null?(Oa===0&&(Oa=hy()),Oa):(e=we,e!==0||(e=window.event,e=e===void 0?16:wy(e.type)),e):1}function ur(e,t,r,n){if(50<Li)throw Li=0,kd=null,Error($(185));Ro(e,r,n),(!(ve&2)||e!==Je)&&(e===Je&&(!(ve&2)&&(Ul|=r),Ge===4&&Yr(e,rt)),jt(e,n),r===1&&ve===0&&!(t.mode&1)&&(zs=$e()+500,Ll&&Cn()))}function jt(e,t){var r=e.callbackNode;xb(e,t);var n=Va(e,e===Je?rt:0);if(n===0)r!==null&&Xh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Xh(r),t===1)e.tag===0?v_(Gp.bind(null,e)):My(Gp.bind(null,e)),p_(function(){!(ve&6)&&Cn()}),r=null;else{switch(py(n)){case 1:r=df;break;case 4:r=dy;break;case 16:r=za;break;case 536870912:r=fy;break;default:r=za}r=Lv(r,Pv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Pv(e,t){if(Ta=-1,Oa=0,ve&6)throw Error($(327));var r=e.callbackNode;if(Ts()&&e.callbackNode!==r)return null;var n=Va(e,e===Je?rt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=al(e,n);else{t=n;var s=ve;ve|=2;var i=Iv();(Je!==e||rt!==t)&&(jr=null,zs=$e()+500,Un(e,t));do try{M_();break}catch(a){Av(e,a)}while(!0);kf(),sl.current=i,ve=s,Ue!==null?t=0:(Je=null,rt=0,t=Ge)}if(t!==0){if(t===2&&(s=Qu(e),s!==0&&(n=s,t=Ed(e,s))),t===1)throw r=lo,Un(e,0),Yr(e,n),jt(e,$e()),r;if(t===6)Yr(e,n);else{if(s=e.current.alternate,!(n&30)&&!L_(s)&&(t=al(e,n),t===2&&(i=Qu(e),i!==0&&(n=i,t=Ed(e,i))),t===1))throw r=lo,Un(e,0),Yr(e,n),jt(e,$e()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error($(345));case 2:In(e,St,jr);break;case 3:if(Yr(e,n),(n&130023424)===n&&(t=Mf+500-$e(),10<t)){if(Va(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){gt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=id(In.bind(null,e,St,jr),t);break}In(e,St,jr);break;case 4:if(Yr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-cr(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$_(n/1960))-n,10<n){e.timeoutHandle=id(In.bind(null,e,St,jr),n);break}In(e,St,jr);break;case 5:In(e,St,jr);break;default:throw Error($(329))}}}return jt(e,$e()),e.callbackNode===r?Pv.bind(null,e):null}function Ed(e,t){var r=$i;return e.current.memoizedState.isDehydrated&&(Un(e,t).flags|=256),e=al(e,t),e!==2&&(t=St,St=r,t!==null&&Cd(t)),e}function Cd(e){St===null?St=e:St.push.apply(St,e)}function L_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!fr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yr(e,t){for(t&=~Ff,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-cr(t),n=1<<r;e[r]=-1,t&=~n}}function Gp(e){if(ve&6)throw Error($(327));Ts();var t=Va(e,0);if(!(t&1))return jt(e,$e()),null;var r=al(e,t);if(e.tag!==0&&r===2){var n=Qu(e);n!==0&&(t=n,r=Ed(e,n))}if(r===1)throw r=lo,Un(e,0),Yr(e,t),jt(e,$e()),r;if(r===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,St,jr),jt(e,$e()),null}function Bf(e,t){var r=ve;ve|=1;try{return e(t)}finally{ve=r,ve===0&&(zs=$e()+500,Ll&&Cn())}}function Jn(e){nn!==null&&nn.tag===0&&!(ve&6)&&Ts();var t=ve;ve|=1;var r=Zt.transition,n=we;try{if(Zt.transition=null,we=1,e)return e()}finally{we=n,Zt.transition=r,ve=t,!(ve&6)&&Cn()}}function Uf(){At=Cs.current,De(Cs)}function Un(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,h_(r)),Ue!==null)for(r=Ue.return;r!==null;){var n=r;switch(bf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Za();break;case 3:Bs(),De(Ct),De(ct),Pf();break;case 5:Df(n);break;case 4:Bs();break;case 13:De(Ie);break;case 19:De(Ie);break;case 10:Ef(n.type._context);break;case 22:case 23:Uf()}r=r.return}if(Je=e,Ue=e=hn(e.current,null),rt=At=t,Ge=0,lo=null,Ff=Ul=Kn=0,St=$i=null,Ln!==null){for(t=0;t<Ln.length;t++)if(r=Ln[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ln=null}return e}function Av(e,t){do{var r=Ue;try{if(kf(),Pa.current=nl,rl){for(var n=Te.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}rl=!1}if(Zn=0,Ke=We=Te=null,Oi=!1,io=0,Lf.current=null,r===null||r.return===null){Ge=1,lo=t,Ue=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Ip(o);if(p!==null){p.flags&=-257,Tp(p,o,a,i,t),p.mode&1&&Ap(i,c,t),t=p,l=c;var x=t.updateQueue;if(x===null){var m=new Set;m.add(l),t.updateQueue=m}else x.add(l);break e}else{if(!(t&1)){Ap(i,c,t),zf();break e}l=Error($(426))}}else if(Pe&&a.mode&1){var b=Ip(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Tp(b,o,a,i,t),_f(Us(l,a));break e}}i=l=Us(l,a),Ge!==4&&(Ge=2),$i===null?$i=[i]:$i.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=pv(i,l,t);Ep(i,y);break e;case 1:a=l;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(dn===null||!dn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=mv(i,a,t);Ep(i,S);break e}}i=i.return}while(i!==null)}Ov(r)}catch(k){t=k,Ue===r&&r!==null&&(Ue=r=r.return);continue}break}while(!0)}function Iv(){var e=sl.current;return sl.current=nl,e===null?nl:e}function zf(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Je===null||!(Kn&268435455)&&!(Ul&268435455)||Yr(Je,rt)}function al(e,t){var r=ve;ve|=2;var n=Iv();(Je!==e||rt!==t)&&(jr=null,Un(e,t));do try{F_();break}catch(s){Av(e,s)}while(!0);if(kf(),ve=r,sl.current=n,Ue!==null)throw Error($(261));return Je=null,rt=0,Ge}function F_(){for(;Ue!==null;)Tv(Ue)}function M_(){for(;Ue!==null&&!ub();)Tv(Ue)}function Tv(e){var t=$v(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?Ov(e):Ue=t,Lf.current=null}function Ov(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=I_(r,t),r!==null){r.flags&=32767,Ue=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Ue=null;return}}else if(r=A_(r,t,At),r!==null){Ue=r;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Ge===0&&(Ge=5)}function In(e,t,r){var n=we,s=Zt.transition;try{Zt.transition=null,we=1,B_(e,t,r,n)}finally{Zt.transition=s,we=n}return null}function B_(e,t,r,n){do Ts();while(nn!==null);if(ve&6)throw Error($(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(wb(e,i),e===Je&&(Ue=Je=null,rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||da||(da=!0,Lv(za,function(){return Ts(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Zt.transition,Zt.transition=null;var o=we;we=1;var a=ve;ve|=4,Lf.current=null,O_(e,r),jv(r,e),o_(nd),Wa=!!rd,nd=rd=null,e.current=r,R_(r),db(),ve=a,we=o,Zt.transition=i}else e.current=r;if(da&&(da=!1,nn=e,ol=s),i=e.pendingLanes,i===0&&(dn=null),pb(r.stateNode),jt(e,$e()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(il)throw il=!1,e=Sd,Sd=null,e;return ol&1&&e.tag!==0&&Ts(),i=e.pendingLanes,i&1?e===kd?Li++:(Li=0,kd=e):Li=0,Cn(),null}function Ts(){if(nn!==null){var e=py(ol),t=Zt.transition,r=we;try{if(Zt.transition=null,we=16>e?16:e,nn===null)var n=!1;else{if(e=nn,nn=null,ol=0,ve&6)throw Error($(331));var s=ve;for(ve|=4,Z=e.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:Ri(8,u,i)}var d=u.child;if(d!==null)d.return=u,Z=d;else for(;Z!==null;){u=Z;var h=u.sibling,p=u.return;if(Ev(u),u===c){Z=null;break}if(h!==null){h.return=p,Z=h;break}Z=p}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ri(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Z=y;break e}Z=i.return}}var g=e.current;for(Z=g;Z!==null;){o=Z;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Z=v;else e:for(o=g;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bl(9,a)}}catch(k){Re(a,a.return,k)}if(a===o){Z=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Z=S;break e}Z=a.return}}if(ve=s,Cn(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Il,e)}catch{}n=!0}return n}finally{we=r,Zt.transition=t}}return!1}function Hp(e,t,r){t=Us(r,t),t=pv(e,t,1),e=un(e,t,1),t=gt(),e!==null&&(Ro(e,1,t),jt(e,t))}function Re(e,t,r){if(e.tag===3)Hp(e,e,r);else for(;t!==null;){if(t.tag===3){Hp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dn===null||!dn.has(n))){e=Us(r,e),e=mv(t,e,1),t=un(t,e,1),e=gt(),t!==null&&(Ro(t,1,e),jt(t,e));break}}t=t.return}}function U_(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gt(),e.pingedLanes|=e.suspendedLanes&r,Je===e&&(rt&r)===r&&(Ge===4||Ge===3&&(rt&130023424)===rt&&500>$e()-Mf?Un(e,0):Ff|=r),jt(e,t)}function Rv(e,t){t===0&&(e.mode&1?(t=ta,ta<<=1,!(ta&130023424)&&(ta=4194304)):t=1);var r=gt();e=Lr(e,t),e!==null&&(Ro(e,t,r),jt(e,r))}function z_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Rv(e,r)}function V_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(t),Rv(e,r)}var $v;$v=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ct.current)Et=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Et=!1,P_(e,t,r);Et=!!(e.flags&131072)}else Et=!1,Pe&&t.flags&1048576&&By(t,Qa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ia(e,t),e=t.pendingProps;var s=Ls(t,ct.current);Is(t,r),s=If(null,t,n,e,s,r);var i=Tf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(n)?(i=!0,Ka(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Nf(t),s.updater=Ml,t.stateNode=s,s._reactInternals=t,fd(t,n,e,r),t=md(null,t,n,!0,i,r)):(t.tag=0,Pe&&i&&wf(t),ht(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ia(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=G_(n),e=tr(n,e),s){case 0:t=pd(null,t,n,e,r);break e;case 1:t=$p(null,t,n,e,r);break e;case 11:t=Op(null,t,n,e,r);break e;case 14:t=Rp(null,t,n,tr(n.type,e),r);break e}throw Error($(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tr(n,s),pd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tr(n,s),$p(e,t,n,s,r);case 3:e:{if(xv(t),e===null)throw Error($(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Hy(e,t),el(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Us(Error($(423)),t),t=Lp(e,t,n,r,s);break e}else if(n!==s){s=Us(Error($(424)),t),t=Lp(e,t,n,r,s);break e}else for(It=cn(t.stateNode.containerInfo.firstChild),Ot=t,Pe=!0,sr=null,r=Wy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fs(),n===s){t=Fr(e,t,r);break e}ht(e,t,n,r)}t=t.child}return t;case 5:return qy(t),e===null&&cd(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,sd(n,s)?o=null:i!==null&&sd(n,i)&&(t.flags|=32),vv(e,t),ht(e,t,o,r),t.child;case 6:return e===null&&cd(t),null;case 13:return wv(e,t,r);case 4:return jf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ms(t,null,n,r):ht(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tr(n,s),Op(e,t,n,s,r);case 7:return ht(e,t,t.pendingProps,r),t.child;case 8:return ht(e,t,t.pendingProps.children,r),t.child;case 12:return ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ne(Ya,n._currentValue),n._currentValue=o,i!==null)if(fr(i.value,o)){if(i.children===s.children&&!Ct.current){t=Fr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Or(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ud(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ud(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ht(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Is(t,r),s=Qt(s),n=n(s),t.flags|=1,ht(e,t,n,r),t.child;case 14:return n=t.type,s=tr(n,t.pendingProps),s=tr(n.type,s),Rp(e,t,n,s,r);case 15:return gv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:tr(n,s),Ia(e,t),t.tag=1,Nt(n)?(e=!0,Ka(t)):e=!1,Is(t,r),hv(t,n,s),fd(t,n,s,r),md(null,t,n,!0,e,r);case 19:return bv(e,t,r);case 22:return yv(e,t,r)}throw Error($(156,t.tag))};function Lv(e,t){return uy(e,t)}function W_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,r,n){return new W_(e,t,r,n)}function Vf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function G_(e){if(typeof e=="function")return Vf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lf)return 11;if(e===cf)return 14}return 2}function hn(e,t){var r=e.alternate;return r===null?(r=Ht(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ra(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Vf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case gs:return zn(r.children,s,i,t);case af:o=8,s|=8;break;case $u:return e=Ht(12,r,t,s|2),e.elementType=$u,e.lanes=i,e;case Lu:return e=Ht(13,r,t,s),e.elementType=Lu,e.lanes=i,e;case Fu:return e=Ht(19,r,t,s),e.elementType=Fu,e.lanes=i,e;case qg:return zl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gg:o=10;break e;case Hg:o=9;break e;case lf:o=11;break e;case cf:o=14;break e;case Zr:o=16,n=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Ht(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function zn(e,t,r,n){return e=Ht(7,e,n,t),e.lanes=r,e}function zl(e,t,r,n){return e=Ht(22,e,n,t),e.elementType=qg,e.lanes=r,e.stateNode={isHidden:!1},e}function fu(e,t,r){return e=Ht(6,e,null,t),e.lanes=r,e}function hu(e,t,r){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function H_(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qc(0),this.expirationTimes=qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wf(e,t,r,n,s,i,o,a,l){return e=new H_(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ht(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nf(i),e}function q_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Fv(e){if(!e)return vn;e=e._reactInternals;e:{if(ns(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var r=e.type;if(Nt(r))return Fy(e,r,t)}return t}function Mv(e,t,r,n,s,i,o,a,l){return e=Wf(r,n,!0,e,s,i,o,a,l),e.context=Fv(null),r=e.current,n=gt(),s=fn(r),i=Or(n,s),i.callback=t??null,un(r,i,s),e.current.lanes=s,Ro(e,s,n),jt(e,n),e}function Vl(e,t,r,n){var s=t.current,i=gt(),o=fn(s);return r=Fv(r),t.context===null?t.context=r:t.pendingContext=r,t=Or(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=un(s,t,o),e!==null&&(ur(e,s,o,i),Da(e,s,o)),o}function ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gf(e,t){qp(e,t),(e=e.alternate)&&qp(e,t)}function Z_(){return null}var Bv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hf(e){this._internalRoot=e}Wl.prototype.render=Hf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Vl(e,t,null,null)};Wl.prototype.unmount=Hf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jn(function(){Vl(null,e,null,null)}),t[$r]=null}};function Wl(e){this._internalRoot=e}Wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=yy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qr.length&&t!==0&&t<Qr[r].priority;r++);Qr.splice(r,0,e),r===0&&xy(e)}};function qf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zp(){}function K_(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ll(o);i.call(c)}}var o=Mv(t,n,e,0,null,!1,!1,"",Zp);return e._reactRootContainer=o,e[$r]=o.current,eo(e.nodeType===8?e.parentNode:e),Jn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=ll(l);a.call(c)}}var l=Wf(e,0,!1,null,null,!1,!1,"",Zp);return e._reactRootContainer=l,e[$r]=l.current,eo(e.nodeType===8?e.parentNode:e),Jn(function(){Vl(t,l,r,n)}),l}function Hl(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ll(o);a.call(l)}}Vl(t,o,e,s)}else o=K_(r,t,e,s,n);return ll(o)}my=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ki(t.pendingLanes);r!==0&&(ff(t,r|1),jt(t,$e()),!(ve&6)&&(zs=$e()+500,Cn()))}break;case 13:Jn(function(){var n=Lr(e,1);if(n!==null){var s=gt();ur(n,e,1,s)}}),Gf(e,1)}};hf=function(e){if(e.tag===13){var t=Lr(e,134217728);if(t!==null){var r=gt();ur(t,e,134217728,r)}Gf(e,134217728)}};gy=function(e){if(e.tag===13){var t=fn(e),r=Lr(e,t);if(r!==null){var n=gt();ur(r,e,t,n)}Gf(e,t)}};yy=function(){return we};vy=function(e,t){var r=we;try{return we=e,t()}finally{we=r}};Zu=function(e,t,r){switch(t){case"input":if(Uu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=$l(n);if(!s)throw Error($(90));Kg(n),Uu(n,s)}}}break;case"textarea":Qg(e,r);break;case"select":t=r.value,t!=null&&js(e,!!r.multiple,t,!1)}};sy=Bf;iy=Jn;var J_={usingClientEntryPoint:!1,Events:[Lo,ws,$l,ry,ny,Bf]},mi={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q_={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ly(e),e===null?null:e.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||Z_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fa.isDisabled&&fa.supportsFiber)try{Il=fa.inject(Q_),wr=fa}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J_;Mt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qf(t))throw Error($(200));return q_(e,t,null,r)};Mt.createRoot=function(e,t){if(!qf(e))throw Error($(299));var r=!1,n="",s=Bv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wf(e,1,!1,null,null,r,!1,n,s),e[$r]=t.current,eo(e.nodeType===8?e.parentNode:e),new Hf(t)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=ly(t),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return Jn(e)};Mt.hydrate=function(e,t,r){if(!Gl(t))throw Error($(200));return Hl(null,e,t,!0,r)};Mt.hydrateRoot=function(e,t,r){if(!qf(e))throw Error($(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Bv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Mv(t,null,e,1,r??null,s,!1,i,o),e[$r]=t.current,eo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Wl(t)};Mt.render=function(e,t,r){if(!Gl(t))throw Error($(200));return Hl(null,e,t,!1,r)};Mt.unmountComponentAtNode=function(e){if(!Gl(e))throw Error($(40));return e._reactRootContainer?(Jn(function(){Hl(null,null,e,!1,function(){e._reactRootContainer=null,e[$r]=null})}),!0):!1};Mt.unstable_batchedUpdates=Bf;Mt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gl(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Hl(e,t,r,!1,n)};Mt.version="18.3.1-next-f1338f8080-20240426";function Uv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uv)}catch(e){console.error(e)}}Uv(),Ug.exports=Mt;var Mo=Ug.exports;const Y_=Yd(Mo);var zv,Kp=Mo;zv=Kp.createRoot,Kp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(this,arguments)}var sn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sn||(sn={}));const Jp="popstate";function X_(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return Nd("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Wv(s)}return t1(t,r,null,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function e1(){return Math.random().toString(36).substr(2,8)}function Qp(e,t){return{usr:e.state,key:e.key,idx:t}}function Nd(e,t,r,n){return r===void 0&&(r=null),co({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ti(t):t,{state:r,key:t&&t.key||n||e1()})}function Wv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ti(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function t1(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=sn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(co({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=sn.Pop;let b=u(),y=b==null?null:b-c;c=b,l&&l({action:a,location:m.location,delta:y})}function h(b,y){a=sn.Push;let g=Nd(m.location,b,y);c=u()+1;let v=Qp(g,c),S=m.createHref(g);try{o.pushState(v,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}i&&l&&l({action:a,location:m.location,delta:1})}function p(b,y){a=sn.Replace;let g=Nd(m.location,b,y);c=u();let v=Qp(g,c),S=m.createHref(g);o.replaceState(v,"",S),i&&l&&l({action:a,location:m.location,delta:0})}function x(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:Wv(b);return g=g.replace(/ $/,"%20"),He(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let m={get action(){return a},get location(){return e(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Jp,d),l=b,()=>{s.removeEventListener(Jp,d),l=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(b){return o.go(b)}};return m}var Yp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yp||(Yp={}));function r1(e,t,r){return r===void 0&&(r="/"),n1(e,t,r,!1)}function n1(e,t,r,n){let s=typeof t=="string"?ti(t):t,i=qv(s.pathname||"/",r);if(i==null)return null;let o=Gv(e);s1(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=m1(i);a=h1(o[l],c,n)}return a}function Gv(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(He(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Vn([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(He(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Gv(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:d1(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Hv(i.path))s(i,o,l)}),t}function Hv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Hv(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function s1(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:f1(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const i1=/^:[\w-]+$/,o1=3,a1=2,l1=1,c1=10,u1=-2,Xp=e=>e==="*";function d1(e,t){let r=e.split("/"),n=r.length;return r.some(Xp)&&(n+=u1),t&&(n+=a1),r.filter(s=>!Xp(s)).reduce((s,i)=>s+(i1.test(i)?o1:i===""?l1:c1),n)}function f1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function h1(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=em({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&r&&!n[n.length-1].route.index&&(d=em({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Vn([i,d.pathname]),pathnameBase:b1(Vn([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Vn([i,d.pathnameBase]))}return o}function em(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=p1(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=a[d]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const x=a[d];return p&&!x?c[h]=void 0:c[h]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function p1(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Vv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function m1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function g1(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ti(e):e;return{pathname:r?r.startsWith("/")?r:y1(r,t):t,search:_1(n),hash:S1(s)}}function y1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function pu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function v1(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function x1(e,t){let r=v1(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function w1(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ti(e):(s=co({},e),He(!s.pathname||!s.pathname.includes("?"),pu("?","pathname","search",s)),He(!s.pathname||!s.pathname.includes("#"),pu("#","pathname","hash",s)),He(!s.search||!s.search.includes("#"),pu("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=g1(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Vn=e=>e.join("/").replace(/\/\/+/g,"/"),b1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,S1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function k1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zv=["post","put","patch","delete"];new Set(Zv);const E1=["get",...Zv];new Set(E1);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}const Zf=w.createContext(null),C1=w.createContext(null),ql=w.createContext(null),Zl=w.createContext(null),ri=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Kv=w.createContext(null);function Kl(){return w.useContext(Zl)!=null}function Jv(){return Kl()||He(!1),w.useContext(Zl).location}function Qv(e){w.useContext(ql).static||w.useLayoutEffect(e)}function Kf(){let{isDataRoute:e}=w.useContext(ri);return e?M1():N1()}function N1(){Kl()||He(!1);let e=w.useContext(Zf),{basename:t,future:r,navigator:n}=w.useContext(ql),{matches:s}=w.useContext(ri),{pathname:i}=Jv(),o=JSON.stringify(x1(s,r.v7_relativeSplatPath)),a=w.useRef(!1);return Qv(()=>{a.current=!0}),w.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=w1(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Vn([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}function j1(e,t){return D1(e,t)}function D1(e,t,r,n){Kl()||He(!1);let{navigator:s,static:i}=w.useContext(ql),{matches:o}=w.useContext(ri),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Jv(),d;if(t){var h;let y=typeof t=="string"?ti(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||He(!1),d=y}else d=u;let p=d.pathname||"/",x=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:r1(e,{pathname:x}),b=O1(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Vn([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Vn([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&b?w.createElement(Zl.Provider,{value:{location:uo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:sn.Pop}},b):b}function P1(){let e=F1(),t=k1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,null)}const A1=w.createElement(P1,null);class I1 extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(ri.Provider,{value:this.props.routeContext},w.createElement(Kv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T1(e){let{routeContext:t,match:r,children:n}=e,s=w.useContext(Zf);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(ri.Provider,{value:t},n)}function O1(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||He(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=r,x=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,x=!1,m=null,b=null;r&&(p=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||A1,l&&(c<0&&h===0?(x=!0,b=null):c===h&&(x=!0,b=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),g=()=>{let v;return p?v=m:x?v=b:d.route.Component?v=w.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=u,w.createElement(T1,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement(I1,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var Yv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Yv||{}),cl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cl||{});function R1(e){let t=w.useContext(Zf);return t||He(!1),t}function $1(e){let t=w.useContext(C1);return t||He(!1),t}function L1(e){let t=w.useContext(ri);return t||He(!1),t}function Xv(e){let t=L1(),r=t.matches[t.matches.length-1];return r.route.id||He(!1),r.route.id}function F1(){var e;let t=w.useContext(Kv),r=$1(cl.UseRouteError),n=Xv(cl.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function M1(){let{router:e}=R1(Yv.UseNavigateStable),t=Xv(cl.UseNavigateStable),r=w.useRef(!1);return Qv(()=>{r.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,uo({fromRouteId:t},i)))},[e,t])}function B1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fs(e){He(!1)}function U1(e){let{basename:t="/",children:r=null,location:n,navigationType:s=sn.Pop,navigator:i,static:o=!1,future:a}=e;Kl()&&He(!1);let l=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:i,static:o,future:uo({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=ti(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:x="default"}=n,m=w.useMemo(()=>{let b=qv(u,l);return b==null?null:{location:{pathname:b,search:d,hash:h,state:p,key:x},navigationType:s}},[l,u,d,h,p,x,s]);return m==null?null:w.createElement(ql.Provider,{value:c},w.createElement(Zl.Provider,{children:r,value:m}))}function z1(e){let{children:t,location:r}=e;return j1(jd(t),r)}new Promise(()=>{});function jd(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,jd(n.props.children,i));return}n.type!==fs&&He(!1),!n.props.index||!n.props.children||He(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=jd(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const V1="6";try{window.__reactRouterVersion=V1}catch{}const W1="startTransition",tm=Uw[W1];function G1(e){let{basename:t,children:r,future:n,window:s}=e,i=w.useRef();i.current==null&&(i.current=X_({window:s,v5Compat:!0}));let o=i.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=w.useCallback(d=>{c&&tm?tm(()=>l(d)):l(d)},[l,c]);return w.useLayoutEffect(()=>o.listen(u),[o,u]),w.useEffect(()=>B1(n),[n]),w.createElement(U1,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var rm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rm||(rm={}));var nm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nm||(nm={}));let H1={data:""},q1=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||H1,Z1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,K1=/\/\*[^]*?\*\/|  +/g,sm=/\n+/g,Xr=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Xr(o,i):i+"{"+Xr(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Xr(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Xr.p?Xr.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Er={},e0=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+e0(e[r]);return t}return e},J1=(e,t,r,n,s)=>{let i=e0(e),o=Er[i]||(Er[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!Er[o]){let l=i!==e?e:(c=>{let u,d,h=[{}];for(;u=Z1.exec(c.replace(K1,""));)u[4]?h.shift():u[3]?(d=u[3].replace(sm," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(sm," ").trim();return h[0]})(e);Er[o]=Xr(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&Er.g?Er.g:null;return r&&(Er.g=Er[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Er[o],t,n,a),o},Q1=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Xr(a,""):a===!1?"":a}return n+s+(o??"")},"");function Jl(e){let t=this||{},r=e.call?e(t.p):e;return J1(r.unshift?r.raw?Q1(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,q1(t.target),t.g,t.o,t.k)}let t0,Dd,Pd;Jl.bind({g:1});let Mr=Jl.bind({k:1});function Y1(e,t,r,n){Xr.p=t,t0=e,Dd=r,Pd=n}function Nn(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:Dd&&Dd()},a),r.o=/ *go\d+/.test(l),a.className=Jl.apply(r,n)+(l?" "+l:"");let c=e;return e[0]&&(c=a.as||e,delete a.as),Pd&&c[0]&&Pd(a),t0(c,a)}return s}}var X1=e=>typeof e=="function",ul=(e,t)=>X1(e)?e(t):e,eS=(()=>{let e=0;return()=>(++e).toString()})(),r0=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),tS=20,n0=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,tS)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return n0(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},$a=[],Mn={toasts:[],pausedAt:void 0},ss=e=>{Mn=n0(Mn,e),$a.forEach(t=>{t(Mn)})},rS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},nS=(e={})=>{let[t,r]=w.useState(Mn),n=w.useRef(Mn);w.useEffect(()=>(n.current!==Mn&&r(Mn),$a.push(r),()=>{let i=$a.indexOf(r);i>-1&&$a.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,a,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((a=e[i.type])==null?void 0:a.duration)||(e==null?void 0:e.duration)||rS[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...t,toasts:s}},sS=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||eS()}),Bo=e=>(t,r)=>{let n=sS(t,e,r);return ss({type:2,toast:n}),n.id},mt=(e,t)=>Bo("blank")(e,t);mt.error=Bo("error");mt.success=Bo("success");mt.loading=Bo("loading");mt.custom=Bo("custom");mt.dismiss=e=>{ss({type:3,toastId:e})};mt.remove=e=>ss({type:4,toastId:e});mt.promise=(e,t,r)=>{let n=mt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?ul(t.success,s):void 0;return i?mt.success(i,{id:n,...r,...r==null?void 0:r.success}):mt.dismiss(n),s}).catch(s=>{let i=t.error?ul(t.error,s):void 0;i?mt.error(i,{id:n,...r,...r==null?void 0:r.error}):mt.dismiss(n)}),e};var iS=(e,t)=>{ss({type:1,toast:{id:e,height:t}})},oS=()=>{ss({type:5,time:Date.now()})},Fi=new Map,aS=1e3,lS=(e,t=aS)=>{if(Fi.has(e))return;let r=setTimeout(()=>{Fi.delete(e),ss({type:4,toastId:e})},t);Fi.set(e,r)},cS=e=>{let{toasts:t,pausedAt:r}=nS(e);w.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&mt.dismiss(a.id);return}return setTimeout(()=>mt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,r]);let n=w.useCallback(()=>{r&&ss({type:6,time:Date.now()})},[r]),s=w.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=t.filter(p=>(p.position||c)===(i.position||c)&&p.height),d=u.findIndex(p=>p.id===i.id),h=u.filter((p,x)=>x<d&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[h+1]:[0,h]).reduce((p,x)=>p+(x.height||0)+l,0)},[t]);return w.useEffect(()=>{t.forEach(i=>{if(i.dismissed)lS(i.id,i.removeDelay);else{let o=Fi.get(i.id);o&&(clearTimeout(o),Fi.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:iS,startPause:oS,endPause:n,calculateOffset:s}}},uS=Mr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,dS=Mr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fS=Mr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,hS=Nn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${dS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${fS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,pS=Mr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,mS=Nn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${pS} 1s linear infinite;
`,gS=Mr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,yS=Mr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vS=Nn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${yS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,xS=Nn("div")`
  position: absolute;
`,wS=Nn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,bS=Mr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_S=Nn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${bS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,SS=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?w.createElement(_S,null,t):t:r==="blank"?null:w.createElement(wS,null,w.createElement(mS,{...n}),r!=="loading"&&w.createElement(xS,null,r==="error"?w.createElement(hS,{...n}):w.createElement(vS,{...n})))},kS=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ES=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,CS="0%{opacity:0;} 100%{opacity:1;}",NS="0%{opacity:1;} 100%{opacity:0;}",jS=Nn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,DS=Nn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,PS=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=r0()?[CS,NS]:[kS(r),ES(r)];return{animation:t?`${Mr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Mr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},AS=w.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?PS(e.position||t||"top-center",e.visible):{opacity:0},i=w.createElement(SS,{toast:e}),o=w.createElement(DS,{...e.ariaProps},ul(e.message,e));return w.createElement(jS,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):w.createElement(w.Fragment,null,i,o))});Y1(w.createElement);var IS=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=w.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return w.createElement("div",{ref:i,className:t,style:r},s)},TS=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:r0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},OS=Jl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ha=16,RS=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=cS(r);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ha,left:ha,right:ha,bottom:ha,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||t,d=l.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),h=TS(u,d);return w.createElement(IS,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?OS:"",style:h},c.type==="custom"?ul(c.message,c):s?s(c):w.createElement(AS,{toast:c,position:u}))}))},re=mt;/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $S={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),be=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>w.createElement("svg",{ref:u,...$S,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${LS(e)}`,a].join(" "),...c},[...t.map(([d,h])=>w.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=be("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=be("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=be("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=be("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=be("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=be("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ZS="modulepreload",KS=function(e){return"/"+e},um={},Vs=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=KS(l),l in um)return;um[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":ZS,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},JS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Xf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class QS extends Xf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class YS extends Xf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class XS extends Xf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Id;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Id||(Id={}));var ek=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class tk{constructor(t,{headers:r={},customFetch:n,region:s=Id.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=JS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return ek(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(x=>{throw new QS(x)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new YS(u);if(!u.ok)throw new XS(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield u.json():h==="application/octet-stream"?p=yield u.blob():h==="text/event-stream"?p=u:h==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var kt={},eh={},ec={},Uo={},tc={},rc={},rk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ws=rk();const nk=Ws.fetch,l0=Ws.fetch.bind(Ws),c0=Ws.Headers,sk=Ws.Request,ik=Ws.Response,ni=Object.freeze(Object.defineProperty({__proto__:null,Headers:c0,Request:sk,Response:ik,default:l0,fetch:nk},Symbol.toStringTag,{value:"Module"})),ok=Ew(ni);var nc={};Object.defineProperty(nc,"__esModule",{value:!0});let ak=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};nc.default=ak;var u0=Jt&&Jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rc,"__esModule",{value:!0});const lk=u0(ok),ck=u0(nc);let uk=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=lk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,d=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{c=JSON.parse(m),Array.isArray(c)&&i.status===404&&(u=[],c=null,h=200,p="OK")}catch{i.status===404&&m===""?(h=204,p="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new ck.default(c)}return{error:c,data:u,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};rc.default=uk;var dk=Jt&&Jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tc,"__esModule",{value:!0});const fk=dk(rc);let hk=class extends fk.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};tc.default=hk;var pk=Jt&&Jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uo,"__esModule",{value:!0});const mk=pk(tc);let gk=class extends mk.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Uo.default=gk;var yk=Jt&&Jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ec,"__esModule",{value:!0});const gi=yk(Uo);let vk=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new gi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new gi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new gi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new gi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new gi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ec.default=vk;var sc={},ic={};Object.defineProperty(ic,"__esModule",{value:!0});ic.version=void 0;ic.version="0.0.0-automated";Object.defineProperty(sc,"__esModule",{value:!0});sc.DEFAULT_HEADERS=void 0;const xk=ic;sc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${xk.version}`};var d0=Jt&&Jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eh,"__esModule",{value:!0});const wk=d0(ec),bk=d0(Uo),_k=sc;let Sk=class f0{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},_k.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new wk.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new f0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new bk.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};eh.default=Sk;var si=Jt&&Jt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kt,"__esModule",{value:!0});kt.PostgrestError=kt.PostgrestBuilder=kt.PostgrestTransformBuilder=kt.PostgrestFilterBuilder=kt.PostgrestQueryBuilder=kt.PostgrestClient=void 0;const h0=si(eh);kt.PostgrestClient=h0.default;const p0=si(ec);kt.PostgrestQueryBuilder=p0.default;const m0=si(Uo);kt.PostgrestFilterBuilder=m0.default;const g0=si(tc);kt.PostgrestTransformBuilder=g0.default;const y0=si(rc);kt.PostgrestBuilder=y0.default;const v0=si(nc);kt.PostgrestError=v0.default;var kk=kt.default={PostgrestClient:h0.default,PostgrestQueryBuilder:p0.default,PostgrestFilterBuilder:m0.default,PostgrestTransformBuilder:g0.default,PostgrestBuilder:y0.default,PostgrestError:v0.default};const{PostgrestClient:Ek,PostgrestQueryBuilder:oT,PostgrestFilterBuilder:aT,PostgrestTransformBuilder:lT,PostgrestBuilder:cT,PostgrestError:uT}=kk,Ck="2.11.2",Nk={"X-Client-Info":`realtime-js/${Ck}`},jk="1.0.0",x0=1e4,Dk=1e3;var Os;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Os||(Os={}));var Pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pt||(Pt={}));var nr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nr||(nr={}));var Td;(function(e){e.websocket="websocket"})(Td||(Td={}));var Rn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Rn||(Rn={}));class Pk{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class w0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ce||(Ce={}));const dm=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Ak(o,e,t,s),i),{})},Ak=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?b0(i,o):Od(o)},b0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Rk(t,r)}switch(e){case Ce.bool:return Ik(t);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return Tk(t);case Ce.json:case Ce.jsonb:return Ok(t);case Ce.timestamp:return $k(t);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return Od(t);default:return Od(t)}},Od=e=>e,Ik=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Tk=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ok=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Rk=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>b0(t,a))}return e},$k=e=>typeof e=="string"?e.replace(" ","T"):e,_0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class mu{constructor(t,r,n={},s=x0){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fm||(fm={}));class Mi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mi.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Mi.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Mi.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const h=u.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),x=u.filter(b=>p.indexOf(b.presence_ref)<0),m=d.filter(b=>h.indexOf(b.presence_ref)<0);x.length>0&&(a[c]=x),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(p=>p.presence_ref),h=u.filter(p=>d.indexOf(p.presence_ref)<0);t[a].unshift(...h)}n(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hm||(hm={}));var pm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pm||(pm={}));var Dr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dr||(Dr={}));class th{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mu(this,nr.join,this.params,this.timeout),this.rejoinTimer=new w0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Mi(this),this.broadcastEndpointURL=_0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(Dr.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(Dr.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(Dr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,x=[];for(let m=0;m<p;m++){const b=h[m],{filter:{event:y,schema:g,table:v,filter:S}}=b,k=u&&u[m];if(k&&k.event===y&&k.schema===g&&k.table===v&&k.filter===S)x.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),t==null||t(Dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Dr.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(Dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new mu(this,nr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mu(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=nr;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,m,b;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var x,m,b,y,g,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,k=(x=p.filter)===null||x===void 0?void 0:x.event;return S&&((m=r.ids)===null||m===void 0?void 0:m.includes(S))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(g=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:m,table:b,commit_timestamp:y,type:g,errors:v}=x;h=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:y,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(x))}p.callback(h,n)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&th.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nr.close,{},t)}_onError(t){this._on(nr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=dm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=dm(t.columns,t.old_record)),r}}const Lk=()=>{},Fk=typeof WebSocket<"u",Mk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bk{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Nk,this.params={},this.timeout=x0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Lk,this.conn=null,this.sendBuffer=[],this.serializer=new Pk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Vs(async()=>{const{default:l}=await Promise.resolve().then(()=>ni);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Td.websocket}`,this.httpEndpoint=_0(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new w0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Fk){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Uk(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Vs(async()=>{const{default:t}=await import("./browser-DxKHYwR-.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jk}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Os.connecting:return Rn.Connecting;case Os.open:return Rn.Open;case Os.closing:return Rn.Closing;default:return Rn.Closed}}isConnected(){return this.connectionState()===Rn.Open}channel(t,r={config:{}}){const n=new th(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(nr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Dk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(nr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Mk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Uk{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Os.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class rh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ze(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zk extends rh{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Rd extends rh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Vk=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const S0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Wk=()=>Vk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vs(()=>Promise.resolve().then(()=>ni),void 0)).Response:Response}),$d=e=>{if(Array.isArray(e))return e.map(r=>$d(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=$d(n)}),t};var is=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const gu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gk=(e,t,r)=>is(void 0,void 0,void 0,function*(){const n=yield Wk();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new zk(gu(s),e.status||500))}).catch(s=>{t(new Rd(gu(s),s))}):t(new Rd(gu(e),e))}),Hk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function zo(e,t,r,n,s,i){return is(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Hk(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Gk(l,a,n))})})}function fl(e,t,r,n){return is(this,void 0,void 0,function*(){return zo(e,"GET",t,r,n)})}function Jr(e,t,r,n,s){return is(this,void 0,void 0,function*(){return zo(e,"POST",t,n,s,r)})}function qk(e,t,r,n,s){return is(this,void 0,void 0,function*(){return zo(e,"PUT",t,n,s,r)})}function Zk(e,t,r,n){return is(this,void 0,void 0,function*(){return zo(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function k0(e,t,r,n,s){return is(this,void 0,void 0,function*(){return zo(e,"DELETE",t,n,s,r)})}var bt=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Kk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Jk{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=S0(s)}uploadOrUpdate(t,r,n,s){return bt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},mm),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Ze(i))return{data:null,error:i};throw i}})}upload(t,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return bt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:mm.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Ze(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return bt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Jr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new rh("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}update(t,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return bt(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}copy(t,r,n){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield Jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return bt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Jr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return bt(this,void 0,void 0,function*(){try{const s=yield Jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}download(t,r){return bt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield fl(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ze(a))return{data:null,error:a};throw a}})}info(t){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield fl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:$d(n),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}exists(t){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Zk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ze(n)&&n instanceof Rd){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return bt(this,void 0,void 0,function*(){try{return{data:yield k0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}list(t,r,n){return bt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Kk),r),{prefix:t||""});return{data:yield Jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Qk="2.7.1",Yk={"X-Client-Info":`storage-js/${Qk}`};var ls=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Xk{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Yk),r),this.fetch=S0(n)}listBuckets(){return ls(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ze(t))return{data:null,error:t};throw t}})}getBucket(t){return ls(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ls(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ls(this,void 0,void 0,function*(){try{return{data:yield qk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ls(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ls(this,void 0,void 0,function*(){try{return{data:yield k0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}}class eE extends Xk{constructor(t,r={},n){super(t,r,n)}from(t){return new Jk(this.url,this.headers,t,this.fetch)}}const tE="2.49.4";let Ci="";typeof Deno<"u"?Ci="deno":typeof document<"u"?Ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ci="react-native":Ci="node";const rE={"X-Client-Info":`supabase-js-${Ci}/${tE}`},nE={headers:rE},sE={schema:"public"},iE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oE={};var aE=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const lE=e=>{let t;return e?t=e:typeof fetch>"u"?t=l0:t=fetch,(...r)=>t(...r)},cE=()=>typeof Headers>"u"?c0:Headers,uE=(e,t,r)=>{const n=lE(r),s=cE();return(i,o)=>aE(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var dE=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function fE(e){return e.replace(/\/$/,"")}function hE(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>dE(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const E0="2.69.1",hs=30*1e3,Ld=3,yu=Ld*hs,pE="http://localhost:9999",mE="supabase.auth.token",gE={"X-Client-Info":`gotrue-js/${E0}`},Fd="X-Supabase-Api-Version",C0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vE=6e5;class nh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xE extends nh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function wE(e){return ue(e)&&e.name==="AuthApiError"}class N0 extends nh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class jn extends nh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Hr extends jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bE(e){return ue(e)&&e.name==="AuthSessionMissingError"}class vu extends jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pa extends jn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ma extends jn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _E(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class gm extends jn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Md extends jn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function xu(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class ym extends jn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bi extends jn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xm=` 	
\r=`.split(""),SE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xm.length;t+=1)e[xm[t].charCodeAt(0)]=-2;for(let t=0;t<vm.length;t+=1)e[vm[t].charCodeAt(0)]=t;return e})();function j0(e,t,r){const n=SE[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wm(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{CE(o,n,r)};for(let o=0;o<e.length;o+=1)j0(e.charCodeAt(o),s,i);return t.join("")}function kE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function EE(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}kE(n,t)}}function CE(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function NE(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)j0(e.charCodeAt(s),r,n);return new Uint8Array(t)}function jE(e){const t=[];return EE(e,r=>t.push(r)),new Uint8Array(t)}function DE(e){return Math.round(Date.now()/1e3)+e}function PE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const mr=()=>typeof window<"u"&&typeof document<"u",Dn={tested:!1,writable:!1},Ui=()=>{if(!mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dn.tested)return Dn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Dn.tested=!0,Dn.writable=!0}catch{Dn.tested=!0,Dn.writable=!1}return Dn.writable};function AE(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const D0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Vs(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},IE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",P0=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ga=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ya=async(e,t)=>{await e.removeItem(t)};class oc{constructor(){this.promise=new oc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}oc.promiseConstructor=Promise;function wu(e){const t=e.split(".");if(t.length!==3)throw new Bi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!yE.test(t[n]))throw new Bi("JWT not in base64url format");return{header:JSON.parse(wm(t[0])),payload:JSON.parse(wm(t[1])),signature:NE(t[2]),raw:{header:t[0],payload:t[1]}}}async function TE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function OE(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function RE(e){return("0"+e.toString(16)).substr(-2)}function $E(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,RE).join("")}async function LE(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function FE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await LE(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cs(e,t,r=!1){const n=$E();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await P0(e,`${t}-code-verifier`,s);const i=await FE(n);return[i,n===i?"plain":"s256"]}const ME=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BE(e){const t=e.headers.get(Fd);if(!t||!t.match(ME))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function UE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var VE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Tn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WE=[502,503,504];async function bm(e){var t;if(!IE(e))throw new Md(Tn(e),0);if(WE.includes(e.status))throw new Md(Tn(e),e.status);let r;try{r=await e.json()}catch(i){throw new N0(Tn(i),i)}let n;const s=BE(e);if(s&&s.getTime()>=C0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ym(Tn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Hr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ym(Tn(r),e.status,r.weak_password.reasons);throw new xE(Tn(r),e.status||500,n)}const GE=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function pe(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Fd]||(i[Fd]=C0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await HE(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function HE(e,t,r,n,s,i){const o=GE(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Md(Tn(l),0)}if(a.ok||await bm(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await bm(l)}}function qr(e){var t;let r=null;JE(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=DE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function _m(e){const t=qr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function en(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qE(e){return{data:e,error:null}}function ZE(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=VE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function KE(e){return e}function JE(e){return e.access_token&&e.refresh_token&&e.expires_in}var QE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class YE{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=D0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:en})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=QE(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ZE,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:en})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:KE});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ue(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:en})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:en})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:en})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}const XE={getItem:e=>Ui()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ui()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ui()&&globalThis.localStorage.removeItem(e)}};function Sm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function eC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const us={debug:!!(globalThis&&Ui()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class A0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tC extends A0{}async function rC(e,t,r){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(us.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}eC();const nC={url:pE,storageKey:mE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function km(e,t,r){return await r()}class fo{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fo.nextInstanceID,fo.nextInstanceID+=1,this.instanceID>0&&mr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},nC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new YE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=D0(s.fetch),this.lock=s.lock||km,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:mr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=rC:this.lock=km,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ui()?this.storage=XE:(this.memoryStorage={},this.storage=Sm(this.memoryStorage)):(this.memoryStorage={},this.storage=Sm(this.memoryStorage)),mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${E0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=AE(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),mr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),_E(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?{error:r}:{error:new N0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:qr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:d,options:h}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await cs(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:x},xform:qr})}else if("phone"in t){const{phone:u,password:d,options:h}=t;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qr})}else throw new pa("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_m})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_m})}else throw new pa("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new vu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ga(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:qr});if(await ya(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new vu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ue(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new vu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await cs(this.storage,this.storageKey));const{error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new pa("You must provide either an email or phone number.")}catch(a){if(ue(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await cs(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:qE})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Hr;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new pa("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ga(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:en}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hr}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:en})})}catch(r){if(ue(r))return bE(r)&&(await this._removeSession(),await ya(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Hr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await cs(this.storage,this.storageKey));const{data:c,error:u}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:en});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Hr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=wu(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ue(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Hr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!mr())throw new ma("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ma(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ma("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gm("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new ma("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const p=h-u;p*1e3<=hs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const x=h-d;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,u);const{data:m,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(ue(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ga(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(wE(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ya(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=PE(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await cs(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return mr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ue(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await OE(async s=>(s>0&&await TE(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&xu(i)&&Date.now()+o-n<hs})}catch(n){if(this._debug(r,"error",n),ue(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),mr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ga(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<yu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${yu}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),xu(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new oc;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Hr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ue(i)){const o={session:null,error:i};return xu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await P0(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ya(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&mr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/hs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hs}ms, refresh threshold is ${Ld} ticks`),s<=Ld&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof A0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await cs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=wu(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+vE>Date.now()))return n;const{data:s,error:i}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Bi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Bi("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=wu(n);if(UE(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=zE(s.alg),u=await this.fetchJwk(s.kid,r),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,jE(`${a}.${l}`)))throw new Bi("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}}fo.nextInstanceID=0;const sC=fo;class iC extends sC{constructor(t){super(t)}}var oC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class aC{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=fE(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:sE,realtime:oE,auth:Object.assign(Object.assign({},iE),{storageKey:l}),global:nE},u=hE(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=uE(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Ek(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new tk(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new eE(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return oC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iC({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Bk(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lC=(e,t,r)=>new aC(e,t,r),cC="https://kymrappozhbnyjxxalst.supabase.co",uC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5bXJhcHBvemhibnlqeHhhbHN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU1NDAyNDIsImV4cCI6MjA2MTExNjI0Mn0.sE8jUBHsL010sC85TYjz3fMcYJNBlNb8Dwyzg9sj-z8";let sh;try{sh=lC(cC,uC,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{"X-Client-Info":"supabase-js-web"}}})}catch(e){throw console.error("Failed to initialize Supabase client:",e),re.error("Failed to initialize database connection"),e}const G=sh,Em=()=>!!sh;function va({children:e,onSignOut:t,user:r}){const[n,s]=w.useState(!1),[i,o]=w.useState(!1),a=Kf(),[l,c]=w.useState(null);return w.useEffect(()=>{const u=async()=>{if(r)try{const{data:{user:d}}=await G.auth.getUser();if(!d){const{data:{session:x},error:m}=await G.auth.refreshSession();if(m||!x){await G.auth.signOut(),a("/");return}}const{data:h,error:p}=await G.from("profiles").select("*").eq("id",d==null?void 0:d.id).single();if(p){if(p.message.includes("session_not_found")){const{data:{session:x},error:m}=await G.auth.refreshSession();if(m||!x){await G.auth.signOut(),a("/");return}return u()}throw p}c(h)}catch(d){console.error("Error fetching profile:",d),re.error("Failed to load profile")}};u()},[r,a]),f.jsxs(f.Fragment,{children:[r&&f.jsxs("nav",{className:"bg-[#0A0A0A] border-b border-[#1F1F1F]",children:[f.jsxs("div",{className:"max-w-[1920px] mx-auto px-4 relative flex items-center justify-between h-14",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("h1",{className:"text-[#E0E0E0] text-xl font-semibold pl-12 md:pl-0",children:"Sharon AI"}),f.jsx("p",{className:"text-[#757575] text-sm hidden md:block",children:"Making Your Teams more Productive"})]}),f.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[f.jsxs("button",{onClick:()=>a("/"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#E0E0E0] hover:bg-[#1F1F1F] hover:text-accent",children:[f.jsx(dl,{className:"w-5 h-5"}),f.jsx("span",{children:"Chat"})]}),(l==null?void 0:l.role)==="admin"?f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>a("/workflows"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-accent hover:bg-[#1F1F1F] transition-colors",children:[f.jsx(Ad,{className:"w-5 h-5"}),f.jsx("span",{children:"Workflows"})]}),f.jsxs("button",{onClick:()=>a("/users"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-accent hover:bg-[#1F1F1F] transition-colors",children:[f.jsx(cm,{className:"w-5 h-5"}),f.jsx("span",{children:"Users"})]}),f.jsxs("button",{onClick:()=>a("/permissions"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-accent hover:bg-[#1F1F1F] transition-colors",children:[f.jsx(lm,{className:"w-5 h-5"}),f.jsx("span",{children:"Permissions"})]})]}):null,f.jsxs("div",{className:"relative ml-4",children:[f.jsxs("button",{onClick:()=>o(!i),className:"flex items-center space-x-2 px-2 py-1.5 rounded-md hover:bg-[#1F1F1F] transition-colors group",children:[f.jsx("span",{className:"text-[#E0E0E0]",children:(l==null?void 0:l.email)||"Loading..."}),f.jsx("span",{className:"px-2 py-0.5 text-white text-sm rounded bg-[#f7ab38]",children:(l==null?void 0:l.role)||"Loading..."}),f.jsx(Qf,{className:"w-4 h-4 text-[#757575] group-hover:text-[#E0E0E0]"})]}),i&&f.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-[#1F1F1F] rounded-md shadow-lg py-1 border border-[#2D2D2D] z-50",children:[f.jsx("div",{className:"px-4 py-2 border-b border-[#2D2D2D]",children:f.jsx("p",{className:"text-sm font-medium text-[#E0E0E0]",children:"My Account"})}),f.jsxs("button",{onClick:()=>a("/profile"),className:"w-full flex items-center space-x-2 px-4 py-2 text-[#757575] hover:text-[#E0E0E0] hover:bg-[#2D2D2D]",children:[f.jsx(am,{className:"w-4 h-4"}),f.jsx("span",{children:"Profile Settings"})]}),f.jsxs("button",{onClick:t,className:"w-full flex items-center space-x-2 px-4 py-2 text-[#757575] hover:text-[#E0E0E0] hover:bg-[#2D2D2D]",children:[f.jsx(om,{className:"w-4 h-4"}),f.jsx("span",{children:"Logout"})]})]})]})]}),f.jsx("button",{onClick:()=>s(!n),className:"md:hidden text-[#757575] hover:text-[#E0E0E0]",children:f.jsx(a0,{className:"h-6 w-6"})})]}),f.jsxs("div",{className:`md:hidden ${n?"block":"hidden"} py-2 space-y-2`,children:[f.jsxs("button",{onClick:()=>a("/"),className:"w-full flex items-center space-x-2 px-3 py-2 text-[#E0E0E0] bg-[#1F1F1F] rounded-md",children:[f.jsx(dl,{className:"w-5 h-5"}),f.jsx("span",{children:"Chat"})]}),(l==null?void 0:l.role)==="admin"&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>a("/workflows"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-[#E0E0E0] hover:bg-[#1F1F1F] transition-colors",children:[f.jsx(Ad,{className:"w-5 h-5"}),f.jsx("span",{children:"Workflows"})]}),f.jsxs("button",{onClick:()=>a("/users"),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-[#757575] hover:text-[#E0E0E0] hover:bg-[#1F1F1F] transition-colors",children:[f.jsx(cm,{className:"w-5 h-5"}),f.jsx("span",{children:"Users"})]}),f.jsxs("button",{onClick:()=>a("/permissions"),className:"flex items-center space-x-2 px-3 py-2 text-[#757575] hover:text-[#E0E0E0] hover:bg-[#1F1F1F] rounded-md",children:[f.jsx(lm,{className:"w-5 h-5"}),f.jsx("span",{children:"Permissions"})]})]}),f.jsx("div",{className:"border-t border-[#1F1F1F] pt-2",children:f.jsxs("div",{className:"px-3 py-2",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-[#E0E0E0] text-sm",children:(l==null?void 0:l.email)||"Loading..."}),f.jsx("span",{className:"px-2 py-0.5 text-white text-sm rounded bg-[#f7ab38]",children:(l==null?void 0:l.role)||"Loading..."})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>a("/profile"),className:"flex items-center space-x-2 px-4 py-2 text-[#757575] hover:text-accent hover:bg-[#2D2D2D]",children:[f.jsx(am,{className:"w-4 h-4"}),f.jsx("span",{children:"Profile Settings"})]}),f.jsxs("button",{onClick:t,className:"flex items-center space-x-2 px-4 py-2 text-[#757575] hover:text-accent hover:bg-[#2D2D2D]",children:[f.jsx(om,{className:"w-4 h-4"}),f.jsx("span",{children:"Logout"})]})]})]})})]})]}),e,f.jsx(RS,{})]})}function dC({onNewChat:e,selectedChat:t,selectedWorkflow:r,onSelectWorkflow:n,onSelectChat:s,isSidebarVisible:i,setIsSidebarVisible:o}){const[a,l]=w.useState(""),[c,u]=w.useState([]),[d,h]=w.useState(!1),[p,x]=w.useState([]),[m,b]=w.useState(!0),[y,g]=w.useState(!1),[v,S]=w.useState(!0),[k,j]=w.useState(0),P=15;w.useEffect(()=>{A()},[]),w.useEffect(()=>{r&&N()},[r,a]);const N=async(R=!1)=>{try{if(!r)return;if(!Em()){re.error("Database connection not initialized");return}const U=R?k+1:0,oe=G.from("conversations").select("*").eq("workflow_id",r.id).order("created_at",{ascending:!1}).range(U*P,(U+1)*P-1);a&&oe.ilike("title",`%${a}%`);const{data:I,error:se}=await oe;if(se){console.error("Error fetching conversations:",se),re.error("Failed to load conversations");return}R?(u(ae=>[...ae,...I||[]]),S(I.length===P)):(u(I||[]),S(I.length===P)),j(U)}catch(U){console.error("Error fetching conversations:",U),re.error("Failed to load conversations")}};async function A(){try{if(!Em()){re.error("Database connection not initialized");return}const{data:{user:R},error:U}=await G.auth.getUser();if(U){console.error("Error fetching user:",U),re.error("Failed to authenticate user");return}if(!R){console.error("No user found"),re.error("User not authenticated");return}const{data:oe,error:I}=await G.from("workflows").select("id, name, display_name, worker_id, api_auth_token, supports_documents, supports_images, api_url").eq("status","active").order("order",{ascending:!0});if(I){console.error("Error fetching workflows:",I),re.error("Failed to load workflows");return}x(oe||[])}catch(R){console.error("Error:",R),re.error("Failed to fetch workflows")}finally{b(!1)}}const O=async()=>{g(!0),await N(!0),g(!1)},X=R=>{n(R),h(!1)};return f.jsxs("div",{className:`fixed md:static inset-y-0 left-0 z-50 w-full md:w-80 bg-[#121212] border-r border-[#2D2D2D] flex flex-col h-[100dvh] md:h-full transform transition-transform duration-300 ${i?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[f.jsxs("div",{className:"p-4 relative mt-14 md:mt-0 flex flex-col",children:[f.jsx("div",{className:"flex items-center justify-between mb-2 md:mb-0",children:f.jsx("button",{onClick:()=>o==null?void 0:o(!1),className:"md:hidden text-[#757575] hover:text-[#E0E0E0]",children:f.jsx(Xl,{className:"w-6 h-6"})})}),f.jsxs("div",{className:"flex flex-col space-y-2 sticky top-14 md:static bg-[#121212] z-[55] pb-2 border-b border-[#2D2D2D] md:border-b-0",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsxs("button",{className:"w-full bg-[#1F1F1F] text-white px-4 py-2 rounded-md flex items-center justify-between hover:bg-[#2D2D2D] transition-colors",onClick:()=>h(!d),children:[f.jsx("span",{className:"truncate",children:r?r.display_name||r.name:"Select Workflow"}),f.jsx(Qf,{className:"h-5 w-5 flex-shrink-0 ml-2"})]}),d&&f.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#1F1F1F] rounded-md shadow-lg border border-[#2D2D2D] py-1 z-[60] max-h-[300px] overflow-y-auto",children:p.map(R=>f.jsxs("button",{onClick:()=>X(R),className:"w-full px-4 py-2 text-left flex items-center justify-between hover:bg-[#2D2D2D] transition-colors whitespace-nowrap relative z-[60] text-white",children:[f.jsx("span",{className:"text-white truncate",children:R.display_name||R.name}),(r==null?void 0:r.id)===R.id&&f.jsx(i0,{className:"h-4 w-4 text-emerald-500 flex-shrink-0 ml-2"})]},R.id))})]}),f.jsxs("button",{onClick:()=>{e(),o==null||o(!1)},className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors flex items-center justify-center space-x-2 whitespace-nowrap w-full",children:[f.jsx(dl,{className:"w-5 h-5"}),f.jsx("span",{children:"New Chat"})]})]}),f.jsxs("div",{className:"relative mt-4",children:[f.jsx(Ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"text",placeholder:"Search conversations...",value:a,onChange:R=>l(R.target.value),className:"w-full bg-[#1F1F1F] text-white pl-10 pr-4 py-2 rounded-md placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto",children:f.jsxs("div",{className:"space-y-1 p-2",children:[c.map(R=>f.jsx("button",{onClick:()=>s(R.id),className:`w-full text-left p-3 rounded-md transition-colors ${t===R.id?"bg-[#1F1F1F]":"hover:bg-[#1F1F1F]/50"}`,children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(dl,{className:"h-5 w-5 text-gray-400 mt-1"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-white line-clamp-3",children:R.title}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(R.created_at).toLocaleString()})]})]}),f.jsx("button",{onClick:async U=>{if(U.stopPropagation(),confirm("Are you sure you want to delete this conversation?")){const{error:oe}=await G.from("conversations").delete().eq("id",R.id);oe?re.error("Failed to delete conversation"):(re.success("Conversation deleted"),t===R.id&&s(null),N())}},className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-400",children:f.jsx(Yl,{className:"h-4 w-4"})})]})},R.id)),v&&f.jsx("button",{onClick:O,disabled:y,className:"w-full py-2 text-center text-gray-400 hover:text-white transition-colors disabled:opacity-50",children:y?"Loading...":"Load More"})]})}),i&&f.jsx("div",{className:"fixed inset-0 bg-black/50 md:hidden z-[45]",onClick:()=>o(!1)})]})}var Vo=e=>e.type==="checkbox",Bn=e=>e instanceof Date,pt=e=>e==null;const I0=e=>typeof e=="object";var Le=e=>!pt(e)&&!Array.isArray(e)&&I0(e)&&!Bn(e),fC=e=>Le(e)&&e.target?Vo(e.target)?e.target.checked:e.target.value:e,hC=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pC=(e,t)=>e.has(hC(t)),mC=e=>{const t=e.constructor&&e.constructor.prototype;return Le(t)&&t.hasOwnProperty("isPrototypeOf")},ih=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function at(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(ih&&(e instanceof Blob||n))&&(r||Le(e)))if(t=r?[]:{},!r&&!mC(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=at(e[s]));else return e;return t}var ac=e=>Array.isArray(e)?e.filter(Boolean):[],Be=e=>e===void 0,J=(e,t,r)=>{if(!t||!Le(e))return r;const n=ac(t.split(/[,[\].]+?/)).reduce((s,i)=>pt(s)?s:s[i],e);return Be(n)||n===e?Be(e[t])?r:e[t]:n},yr=e=>typeof e=="boolean",oh=e=>/^\w*$/.test(e),T0=e=>ac(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(e,t,r)=>{let n=-1;const s=oh(t)?[t]:T0(t),i=s.length,o=i-1;for(;++n<i;){const a=s[n];let l=r;if(n!==o){const c=e[a];l=Le(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const Cm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ir={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};de.createContext(null);var gC=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ir.all&&(t._proxyFormState[o]=!n||ir.all),e[o]}});return s},xr=e=>typeof e=="string",yC=(e,t,r,n,s)=>xr(e)?(n&&t.watch.add(e),J(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),J(r,i))):(n&&(t.watchAll=!0),r),O0=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},zi=e=>Array.isArray(e)?e:[e],Nm=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Bd=e=>pt(e)||!I0(e);function tn(e,t){if(Bd(e)||Bd(t))return e===t;if(Bn(e)&&Bn(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Bn(i)&&Bn(o)||Le(i)&&Le(o)||Array.isArray(i)&&Array.isArray(o)?!tn(i,o):i!==o)return!1}}return!0}var ft=e=>Le(e)&&!Object.keys(e).length,ah=e=>e.type==="file",or=e=>typeof e=="function",hl=e=>{if(!ih)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},R0=e=>e.type==="select-multiple",lh=e=>e.type==="radio",vC=e=>lh(e)||Vo(e),bu=e=>hl(e)&&e.isConnected;function xC(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Be(e)?n++:e[t[n++]];return e}function wC(e){for(const t in e)if(e.hasOwnProperty(t)&&!Be(e[t]))return!1;return!0}function Ve(e,t){const r=Array.isArray(t)?t:oh(t)?[t]:T0(t),n=r.length===1?e:xC(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Le(n)&&ft(n)||Array.isArray(n)&&wC(n))&&Ve(e,r.slice(0,-1)),e}var $0=e=>{for(const t in e)if(or(e[t]))return!0;return!1};function pl(e,t={}){const r=Array.isArray(e);if(Le(e)||r)for(const n in e)Array.isArray(e[n])||Le(e[n])&&!$0(e[n])?(t[n]=Array.isArray(e[n])?[]:{},pl(e[n],t[n])):pt(e[n])||(t[n]=!0);return t}function L0(e,t,r){const n=Array.isArray(e);if(Le(e)||n)for(const s in e)Array.isArray(e[s])||Le(e[s])&&!$0(e[s])?Be(t)||Bd(r[s])?r[s]=Array.isArray(e[s])?pl(e[s],[]):{...pl(e[s])}:L0(e[s],pt(t)?{}:t[s],r[s]):r[s]=!tn(e[s],t[s]);return r}var yi=(e,t)=>L0(e,t,pl(t));const jm={value:!1,isValid:!1},Dm={value:!0,isValid:!0};var F0=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Be(e[0].attributes.value)?Be(e[0].value)||e[0].value===""?Dm:{value:e[0].value,isValid:!0}:Dm:jm}return jm},M0=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Be(e)?e:t?e===""?NaN:e&&+e:r&&xr(e)?new Date(e):n?n(e):e;const Pm={isValid:!1,value:null};var B0=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Pm):Pm;function Am(e){const t=e.ref;return ah(t)?t.files:lh(t)?B0(e.refs).value:R0(t)?[...t.selectedOptions].map(({value:r})=>r):Vo(t)?F0(e.refs).value:M0(Be(t.value)?e.ref.value:t.value,e)}var bC=(e,t,r,n)=>{const s={};for(const i of e){const o=J(t,i);o&&ke(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ml=e=>e instanceof RegExp,vi=e=>Be(e)?e:ml(e)?e.source:Le(e)?ml(e.value)?e.value.source:e.value:e,Im=e=>({isOnSubmit:!e||e===ir.onSubmit,isOnBlur:e===ir.onBlur,isOnChange:e===ir.onChange,isOnAll:e===ir.all,isOnTouch:e===ir.onTouched});const Tm="AsyncFunction";var _C=e=>!!e&&!!e.validate&&!!(or(e.validate)&&e.validate.constructor.name===Tm||Le(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Tm)),SC=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Om=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Vi=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=J(e,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Vi(a,t))break}else if(Le(a)&&Vi(a,t))break}}};function Rm(e,t,r){const n=J(e,r);if(n||oh(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=J(t,i),a=J(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:r}}var kC=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return ft(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ir.all))},EC=(e,t,r)=>!e||!t||e===t||zi(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),CC=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,NC=(e,t)=>!ac(J(e,t)).length&&Ve(e,t),jC=(e,t,r)=>{const n=zi(J(e,r));return ke(n,"root",t[r]),ke(e,r,n),e},La=e=>xr(e);function $m(e,t,r="validate"){if(La(e)||Array.isArray(e)&&e.every(La)||yr(e)&&!e)return{type:r,message:La(e)?e:"",ref:t}}var ds=e=>Le(e)&&!ml(e)?e:{value:e,message:""},Lm=async(e,t,r,n,s,i)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:p,validate:x,name:m,valueAsNumber:b,mount:y}=e._f,g=J(r,m);if(!y||t.has(m))return{};const v=a?a[0]:o,S=R=>{s&&v.reportValidity&&(v.setCustomValidity(yr(R)?"":R||""),v.reportValidity())},k={},j=lh(o),P=Vo(o),N=j||P,A=(b||ah(o))&&Be(o.value)&&Be(g)||hl(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,O=O0.bind(null,m,n,k),X=(R,U,oe,I=Cr.maxLength,se=Cr.minLength)=>{const ae=R?U:oe;k[m]={type:R?I:se,message:ae,ref:o,...O(R?I:se,ae)}};if(i?!Array.isArray(g)||!g.length:l&&(!N&&(A||pt(g))||yr(g)&&!g||P&&!F0(a).isValid||j&&!B0(a).isValid)){const{value:R,message:U}=La(l)?{value:!!l,message:l}:ds(l);if(R&&(k[m]={type:Cr.required,message:U,ref:v,...O(Cr.required,U)},!n))return S(U),k}if(!A&&(!pt(d)||!pt(h))){let R,U;const oe=ds(h),I=ds(d);if(!pt(g)&&!isNaN(g)){const se=o.valueAsNumber||g&&+g;pt(oe.value)||(R=se>oe.value),pt(I.value)||(U=se<I.value)}else{const se=o.valueAsDate||new Date(g),ae=F=>new Date(new Date().toDateString()+" "+F),L=o.type=="time",C=o.type=="week";xr(oe.value)&&g&&(R=L?ae(g)>ae(oe.value):C?g>oe.value:se>new Date(oe.value)),xr(I.value)&&g&&(U=L?ae(g)<ae(I.value):C?g<I.value:se<new Date(I.value))}if((R||U)&&(X(!!R,oe.message,I.message,Cr.max,Cr.min),!n))return S(k[m].message),k}if((c||u)&&!A&&(xr(g)||i&&Array.isArray(g))){const R=ds(c),U=ds(u),oe=!pt(R.value)&&g.length>+R.value,I=!pt(U.value)&&g.length<+U.value;if((oe||I)&&(X(oe,R.message,U.message),!n))return S(k[m].message),k}if(p&&!A&&xr(g)){const{value:R,message:U}=ds(p);if(ml(R)&&!g.match(R)&&(k[m]={type:Cr.pattern,message:U,ref:o,...O(Cr.pattern,U)},!n))return S(U),k}if(x){if(or(x)){const R=await x(g,r),U=$m(R,v);if(U&&(k[m]={...U,...O(Cr.validate,U.message)},!n))return S(U.message),k}else if(Le(x)){let R={};for(const U in x){if(!ft(R)&&!n)break;const oe=$m(await x[U](g,r),v,U);oe&&(R={...oe,...O(U,oe.message)},S(oe.message),n&&(k[m]=R))}if(!ft(R)&&(k[m]={ref:v,...R},!n))return k}}return S(!0),k};const DC={mode:ir.onSubmit,reValidateMode:ir.onChange,shouldFocusError:!0};function PC(e={}){let t={...DC,...e},r={submitCount:0,isDirty:!1,isLoading:or(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let s=Le(t.defaultValues)||Le(t.values)?at(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:at(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const h={array:Nm(),state:Nm()},p=Im(t.mode),x=Im(t.reValidateMode),m=t.criteriaMode===ir.all,b=_=>E=>{clearTimeout(c),c=setTimeout(_,E)},y=async _=>{if(!t.disabled&&(u.isValid||d.isValid||_)){const E=t.resolver?ft((await A()).errors):await X(n,!0);E!==r.isValid&&h.state.next({isValid:E})}},g=(_,E)=>{!t.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((_||Array.from(a.mount)).forEach(D=>{D&&(E?ke(r.validatingFields,D,E):Ve(r.validatingFields,D))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ft(r.validatingFields)}))},v=(_,E=[],D,q,V=!0,M=!0)=>{if(q&&D&&!t.disabled){if(o.action=!0,M&&Array.isArray(J(n,_))){const Y=D(J(n,_),q.argA,q.argB);V&&ke(n,_,Y)}if(M&&Array.isArray(J(r.errors,_))){const Y=D(J(r.errors,_),q.argA,q.argB);V&&ke(r.errors,_,Y),NC(r.errors,_)}if((u.touchedFields||d.touchedFields)&&M&&Array.isArray(J(r.touchedFields,_))){const Y=D(J(r.touchedFields,_),q.argA,q.argB);V&&ke(r.touchedFields,_,Y)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=yi(s,i)),h.state.next({name:_,isDirty:U(_,E),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ke(i,_,E)},S=(_,E)=>{ke(r.errors,_,E),h.state.next({errors:r.errors})},k=_=>{r.errors=_,h.state.next({errors:r.errors,isValid:!1})},j=(_,E,D,q)=>{const V=J(n,_);if(V){const M=J(i,_,Be(D)?J(s,_):D);Be(M)||q&&q.defaultChecked||E?ke(i,_,E?M:Am(V._f)):se(_,M),o.mount&&y()}},P=(_,E,D,q,V)=>{let M=!1,Y=!1;const xe={name:_};if(!t.disabled){if(!D||q){(u.isDirty||d.isDirty)&&(Y=r.isDirty,r.isDirty=xe.isDirty=U(),M=Y!==xe.isDirty);const Me=tn(J(s,_),E);Y=!!J(r.dirtyFields,_),Me?Ve(r.dirtyFields,_):ke(r.dirtyFields,_,!0),xe.dirtyFields=r.dirtyFields,M=M||(u.dirtyFields||d.dirtyFields)&&Y!==!Me}if(D){const Me=J(r.touchedFields,_);Me||(ke(r.touchedFields,_,D),xe.touchedFields=r.touchedFields,M=M||(u.touchedFields||d.touchedFields)&&Me!==D)}M&&V&&h.state.next(xe)}return M?xe:{}},N=(_,E,D,q)=>{const V=J(r.errors,_),M=(u.isValid||d.isValid)&&yr(E)&&r.isValid!==E;if(t.delayError&&D?(l=b(()=>S(_,D)),l(t.delayError)):(clearTimeout(c),l=null,D?ke(r.errors,_,D):Ve(r.errors,_)),(D?!tn(V,D):V)||!ft(q)||M){const Y={...q,...M&&yr(E)?{isValid:E}:{},errors:r.errors,name:_};r={...r,...Y},h.state.next(Y)}},A=async _=>{g(_,!0);const E=await t.resolver(i,t.context,bC(_||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(_),E},O=async _=>{const{errors:E}=await A(_);if(_)for(const D of _){const q=J(E,D);q?ke(r.errors,D,q):Ve(r.errors,D)}else r.errors=E;return E},X=async(_,E,D={valid:!0})=>{for(const q in _){const V=_[q];if(V){const{_f:M,...Y}=V;if(M){const xe=a.array.has(M.name),Me=V._f&&_C(V._f);Me&&u.validatingFields&&g([q],!0);const st=await Lm(V,a.disabled,i,m,t.shouldUseNativeValidation&&!E,xe);if(Me&&u.validatingFields&&g([q]),st[M.name]&&(D.valid=!1,E))break;!E&&(J(st,M.name)?xe?jC(r.errors,st,M.name):ke(r.errors,M.name,st[M.name]):Ve(r.errors,M.name))}!ft(Y)&&await X(Y,E,D)}}return D.valid},R=()=>{for(const _ of a.unMount){const E=J(n,_);E&&(E._f.refs?E._f.refs.every(D=>!bu(D)):!bu(E._f.ref))&&zt(_)}a.unMount=new Set},U=(_,E)=>!t.disabled&&(_&&E&&ke(i,_,E),!tn(z(),s)),oe=(_,E,D)=>yC(_,a,{...o.mount?i:Be(E)?s:xr(_)?{[_]:E}:E},D,E),I=_=>ac(J(o.mount?i:s,_,t.shouldUnregister?J(s,_,[]):[])),se=(_,E,D={})=>{const q=J(n,_);let V=E;if(q){const M=q._f;M&&(!M.disabled&&ke(i,_,M0(E,M)),V=hl(M.ref)&&pt(E)?"":E,R0(M.ref)?[...M.ref.options].forEach(Y=>Y.selected=V.includes(Y.value)):M.refs?Vo(M.ref)?M.refs.length>1?M.refs.forEach(Y=>(!Y.defaultChecked||!Y.disabled)&&(Y.checked=Array.isArray(V)?!!V.find(xe=>xe===Y.value):V===Y.value)):M.refs[0]&&(M.refs[0].checked=!!V):M.refs.forEach(Y=>Y.checked=Y.value===V):ah(M.ref)?M.ref.value="":(M.ref.value=V,M.ref.type||h.state.next({name:_,values:at(i)})))}(D.shouldDirty||D.shouldTouch)&&P(_,V,D.shouldTouch,D.shouldDirty,!0),D.shouldValidate&&Q(_)},ae=(_,E,D)=>{for(const q in E){const V=E[q],M=`${_}.${q}`,Y=J(n,M);(a.array.has(_)||Le(V)||Y&&!Y._f)&&!Bn(V)?ae(M,V,D):se(M,V,D)}},L=(_,E,D={})=>{const q=J(n,_),V=a.array.has(_),M=at(E);ke(i,_,M),V?(h.array.next({name:_,values:at(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&D.shouldDirty&&h.state.next({name:_,dirtyFields:yi(s,i),isDirty:U(_,M)})):q&&!q._f&&!pt(M)?ae(_,M,D):se(_,M,D),Om(_,a)&&h.state.next({...r}),h.state.next({name:o.mount?_:void 0,values:at(i)})},C=async _=>{o.mount=!0;const E=_.target;let D=E.name,q=!0;const V=J(n,D),M=Y=>{q=Number.isNaN(Y)||Bn(Y)&&isNaN(Y.getTime())||tn(Y,J(i,D,Y))};if(V){let Y,xe;const Me=E.type?Am(V._f):fC(_),st=_.type===Cm.BLUR||_.type===Cm.FOCUS_OUT,bw=!SC(V._f)&&!t.resolver&&!J(r.errors,D)&&!V._f.deps||CC(st,J(r.touchedFields,D),r.isSubmitted,x,p),Bc=Om(D,a,st);ke(i,D,Me),st?(V._f.onBlur&&V._f.onBlur(_),l&&l(0)):V._f.onChange&&V._f.onChange(_);const Uc=P(D,Me,st),_w=!ft(Uc)||Bc;if(!st&&h.state.next({name:D,type:_.type,values:at(i)}),bw)return(u.isValid||d.isValid)&&(t.mode==="onBlur"?st&&y():st||y()),_w&&h.state.next({name:D,...Bc?{}:Uc});if(!st&&Bc&&h.state.next({...r}),t.resolver){const{errors:Mh}=await A([D]);if(M(Me),q){const Sw=Rm(r.errors,n,D),Bh=Rm(Mh,n,Sw.name||D);Y=Bh.error,D=Bh.name,xe=ft(Mh)}}else g([D],!0),Y=(await Lm(V,a.disabled,i,m,t.shouldUseNativeValidation))[D],g([D]),M(Me),q&&(Y?xe=!1:(u.isValid||d.isValid)&&(xe=await X(n,!0)));q&&(V._f.deps&&Q(V._f.deps),N(D,xe,Y,Uc))}},F=(_,E)=>{if(J(r.errors,E)&&_.focus)return _.focus(),1},Q=async(_,E={})=>{let D,q;const V=zi(_);if(t.resolver){const M=await O(Be(_)?_:V);D=ft(M),q=_?!V.some(Y=>J(M,Y)):D}else _?(q=(await Promise.all(V.map(async M=>{const Y=J(n,M);return await X(Y&&Y._f?{[M]:Y}:Y)}))).every(Boolean),!(!q&&!r.isValid)&&y()):q=D=await X(n);return h.state.next({...!xr(_)||(u.isValid||d.isValid)&&D!==r.isValid?{}:{name:_},...t.resolver||!_?{isValid:D}:{},errors:r.errors}),E.shouldFocus&&!q&&Vi(n,F,_?V:a.mount),q},z=_=>{const E={...o.mount?i:s};return Be(_)?E:xr(_)?J(E,_):_.map(D=>J(E,D))},le=(_,E)=>({invalid:!!J((E||r).errors,_),isDirty:!!J((E||r).dirtyFields,_),error:J((E||r).errors,_),isValidating:!!J(r.validatingFields,_),isTouched:!!J((E||r).touchedFields,_)}),K=_=>{_&&zi(_).forEach(E=>Ve(r.errors,E)),h.state.next({errors:_?r.errors:{}})},Fe=(_,E,D)=>{const q=(J(n,_,{_f:{}})._f||{}).ref,V=J(r.errors,_)||{},{ref:M,message:Y,type:xe,...Me}=V;ke(r.errors,_,{...Me,...E,ref:q}),h.state.next({name:_,errors:r.errors,isValid:!1}),D&&D.shouldFocus&&q&&q.focus&&q.focus()},qe=(_,E)=>or(_)?h.state.subscribe({next:D=>_(oe(void 0,E),D)}):oe(_,E,!0),wt=_=>h.state.subscribe({next:E=>{EC(_.name,E.name,_.exact)&&kC(E,_.formState||u,Ko,_.reRenderRoot)&&_.callback({values:{...i},...r,...E})}}).unsubscribe,zr=_=>(o.mount=!0,d={...d,..._.formState},wt({..._,formState:d})),zt=(_,E={})=>{for(const D of _?zi(_):a.mount)a.mount.delete(D),a.array.delete(D),E.keepValue||(Ve(n,D),Ve(i,D)),!E.keepError&&Ve(r.errors,D),!E.keepDirty&&Ve(r.dirtyFields,D),!E.keepTouched&&Ve(r.touchedFields,D),!E.keepIsValidating&&Ve(r.validatingFields,D),!t.shouldUnregister&&!E.keepDefaultValue&&Ve(s,D);h.state.next({values:at(i)}),h.state.next({...r,...E.keepDirty?{isDirty:U()}:{}}),!E.keepIsValid&&y()},Vr=({disabled:_,name:E})=>{(yr(_)&&o.mount||_||a.disabled.has(E))&&(_?a.disabled.add(E):a.disabled.delete(E))},ze=(_,E={})=>{let D=J(n,_);const q=yr(E.disabled)||yr(t.disabled);return ke(n,_,{...D||{},_f:{...D&&D._f?D._f:{ref:{name:_}},name:_,mount:!0,...E}}),a.mount.add(_),D?Vr({disabled:yr(E.disabled)?E.disabled:t.disabled,name:_}):j(_,!0,E.value),{...q?{disabled:E.disabled||t.disabled}:{},...t.progressive?{required:!!E.required,min:vi(E.min),max:vi(E.max),minLength:vi(E.minLength),maxLength:vi(E.maxLength),pattern:vi(E.pattern)}:{},name:_,onChange:C,onBlur:C,ref:V=>{if(V){ze(_,E),D=J(n,_);const M=Be(V.value)&&V.querySelectorAll&&V.querySelectorAll("input,select,textarea")[0]||V,Y=vC(M),xe=D._f.refs||[];if(Y?xe.find(Me=>Me===M):M===D._f.ref)return;ke(n,_,{_f:{...D._f,...Y?{refs:[...xe.filter(bu),M,...Array.isArray(J(s,_))?[{}]:[]],ref:{type:M.type,name:_}}:{ref:M}}}),j(_,!1,void 0,M)}else D=J(n,_,{}),D._f&&(D._f.mount=!1),(t.shouldUnregister||E.shouldUnregister)&&!(pC(a.array,_)&&o.action)&&a.unMount.add(_)}}},Ee=()=>t.shouldFocusError&&Vi(n,F,a.mount),Dt=_=>{yr(_)&&(h.state.next({disabled:_}),Vi(n,(E,D)=>{const q=J(n,D);q&&(E.disabled=q._f.disabled||_,Array.isArray(q._f.refs)&&q._f.refs.forEach(V=>{V.disabled=q._f.disabled||_}))},0,!1))},Wr=(_,E)=>async D=>{let q;D&&(D.preventDefault&&D.preventDefault(),D.persist&&D.persist());let V=at(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:M,values:Y}=await A();r.errors=M,V=Y}else await X(n);if(a.disabled.size)for(const M of a.disabled)ke(V,M,void 0);if(Ve(r.errors,"root"),ft(r.errors)){h.state.next({errors:{}});try{await _(V,D)}catch(M){q=M}}else E&&await E({...r.errors},D),Ee(),setTimeout(Ee);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ft(r.errors)&&!q,submitCount:r.submitCount+1,errors:r.errors}),q)throw q},qo=(_,E={})=>{J(n,_)&&(Be(E.defaultValue)?L(_,at(J(s,_))):(L(_,E.defaultValue),ke(s,_,at(E.defaultValue))),E.keepTouched||Ve(r.touchedFields,_),E.keepDirty||(Ve(r.dirtyFields,_),r.isDirty=E.defaultValue?U(_,at(J(s,_))):U()),E.keepError||(Ve(r.errors,_),u.isValid&&y()),h.state.next({...r}))},Mc=(_,E={})=>{const D=_?at(_):s,q=at(D),V=ft(_),M=V?s:q;if(E.keepDefaultValues||(s=D),!E.keepValues){if(E.keepDirtyValues){const Y=new Set([...a.mount,...Object.keys(yi(s,i))]);for(const xe of Array.from(Y))J(r.dirtyFields,xe)?ke(M,xe,J(i,xe)):L(xe,J(M,xe))}else{if(ih&&Be(_))for(const Y of a.mount){const xe=J(n,Y);if(xe&&xe._f){const Me=Array.isArray(xe._f.refs)?xe._f.refs[0]:xe._f.ref;if(hl(Me)){const st=Me.closest("form");if(st){st.reset();break}}}}for(const Y of a.mount)L(Y,J(M,Y))}i=at(M),h.array.next({values:{...M}}),h.state.next({values:{...M}})}a={mount:E.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!E.keepIsValid||!!E.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:E.keepSubmitCount?r.submitCount:0,isDirty:V?!1:E.keepDirty?r.isDirty:!!(E.keepDefaultValues&&!tn(_,s)),isSubmitted:E.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:V?{}:E.keepDirtyValues?E.keepDefaultValues&&i?yi(s,i):r.dirtyFields:E.keepDefaultValues&&_?yi(s,_):E.keepDirty?r.dirtyFields:{},touchedFields:E.keepTouched?r.touchedFields:{},errors:E.keepErrors?r.errors:{},isSubmitSuccessful:E.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Zo=(_,E)=>Mc(or(_)?_(i):_,E),os=(_,E={})=>{const D=J(n,_),q=D&&D._f;if(q){const V=q.refs?q.refs[0]:q.ref;V.focus&&(V.focus(),E.shouldSelect&&or(V.select)&&V.select())}},Ko=_=>{r={...r,..._}},Fh={control:{register:ze,unregister:zt,getFieldState:le,handleSubmit:Wr,setError:Fe,_subscribe:wt,_runSchema:A,_getWatch:oe,_getDirty:U,_setValid:y,_setFieldArray:v,_setDisabledField:Vr,_setErrors:k,_getFieldArray:I,_reset:Mc,_resetDefaultValues:()=>or(t.defaultValues)&&t.defaultValues().then(_=>{Zo(_,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:Dt,_subjects:h,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(_){o=_},get _defaultValues(){return s},get _names(){return a},set _names(_){a=_},get _formState(){return r},get _options(){return t},set _options(_){t={...t,..._}}},subscribe:zr,trigger:Q,register:ze,handleSubmit:Wr,watch:qe,setValue:L,getValues:z,reset:Zo,resetField:qo,clearErrors:K,unregister:zt,setError:Fe,setFocus:os,getFieldState:le};return{...Fh,formControl:Fh}}function lc(e={}){const t=de.useRef(void 0),r=de.useRef(void 0),[n,s]=de.useState({isDirty:!1,isValidating:!1,isLoading:or(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:or(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:PC(e),formState:n},e.formControl&&e.defaultValues&&!or(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,de.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),de.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),de.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),de.useEffect(()=>{e.values&&!tn(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),de.useEffect(()=>{e.errors&&!ft(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),de.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),de.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=gC(n,i),t.current}const Fm=(e,t,r)=>{if(e&&"reportValidity"in e){const n=J(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},U0=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Fm(n.ref,r,e):n.refs&&n.refs.forEach(s=>Fm(s,r,e))}},AC=(e,t)=>{t.shouldUseNativeValidation&&U0(e,t);const r={};for(const n in e){const s=J(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(IC(t.names||Object.keys(e),n)){const o=Object.assign({},J(r,n));ke(o,"root",i),ke(r,n,o)}else ke(r,n,i)}return r},IC=(e,t)=>e.some(r=>r.startsWith(t+"."));var TC=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return e.push(d)})}),t){var l=r[o].types,c=l&&l[n.code];r[o]=O0(o,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r},cc=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(c){return i.shouldUseNativeValidation&&U0({},i),{errors:{},values:r.raw?n:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:AC(TC(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};function OC({context:e,error:t}){const r=t instanceof Error?t.message:"An unknown error occurred",n=t instanceof Error?t.stack:void 0;console.error("Error occurred:",{message:r,stack:n,context:e})}async function RC(e,t,r,n){try{const s=r instanceof Error?r.message:"An unknown error occurred",{error:i}=await e.from("workflow_logs").insert({workflow_id:t,level:"error",message:s,details:{error:s,stack:r instanceof Error?r.stack:void 0,context:n}});i&&console.error("Failed to log workflow error:",i)}catch(s){console.error("Failed to log workflow error:",s)}}class xa extends Error{constructor(t,r,n){super(t),this.name="ApiError",this.status=r,this.details=n}}async function z0({workerId:e,apiAuthToken:t,apiConfig:r,variables:n,workflowId:s}){var i;if(console.log("API: Making request with:",{workerId:e,variables:n,workflowId:s}),!e||e==="your-worker-id")throw new xa("Worker ID is not configured",400);if(!t||t==="your-auth-token")throw new xa("API authentication token is not configured",400);try{const o=await fetch(r.url,{method:r.method,headers:{"Content-Type":r.content_type,Authorization:t.startsWith("Bearer ")?t:`Bearer ${t}`},body:JSON.stringify({workerId:e,variables:n})});console.log("API: Response received:",{status:o.status,ok:o.ok});const a=await o.json(),l=a.result||a.responseText||a.response||a.message||"No response received";if(s){const{error:c}=await G.from("workflow_logs").insert({workflow_id:s,level:o.ok?"info":"error",message:o.ok?"API test completed successfully":`API request failed: ${o.statusText}`,details:{workerId:e,url:r.url,method:r.method,status:o.status,response:a},created_by:(i=(await G.auth.getUser()).data.user)==null?void 0:i.id});c&&console.error("Failed to log workflow test:",c)}if(!o.ok)throw new xa(a.message||`API request failed: ${o.statusText}`,o.status,a);return{success:!0,data:{response:l}}}catch(o){throw s||(console.error("API Error Details:",{error:o,stack:o instanceof Error?o.stack:void 0,context:{workerId:e,url:r.url,method:r.method,variables:n}}),OC({context:{workerId:e,url:r.url,method:r.method,variables:n,error:o instanceof Error?o.message:"Unknown error",stack:o instanceof Error?o.stack:void 0},error:o}),await RC(G,s,o,{workflow_id:s,level:"error",message:o instanceof Error?o.message:"Failed to connect to MindStudio API",details:{error:o instanceof Error?o.message:"Unknown error",stack:o instanceof Error?o.stack:void 0,request:{workerId:e,url:r.url,method:r.method,variables:n},response:o instanceof xa?o.details:void 0,context:{workerId:e,url:r.url,method:r.method}}})),o}}var ye;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ye||(ye={}));var Ud;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Ud||(Ud={}));const H=ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ar=e=>{switch(typeof e){case"undefined":return H.undefined;case"string":return H.string;case"number":return isNaN(e)?H.nan:H.number;case"boolean":return H.boolean;case"function":return H.function;case"bigint":return H.bigint;case"symbol":return H.symbol;case"object":return Array.isArray(e)?H.array:e===null?H.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?H.promise:typeof Map<"u"&&e instanceof Map?H.map:typeof Set<"u"&&e instanceof Set?H.set:typeof Date<"u"&&e instanceof Date?H.date:H.object;default:return H.unknown}},T=ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$C=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Rt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),n}static assert(t){if(!(t instanceof Rt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Rt.create=e=>new Rt(e);const Gs=(e,t)=>{let r;switch(e.code){case T.invalid_type:e.received===H.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case T.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ye.jsonStringifyReplacer)}`;break;case T.unrecognized_keys:r=`Unrecognized key(s) in object: ${ye.joinValues(e.keys,", ")}`;break;case T.invalid_union:r="Invalid input";break;case T.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ye.joinValues(e.options)}`;break;case T.invalid_enum_value:r=`Invalid enum value. Expected ${ye.joinValues(e.options)}, received '${e.received}'`;break;case T.invalid_arguments:r="Invalid function arguments";break;case T.invalid_return_type:r="Invalid function return type";break;case T.invalid_date:r="Invalid date";break;case T.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ye.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case T.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case T.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case T.custom:r="Invalid input";break;case T.invalid_intersection_types:r="Intersection results could not be merged";break;case T.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case T.not_finite:r="Number must be finite";break;default:r=t.defaultError,ye.assertNever(e)}return{message:r}};let V0=Gs;function LC(e){V0=e}function gl(){return V0}const yl=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:t,defaultError:a}).message;return{...s,path:i,message:a}},FC=[];function W(e,t){const r=gl(),n=yl({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Gs?void 0:Gs].filter(s=>!!s)});e.common.issues.push(n)}class ut{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return ie;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return ut.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ie;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const ie=Object.freeze({status:"aborted"}),Ns=e=>({status:"dirty",value:e}),yt=e=>({status:"valid",value:e}),zd=e=>e.status==="aborted",Vd=e=>e.status==="dirty",Yn=e=>e.status==="valid",ho=e=>typeof Promise<"u"&&e instanceof Promise;function vl(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function W0(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ee;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ee||(ee={}));var Ni,ji;class Sr{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Mm=(e,t)=>{if(Yn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Rt(e.common.issues);return this._error=r,this._error}}};function ce(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,a)=>{var l,c;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??n)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:a.defaultError}},description:s}}class fe{get description(){return this._def.description}_getType(t){return Ar(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ar(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ut,ctx:{common:t.parent.common,data:t.data,parsedType:Ar(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ho(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ar(t)},i=this._parseSync({data:t,path:s.path,parent:s});return Mm(s,i)}"~validate"(t){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ar(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return Yn(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>Yn(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ar(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(ho(s)?s:Promise.resolve(s));return Mm(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),a=()=>i.addIssue({code:T.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new hr({schema:this,typeName:ne.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return _r.create(this,this._def)}nullable(){return _n.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dr.create(this)}promise(){return qs.create(this,this._def)}or(t){return yo.create([this,t],this._def)}and(t){return vo.create(this,t,this._def)}transform(t){return new hr({...ce(this._def),schema:this,typeName:ne.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new So({...ce(this._def),innerType:this,defaultValue:r,typeName:ne.ZodDefault})}brand(){return new ch({typeName:ne.ZodBranded,type:this,...ce(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ko({...ce(this._def),innerType:this,catchValue:r,typeName:ne.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Wo.create(this,t)}readonly(){return Eo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const MC=/^c[^\s-]{8,}$/i,BC=/^[0-9a-z]+$/,UC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,zC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,VC=/^[a-z0-9_-]{21}$/i,WC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,HC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,qC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _u;const ZC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,KC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,JC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,QC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,YC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,XC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,G0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",e2=new RegExp(`^${G0}$`);function H0(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function t2(e){return new RegExp(`^${H0(e)}$`)}function q0(e){let t=`${G0}T${H0(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function r2(e,t){return!!((t==="v4"||!t)&&ZC.test(e)||(t==="v6"||!t)&&JC.test(e))}function n2(e,t){if(!WC.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function s2(e,t){return!!((t==="v4"||!t)&&KC.test(e)||(t==="v6"||!t)&&QC.test(e))}class ar extends fe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==H.string){const i=this._getOrReturnCtx(t);return W(i,{code:T.invalid_type,expected:H.string,received:i.parsedType}),ie}const n=new ut;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),W(s,{code:T.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),W(s,{code:T.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(t,s),o?W(s,{code:T.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&W(s,{code:T.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")HC.test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"email",code:T.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")_u||(_u=new RegExp(qC,"u")),_u.test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"emoji",code:T.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")zC.test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"uuid",code:T.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")VC.test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"nanoid",code:T.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")MC.test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"cuid",code:T.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")BC.test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"cuid2",code:T.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")UC.test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"ulid",code:T.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),W(s,{validation:"url",code:T.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"regex",code:T.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),W(s,{code:T.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),W(s,{code:T.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),W(s,{code:T.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?q0(i).test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{code:T.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?e2.test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{code:T.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?t2(i).test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{code:T.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?GC.test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"duration",code:T.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?r2(t.data,i.version)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"ip",code:T.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?n2(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"jwt",code:T.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?s2(t.data,i.version)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"cidr",code:T.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?YC.test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"base64",code:T.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?XC.test(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{validation:"base64url",code:T.invalid_string,message:i.message}),n.dirty()):ye.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:T.invalid_string,...ee.errToObj(n)})}_addCheck(t){return new ar({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ee.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ee.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ee.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ee.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ee.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ee.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ee.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ee.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ee.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ee.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ee.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ee.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ee.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...ee.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ee.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ee.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ee.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ee.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ee.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ee.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ee.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ee.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ee.errToObj(r)})}nonempty(t){return this.min(1,ee.errToObj(t))}trim(){return new ar({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ar({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ar({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ar.create=e=>{var t;return new ar({checks:[],typeName:ne.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ce(e)})};function i2(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class xn extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==H.number){const i=this._getOrReturnCtx(t);return W(i,{code:T.invalid_type,expected:H.number,received:i.parsedType}),ie}let n;const s=new ut;for(const i of this._def.checks)i.kind==="int"?ye.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),W(n,{code:T.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),W(n,{code:T.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),W(n,{code:T.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?i2(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),W(n,{code:T.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),W(n,{code:T.not_finite,message:i.message}),s.dirty()):ye.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ee.toString(r))}setLimit(t,r,n,s){return new xn({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ee.toString(s)}]})}_addCheck(t){return new xn({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ee.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ee.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ee.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ee.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ye.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}xn.create=e=>new xn({checks:[],typeName:ne.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ce(e)});class wn extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==H.bigint)return this._getInvalidInput(t);let n;const s=new ut;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),W(n,{code:T.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),W(n,{code:T.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),W(n,{code:T.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ye.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return W(r,{code:T.invalid_type,expected:H.bigint,received:r.parsedType}),ie}gte(t,r){return this.setLimit("min",t,!0,ee.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ee.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ee.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ee.toString(r))}setLimit(t,r,n,s){return new wn({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ee.toString(s)}]})}_addCheck(t){return new wn({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ee.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ee.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}wn.create=e=>{var t;return new wn({checks:[],typeName:ne.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ce(e)})};class po extends fe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==H.boolean){const n=this._getOrReturnCtx(t);return W(n,{code:T.invalid_type,expected:H.boolean,received:n.parsedType}),ie}return yt(t.data)}}po.create=e=>new po({typeName:ne.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ce(e)});class Xn extends fe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==H.date){const i=this._getOrReturnCtx(t);return W(i,{code:T.invalid_type,expected:H.date,received:i.parsedType}),ie}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return W(i,{code:T.invalid_date}),ie}const n=new ut;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),W(s,{code:T.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),W(s,{code:T.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ye.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Xn({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ee.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ee.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Xn.create=e=>new Xn({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ne.ZodDate,...ce(e)});class xl extends fe{_parse(t){if(this._getType(t)!==H.symbol){const n=this._getOrReturnCtx(t);return W(n,{code:T.invalid_type,expected:H.symbol,received:n.parsedType}),ie}return yt(t.data)}}xl.create=e=>new xl({typeName:ne.ZodSymbol,...ce(e)});class mo extends fe{_parse(t){if(this._getType(t)!==H.undefined){const n=this._getOrReturnCtx(t);return W(n,{code:T.invalid_type,expected:H.undefined,received:n.parsedType}),ie}return yt(t.data)}}mo.create=e=>new mo({typeName:ne.ZodUndefined,...ce(e)});class go extends fe{_parse(t){if(this._getType(t)!==H.null){const n=this._getOrReturnCtx(t);return W(n,{code:T.invalid_type,expected:H.null,received:n.parsedType}),ie}return yt(t.data)}}go.create=e=>new go({typeName:ne.ZodNull,...ce(e)});class Hs extends fe{constructor(){super(...arguments),this._any=!0}_parse(t){return yt(t.data)}}Hs.create=e=>new Hs({typeName:ne.ZodAny,...ce(e)});class Gn extends fe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return yt(t.data)}}Gn.create=e=>new Gn({typeName:ne.ZodUnknown,...ce(e)});class Br extends fe{_parse(t){const r=this._getOrReturnCtx(t);return W(r,{code:T.invalid_type,expected:H.never,received:r.parsedType}),ie}}Br.create=e=>new Br({typeName:ne.ZodNever,...ce(e)});class wl extends fe{_parse(t){if(this._getType(t)!==H.undefined){const n=this._getOrReturnCtx(t);return W(n,{code:T.invalid_type,expected:H.void,received:n.parsedType}),ie}return yt(t.data)}}wl.create=e=>new wl({typeName:ne.ZodVoid,...ce(e)});class dr extends fe{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==H.array)return W(r,{code:T.invalid_type,expected:H.array,received:r.parsedType}),ie;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(o||a)&&(W(r,{code:o?T.too_big:T.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(W(r,{code:T.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(W(r,{code:T.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>s.type._parseAsync(new Sr(r,o,r.path,a)))).then(o=>ut.mergeArray(n,o));const i=[...r.data].map((o,a)=>s.type._parseSync(new Sr(r,o,r.path,a)));return ut.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new dr({...this._def,minLength:{value:t,message:ee.toString(r)}})}max(t,r){return new dr({...this._def,maxLength:{value:t,message:ee.toString(r)}})}length(t,r){return new dr({...this._def,exactLength:{value:t,message:ee.toString(r)}})}nonempty(t){return this.min(1,t)}}dr.create=(e,t)=>new dr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ne.ZodArray,...ce(t)});function ps(e){if(e instanceof Ae){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=_r.create(ps(n))}return new Ae({...e._def,shape:()=>t})}else return e instanceof dr?new dr({...e._def,type:ps(e.element)}):e instanceof _r?_r.create(ps(e.unwrap())):e instanceof _n?_n.create(ps(e.unwrap())):e instanceof kr?kr.create(e.items.map(t=>ps(t))):e}class Ae extends fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ye.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==H.object){const c=this._getOrReturnCtx(t);return W(c,{code:T.invalid_type,expected:H.object,received:c.parsedType}),ie}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Br&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Sr(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Br){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(W(s,{code:T.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Sr(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>ut.mergeObjectSync(n,c)):ut.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return ee.errToObj,new Ae({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,i,o,a;const l=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=ee.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Ae({...this._def,unknownKeys:"strip"})}passthrough(){return new Ae({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ae({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ae({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ne.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ae({...this._def,catchall:t})}pick(t){const r={};return ye.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ae({...this._def,shape:()=>r})}omit(t){const r={};return ye.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Ae({...this._def,shape:()=>r})}deepPartial(){return ps(this)}partial(t){const r={};return ye.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new Ae({...this._def,shape:()=>r})}required(t){const r={};return ye.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof _r;)i=i._def.innerType;r[n]=i}}),new Ae({...this._def,shape:()=>r})}keyof(){return Z0(ye.objectKeys(this.shape))}}Ae.create=(e,t)=>new Ae({shape:()=>e,unknownKeys:"strip",catchall:Br.create(),typeName:ne.ZodObject,...ce(t)});Ae.strictCreate=(e,t)=>new Ae({shape:()=>e,unknownKeys:"strict",catchall:Br.create(),typeName:ne.ZodObject,...ce(t)});Ae.lazycreate=(e,t)=>new Ae({shape:e,unknownKeys:"strip",catchall:Br.create(),typeName:ne.ZodObject,...ce(t)});class yo extends fe{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Rt(a.ctx.common.issues));return W(r,{code:T.invalid_union,unionErrors:o}),ie}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new Rt(l));return W(r,{code:T.invalid_union,unionErrors:a}),ie}}get options(){return this._def.options}}yo.create=(e,t)=>new yo({options:e,typeName:ne.ZodUnion,...ce(t)});const Nr=e=>e instanceof wo?Nr(e.schema):e instanceof hr?Nr(e.innerType()):e instanceof bo?[e.value]:e instanceof bn?e.options:e instanceof _o?ye.objectValues(e.enum):e instanceof So?Nr(e._def.innerType):e instanceof mo?[void 0]:e instanceof go?[null]:e instanceof _r?[void 0,...Nr(e.unwrap())]:e instanceof _n?[null,...Nr(e.unwrap())]:e instanceof ch||e instanceof Eo?Nr(e.unwrap()):e instanceof ko?Nr(e._def.innerType):[];class uc extends fe{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==H.object)return W(r,{code:T.invalid_type,expected:H.object,received:r.parsedType}),ie;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(W(r,{code:T.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const i of r){const o=Nr(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);s.set(a,i)}}return new uc({typeName:ne.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...ce(n)})}}function Wd(e,t){const r=Ar(e),n=Ar(t);if(e===t)return{valid:!0,data:e};if(r===H.object&&n===H.object){const s=ye.objectKeys(t),i=ye.objectKeys(e).filter(a=>s.indexOf(a)!==-1),o={...e,...t};for(const a of i){const l=Wd(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===H.array&&n===H.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],a=t[i],l=Wd(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===H.date&&n===H.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class vo extends fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(zd(i)||zd(o))return ie;const a=Wd(i.value,o.value);return a.valid?((Vd(i)||Vd(o))&&r.dirty(),{status:r.value,value:a.data}):(W(n,{code:T.invalid_intersection_types}),ie)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}vo.create=(e,t,r)=>new vo({left:e,right:t,typeName:ne.ZodIntersection,...ce(r)});class kr extends fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==H.array)return W(n,{code:T.invalid_type,expected:H.array,received:n.parsedType}),ie;if(n.data.length<this._def.items.length)return W(n,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ie;!this._def.rest&&n.data.length>this._def.items.length&&(W(n,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Sr(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ut.mergeArray(r,o)):ut.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new kr({...this._def,rest:t})}}kr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new kr({items:e,typeName:ne.ZodTuple,rest:null,...ce(t)})};class xo extends fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==H.object)return W(n,{code:T.invalid_type,expected:H.object,received:n.parsedType}),ie;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in n.data)s.push({key:i._parse(new Sr(n,a,n.path,a)),value:o._parse(new Sr(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?ut.mergeObjectAsync(r,s):ut.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof fe?new xo({keyType:t,valueType:r,typeName:ne.ZodRecord,...ce(n)}):new xo({keyType:ar.create(),valueType:t,typeName:ne.ZodRecord,...ce(r)})}}class bl extends fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==H.map)return W(n,{code:T.invalid_type,expected:H.map,received:n.parsedType}),ie;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([a,l],c)=>({key:s._parse(new Sr(n,a,n.path,[c,"key"])),value:i._parse(new Sr(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return ie;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return ie;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}}}}bl.create=(e,t,r)=>new bl({valueType:t,keyType:e,typeName:ne.ZodMap,...ce(r)});class es extends fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==H.set)return W(n,{code:T.invalid_type,expected:H.set,received:n.parsedType}),ie;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(W(n,{code:T.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(W(n,{code:T.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return ie;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>i._parse(new Sr(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,r){return new es({...this._def,minSize:{value:t,message:ee.toString(r)}})}max(t,r){return new es({...this._def,maxSize:{value:t,message:ee.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}es.create=(e,t)=>new es({valueType:e,minSize:null,maxSize:null,typeName:ne.ZodSet,...ce(t)});class Rs extends fe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==H.function)return W(r,{code:T.invalid_type,expected:H.function,received:r.parsedType}),ie;function n(a,l){return yl({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,gl(),Gs].filter(c=>!!c),issueData:{code:T.invalid_arguments,argumentsError:l}})}function s(a,l){return yl({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,gl(),Gs].filter(c=>!!c),issueData:{code:T.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof qs){const a=this;return yt(async function(...l){const c=new Rt([]),u=await a._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(n(l,p)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,i).catch(p=>{throw c.addIssue(s(d,p)),c})})}else{const a=this;return yt(function(...l){const c=a._def.args.safeParse(l,i);if(!c.success)throw new Rt([n(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,i);if(!d.success)throw new Rt([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Rs({...this._def,args:kr.create(t).rest(Gn.create())})}returns(t){return new Rs({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Rs({args:t||kr.create([]).rest(Gn.create()),returns:r||Gn.create(),typeName:ne.ZodFunction,...ce(n)})}}class wo extends fe{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}wo.create=(e,t)=>new wo({getter:e,typeName:ne.ZodLazy,...ce(t)});class bo extends fe{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return W(r,{received:r.data,code:T.invalid_literal,expected:this._def.value}),ie}return{status:"valid",value:t.data}}get value(){return this._def.value}}bo.create=(e,t)=>new bo({value:e,typeName:ne.ZodLiteral,...ce(t)});function Z0(e,t){return new bn({values:e,typeName:ne.ZodEnum,...ce(t)})}class bn extends fe{constructor(){super(...arguments),Ni.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return W(r,{expected:ye.joinValues(n),received:r.parsedType,code:T.invalid_type}),ie}if(vl(this,Ni)||W0(this,Ni,new Set(this._def.values)),!vl(this,Ni).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return W(r,{received:r.data,code:T.invalid_enum_value,options:n}),ie}return yt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return bn.create(t,{...this._def,...r})}exclude(t,r=this._def){return bn.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ni=new WeakMap;bn.create=Z0;class _o extends fe{constructor(){super(...arguments),ji.set(this,void 0)}_parse(t){const r=ye.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==H.string&&n.parsedType!==H.number){const s=ye.objectValues(r);return W(n,{expected:ye.joinValues(s),received:n.parsedType,code:T.invalid_type}),ie}if(vl(this,ji)||W0(this,ji,new Set(ye.getValidEnumValues(this._def.values))),!vl(this,ji).has(t.data)){const s=ye.objectValues(r);return W(n,{received:n.data,code:T.invalid_enum_value,options:s}),ie}return yt(t.data)}get enum(){return this._def.values}}ji=new WeakMap;_o.create=(e,t)=>new _o({values:e,typeName:ne.ZodNativeEnum,...ce(t)});class qs extends fe{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==H.promise&&r.common.async===!1)return W(r,{code:T.invalid_type,expected:H.promise,received:r.parsedType}),ie;const n=r.parsedType===H.promise?r.data:Promise.resolve(r.data);return yt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}qs.create=(e,t)=>new qs({type:e,typeName:ne.ZodPromise,...ce(t)});class hr extends fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{W(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return ie;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?ie:l.status==="dirty"||r.value==="dirty"?Ns(l.value):l});{if(r.value==="aborted")return ie;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?ie:a.status==="dirty"||r.value==="dirty"?Ns(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ie:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?ie:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Yn(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Yn(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:r.value,value:a})):o);ye.assertNever(s)}}hr.create=(e,t,r)=>new hr({schema:e,typeName:ne.ZodEffects,effect:t,...ce(r)});hr.createWithPreprocess=(e,t,r)=>new hr({schema:t,effect:{type:"preprocess",transform:e},typeName:ne.ZodEffects,...ce(r)});class _r extends fe{_parse(t){return this._getType(t)===H.undefined?yt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_r.create=(e,t)=>new _r({innerType:e,typeName:ne.ZodOptional,...ce(t)});class _n extends fe{_parse(t){return this._getType(t)===H.null?yt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_n.create=(e,t)=>new _n({innerType:e,typeName:ne.ZodNullable,...ce(t)});class So extends fe{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===H.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}So.create=(e,t)=>new So({innerType:e,typeName:ne.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ce(t)});class ko extends fe{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ho(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rt(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ko.create=(e,t)=>new ko({innerType:e,typeName:ne.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ce(t)});class _l extends fe{_parse(t){if(this._getType(t)!==H.nan){const n=this._getOrReturnCtx(t);return W(n,{code:T.invalid_type,expected:H.nan,received:n.parsedType}),ie}return{status:"valid",value:t.data}}}_l.create=e=>new _l({typeName:ne.ZodNaN,...ce(e)});const o2=Symbol("zod_brand");class ch extends fe{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Wo extends fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ie:i.status==="dirty"?(r.dirty(),Ns(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ie:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Wo({in:t,out:r,typeName:ne.ZodPipeline})}}class Eo extends fe{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Yn(s)&&(s.value=Object.freeze(s.value)),s);return ho(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Eo.create=(e,t)=>new Eo({innerType:e,typeName:ne.ZodReadonly,...ce(t)});function Bm(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function K0(e,t={},r){return e?Hs.create().superRefine((n,s)=>{var i,o;const a=e(n);if(a instanceof Promise)return a.then(l=>{var c,u;if(!l){const d=Bm(t,n),h=(u=(c=d.fatal)!==null&&c!==void 0?c:r)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...d,fatal:h})}});if(!a){const l=Bm(t,n),c=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...l,fatal:c})}}):Hs.create()}const a2={object:Ae.lazycreate};var ne;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ne||(ne={}));const l2=(e,t={message:`Input not instance of ${e.name}`})=>K0(r=>r instanceof e,t),J0=ar.create,Q0=xn.create,c2=_l.create,u2=wn.create,Y0=po.create,d2=Xn.create,f2=xl.create,h2=mo.create,p2=go.create,m2=Hs.create,g2=Gn.create,y2=Br.create,v2=wl.create,x2=dr.create,w2=Ae.create,b2=Ae.strictCreate,_2=yo.create,S2=uc.create,k2=vo.create,E2=kr.create,C2=xo.create,N2=bl.create,j2=es.create,D2=Rs.create,P2=wo.create,A2=bo.create,I2=bn.create,T2=_o.create,O2=qs.create,Um=hr.create,R2=_r.create,$2=_n.create,L2=hr.createWithPreprocess,F2=Wo.create,M2=()=>J0().optional(),B2=()=>Q0().optional(),U2=()=>Y0().optional(),z2={string:e=>ar.create({...e,coerce:!0}),number:e=>xn.create({...e,coerce:!0}),boolean:e=>po.create({...e,coerce:!0}),bigint:e=>wn.create({...e,coerce:!0}),date:e=>Xn.create({...e,coerce:!0})},V2=ie;var me=Object.freeze({__proto__:null,defaultErrorMap:Gs,setErrorMap:LC,getErrorMap:gl,makeIssue:yl,EMPTY_PATH:FC,addIssueToContext:W,ParseStatus:ut,INVALID:ie,DIRTY:Ns,OK:yt,isAborted:zd,isDirty:Vd,isValid:Yn,isAsync:ho,get util(){return ye},get objectUtil(){return Ud},ZodParsedType:H,getParsedType:Ar,ZodType:fe,datetimeRegex:q0,ZodString:ar,ZodNumber:xn,ZodBigInt:wn,ZodBoolean:po,ZodDate:Xn,ZodSymbol:xl,ZodUndefined:mo,ZodNull:go,ZodAny:Hs,ZodUnknown:Gn,ZodNever:Br,ZodVoid:wl,ZodArray:dr,ZodObject:Ae,ZodUnion:yo,ZodDiscriminatedUnion:uc,ZodIntersection:vo,ZodTuple:kr,ZodRecord:xo,ZodMap:bl,ZodSet:es,ZodFunction:Rs,ZodLazy:wo,ZodLiteral:bo,ZodEnum:bn,ZodNativeEnum:_o,ZodPromise:qs,ZodEffects:hr,ZodTransformer:hr,ZodOptional:_r,ZodNullable:_n,ZodDefault:So,ZodCatch:ko,ZodNaN:_l,BRAND:o2,ZodBranded:ch,ZodPipeline:Wo,ZodReadonly:Eo,custom:K0,Schema:fe,ZodSchema:fe,late:a2,get ZodFirstPartyTypeKind(){return ne},coerce:z2,any:m2,array:x2,bigint:u2,boolean:Y0,date:d2,discriminatedUnion:S2,effect:Um,enum:I2,function:D2,instanceof:l2,intersection:k2,lazy:P2,literal:A2,map:N2,nan:c2,nativeEnum:T2,never:y2,null:p2,nullable:$2,number:Q0,object:w2,oboolean:U2,onumber:B2,optional:R2,ostring:M2,pipeline:F2,preprocess:L2,promise:O2,record:C2,set:j2,strictObject:b2,string:J0,symbol:f2,transformer:Um,tuple:E2,undefined:h2,union:_2,unknown:g2,void:v2,NEVER:V2,ZodIssueCode:T,quotelessJson:$C,ZodError:Rt});me.object({email:me.string().email("Invalid email address"),password:me.string().min(8,"Password must be at least 8 characters").max(72,"Password must be less than 72 characters"),confirmPassword:me.string(),company_name:me.string().min(1,"Company name is required")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});const W2=me.object({email:me.string().email("Invalid email address"),password:me.string().min(1,"Password is required")}),G2=me.object({email:me.string().email("Invalid email format"),password:me.string().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least 1 uppercase letter").regex(/[a-z]/,"Password must contain at least 1 lowercase letter").regex(/[0-9]/,"Password must contain at least 1 number").regex(/[^A-Za-z0-9]/,"Password must contain at least 1 special character").optional(),confirmPassword:me.string().optional(),company_name:me.string().min(1,"Company name is required").max(100,"Company name too long"),role:me.enum(["admin","user","manager"])}).refine(e=>e.password||e.confirmPassword?e.password===e.confirmPassword:!0,{message:"Passwords don't match",path:["confirmPassword"]}),H2=me.object({name:me.string().min(1,"Name is required").max(100,"Name is too long"),display_name:me.string().max(100,"Display name is too long").optional(),description:me.string().max(500,"Description is too long").optional(),status:me.enum(["active","inactive","archived"]).default("active"),api_url:me.enum(["https://api.mindstudio.ai/developer/v2/workers/run","https://api.mindstudio.ai/developer/v2/apps/run"]).default("https://api.mindstudio.ai/developer/v2/workers/run"),stages:me.array(me.object({name:me.string(),description:me.string().optional(),order:me.number()})).default([]),assignment_rules:me.record(me.any()).default({}),approval_levels:me.number().min(1).max(10).default(1),supports_documents:me.boolean().default(!1)});function q2({workflow:e,onClose:t,onSave:r}){const[n,s]=w.useState(!1),[i,o]=w.useState("general"),[a,l]=w.useState([{name:"request",value:"request"}]),[c,u]=w.useState(!1),[d,h]=w.useState({name:"",value:""}),[p,x]=w.useState(!1),[m,b]=w.useState(""),[y,g]=w.useState(""),[v,S]=w.useState("https://api.mindstudio.ai/developer/v2/workers/run"),[k,j]=w.useState(!1),[P,N]=w.useState(!1),A=lc({resolver:cc(H2),defaultValues:{status:"active",api_url:"https://api.mindstudio.ai/developer/v2/workers/run",stages:[],assignment_rules:{},approval_levels:1,supports_documents:!1}}),{register:O,handleSubmit:X,formState:{errors:R},watch:U,reset:oe}=A;w.useEffect(()=>{var C,F;if(e){console.log("Workflow data received:",e),oe({...e,display_name:e.display_name||""}),S(e.api_url||"https://api.mindstudio.ai/developer/v2/workers/run");const Q=e.supports_documents===!0,z=e.supports_images===!0;if(console.log("Setting support flags:",{documents:Q,images:z}),j(Q),N(z),g(((C=e.worker_id)==null?void 0:C.trim())||""),b(((F=e.api_auth_token)==null?void 0:F.trim())||""),e.variables&&Array.isArray(e.variables)){const le=e.variables.map(K=>({name:typeof K.name=="string"?K.name:"",value:typeof K.value=="string"?K.value:""}));l(le.length>0?le:[{name:"request",value:"request"}])}}},[e,oe]);const I=async C=>{var F,Q;try{s(!0);const z=[];if((F=C.name)!=null&&F.trim()||z.push("Workflow Name"),y!=null&&y.trim()||z.push("Worker ID"),m!=null&&m.trim()||z.push("Authorization"),a.length===0&&z.push("At least one variable"),z.length>0){re.error(`Missing required fields: ${z.join(", ")}`),s(!1);return}const{data:le}=await G.auth.getUser();if(!((Q=le==null?void 0:le.user)!=null&&Q.id))throw new Error("User not authenticated");const K={...C,api_url:v,worker_id:y.trim(),api_auth_token:m.trim().startsWith("Bearer ")?m.trim():`Bearer ${m.trim()}`,variables:a.map(qe=>({name:qe.name.trim(),value:qe.value.trim()})),api_config:{method:"post",url:v,content_type:"application/json"},created_by:le.user.id},{error:Fe}=e?await G.from("workflows").update({name:K.name,description:K.description,display_name:K.display_name,status:K.status,api_url:K.api_url,stages:K.stages,assignment_rules:K.assignment_rules,approval_levels:K.approval_levels,worker_id:K.worker_id,api_auth_token:K.api_auth_token,api_config:K.api_config,variables:K.variables,created_by:K.created_by,supports_documents:!!k,supports_images:!!P}).eq("id",e.id):await G.from("workflows").insert([{name:K.name,description:K.description,display_name:K.display_name,status:K.status,api_url:K.api_url,stages:K.stages,assignment_rules:K.assignment_rules,approval_levels:K.approval_levels,worker_id:K.worker_id,api_auth_token:K.api_auth_token,api_config:K.api_config,variables:K.variables,created_by:K.created_by,supports_documents:!!k,supports_images:!!P}]);if(Fe)throw console.error("Supabase error:",Fe),new Error(Fe.message);re.success(e?"Workflow updated":"Workflow created"),r()}catch(z){console.error("Error:",z),re.error(z instanceof Error?z.message:"Failed to save workflow")}finally{s(!1)}},se=()=>{d.name&&d.value&&(l(C=>{const F=[...C];return F.push({name:d.name.trim(),value:d.value.trim()}),F}),h({name:"",value:""}),u(!1))},ae=C=>{C!==0&&l(F=>F.filter((Q,z)=>z!==C))},L=async()=>{if(!y){re.error("Worker ID is required");return}if(!m){re.error("Authorization token is required");return}try{if(x(!0),!(e!=null&&e.id)){re.error("Workflow must be saved before testing");return}await z0({workerId:y,apiAuthToken:m.startsWith("Bearer ")?m:`Bearer ${m}`,apiConfig:{method:"post",url:v,content_type:"application/json"},variables:{...Object.fromEntries(a.map(C=>[C.name,C.value])),workflow:U("name")||""}}),re.success("API test successful")}catch(C){console.error("API test error:",C),re.error(C instanceof Error?C.message:"API test failed")}finally{x(!1)}};return f.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:[f.jsx("div",{className:"bg-[#1F1F1F] rounded-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold text-white",children:e?"Edit Workflow":"Add Workflow"}),f.jsx("button",{onClick:t,className:"text-[#757575] hover:text-[#E0E0E0] transition-colors",children:f.jsx(Xl,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"flex space-x-4 border-b border-[#2D2D2D]",children:[f.jsx("button",{onClick:()=>o("general"),className:`py-2 px-4 ${i==="general"?"text-white border-b-2 border-white":"text-[#757575]"}`,children:"General"}),f.jsx("button",{onClick:()=>o("api"),className:`py-2 px-4 ${i==="api"?"text-white border-b-2 border-white":"text-[#757575]"}`,children:"API Configuration"}),f.jsx("button",{onClick:()=>o("variables"),className:`py-2 px-4 ${i==="variables"?"text-white border-b-2 border-white":"text-[#757575]"}`,children:"Variables"})]}),f.jsxs("form",{onSubmit:X(I),className:"space-y-6",children:[i==="general"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Internal Name"}),f.jsx("input",{...O("name"),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter internal workflow name"}),R.name&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:R.name.message}),f.jsx("p",{className:"mt-1 text-sm text-[#757575]",children:"This name is used internally and for API calls"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Display Name"}),f.jsx("input",{...O("display_name"),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter display name (optional)"}),R.display_name&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:R.display_name.message}),f.jsx("p",{className:"mt-1 text-sm text-[#757575]",children:"This name will be shown in the sidebar (falls back to internal name if not set)"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Description"}),f.jsx("textarea",{...O("description"),rows:3,className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter workflow description"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Worker ID"}),f.jsx("input",{required:!0,type:"text",value:y,onChange:C=>g(C.target.value),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter worker ID"}),!(y!=null&&y.trim())&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Worker ID is required"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"checkbox",id:"documentUpload",checked:k,onChange:C=>j(C.target.checked),className:"rounded border-[#2D2D2D] bg-[#1A1B1E] text-[#f7ab38] focus:ring-[#f7ab38]"}),f.jsx("label",{htmlFor:"documentUpload",className:"text-white",children:"Support Document Uploads"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"checkbox",id:"imageUpload",checked:P,onChange:C=>{const F=C.target.checked;console.log("Changing supports_images to:",F),N(F)},className:"rounded border-[#2D2D2D] bg-[#1A1B1E] text-[#f7ab38] focus:ring-[#f7ab38]"}),f.jsx("label",{htmlFor:"imageUpload",className:"text-white",children:"Support Image Uploads"})]})]}),(k||P)&&f.jsx("p",{className:"text-sm text-[#757575]",children:k&&P?"Documents (.pdf, .doc, .docx, .txt) and Images (.png, .jpg, .jpeg, .gif) are supported":k?"Documents (.pdf, .doc, .docx, .txt) are supported":"Images (.png, .jpg, .jpeg, .gif) are supported"})]})]}),i==="api"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Authorization"}),f.jsx("input",{required:!0,type:"text",value:m,onChange:C=>b(C.target.value),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Bearer"}),!(m!=null&&m.trim())&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Authorization token is required"}),f.jsx("p",{className:"mt-1 text-sm text-[#757575]",children:"Private key in header"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"API Endpoint"}),f.jsxs("select",{...O("api_url"),value:v,onChange:C=>S(C.target.value),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",children:[f.jsx("option",{value:"https://api.mindstudio.ai/developer/v2/workers/run",children:"Workers API"}),f.jsx("option",{value:"https://api.mindstudio.ai/developer/v2/apps/run",children:"Apps API"})]}),f.jsx("p",{className:"mt-1 text-sm text-[#757575]",children:"Select the API endpoint for this workflow"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Content-Type"}),f.jsx("input",{type:"text",value:"application/json",readOnly:!0,className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"API Method"}),f.jsx("input",{type:"text",value:"post",readOnly:!0,className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D]"})]}),f.jsx("button",{type:"button",onClick:L,disabled:p,className:"px-4 py-2 bg-[#4CAF50] text-white rounded-lg hover:bg-opacity-90 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?f.jsxs(f.Fragment,{children:[f.jsx(Qn,{className:"w-5 h-5 mr-2 animate-spin"}),f.jsx("span",{children:"Testing..."})]}):f.jsx("span",{children:"Test API"})})]}),i==="variables"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Body Parameters"}),f.jsxs("div",{className:"space-y-3",children:[a.length===0&&f.jsx("p",{className:"text-sm text-red-500",children:"At least one variable is required"}),a.map((C,F)=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-sm text-[#757575] mb-1",children:C.name}),f.jsx("input",{type:"text",value:C.value,readOnly:F===0,onChange:Q=>{l(z=>{const le=[...z];return le[F]={...le[F],value:Q.target.value},le})},className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D]"})]}),F!==0&&f.jsx("button",{type:"button",onClick:()=>ae(F),className:"mt-6 p-2 text-red-500 hover:text-red-400 transition-colors",children:f.jsx(Yl,{className:"w-5 h-5"})})]},F))]}),f.jsxs("button",{type:"button",onClick:()=>u(!0),className:"mt-4 px-4 py-2 text-white hover:bg-[#2D2D2D] rounded-lg transition-colors flex items-center space-x-2",children:[f.jsx(Yf,{className:"w-5 h-5"}),f.jsx("span",{children:"Add Variable"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Body Preview"}),f.jsx("pre",{className:"w-full p-4 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] font-mono text-sm",children:JSON.stringify({workerId:y,variables:Object.fromEntries(a.map(C=>[C.name,C.value])),workflow:U("name")||""},null,2)})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4",children:[f.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-white hover:text-[#f7ab38] transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-[#4CAF50] text-white rounded-lg hover:bg-opacity-90 transition-colors disabled:opacity-50 flex items-center",onClick:()=>{if(!(y!=null&&y.trim())||!(m!=null&&m.trim())||a.length===0){re.error("Please fill in all required fields");return}},children:n?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"animate-spin mr-2",children:"⌛"}),"Saving..."]}):f.jsx(f.Fragment,{children:"Save Workflow"})})]})]})]})}),c&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-[#1F1F1F] rounded-lg w-full max-w-md p-6 space-y-4",children:[f.jsx("h3",{className:"text-xl font-bold text-white",children:"Add Variable"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Variable Name"}),f.jsx("input",{type:"text",value:d.name,onChange:C=>h({...d,name:C.target.value}),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter variable name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Variable Value"}),f.jsx("input",{type:"text",value:d.value,onChange:C=>h({...d,value:C.target.value}),className:"w-full px-4 py-2 bg-[#1A1B1E] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]",placeholder:"Enter variable value"})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>{u(!1),h({name:"",value:""})},className:"px-4 py-2 text-white hover:text-[#f7ab38] transition-colors",children:"Cancel"}),f.jsx("button",{type:"button",onClick:se,disabled:!d.name||!d.value,className:"px-4 py-2 bg-[#4CAF50] text-white rounded-lg hover:bg-opacity-90 transition-colors disabled:opacity-50",children:"Add Variable"})]})]})})]})}function Z2({workflowId:e}){const[t,r]=w.useState([]),[n,s]=w.useState(!0),i=async()=>{try{s(!0);const{data:l,error:c}=await G.from("workflow_logs").select("*").eq("workflow_id",e).order("timestamp",{ascending:!1}).limit(50);if(c)throw c;r(l||[])}catch(l){console.error("Error fetching logs:",l)}finally{s(!1)}};w.useEffect(()=>{i()},[e]);const o=l=>{switch(l){case"error":return f.jsx(Jf,{className:"w-5 h-5 text-red-500"});case"warning":return f.jsx(s0,{className:"w-5 h-5 text-yellow-500"});default:return f.jsx(o0,{className:"w-5 h-5 text-blue-500"})}},a=l=>{switch(l){case"error":return"border-red-500/20 bg-red-500/10";case"warning":return"border-yellow-500/20 bg-yellow-500/10";default:return"border-blue-500/20 bg-blue-500/10"}};return n?f.jsx("div",{className:"flex items-center justify-center p-4",children:f.jsx(Wn,{className:"w-6 h-6 animate-spin text-[#BB86FC]"})}):f.jsxs("div",{className:"space-y-4 p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-medium text-[#E0E0E0]",children:"Workflow Logs"}),f.jsx("button",{onClick:i,className:"text-[#BB86FC] hover:text-[#E0E0E0] transition-colors",children:f.jsx(Wn,{className:"w-5 h-5"})})]}),t.length===0?f.jsx("div",{className:"text-center text-[#757575] py-8",children:"No logs available"}):f.jsx("div",{className:"space-y-3",children:t.map(l=>f.jsx("div",{className:`p-4 rounded-lg border ${a(l.level)} animate-fade-in`,children:f.jsxs("div",{className:"flex items-start space-x-3",children:[o(l.level),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-[#E0E0E0]",children:new Date(l.timestamp).toLocaleString()}),f.jsx("span",{className:"text-xs uppercase text-[#757575]",children:l.level})]}),f.jsx("p",{className:"mt-1 text-[#E0E0E0]",children:l.message}),l.details&&f.jsx("pre",{className:"mt-2 p-2 rounded bg-black/20 text-sm text-[#BB86FC] overflow-x-auto",children:JSON.stringify(l.details,null,2)})]})]})},l.id))})]})}function Co(e){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(e)}function K2(e,t){if(Co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J2(e){var t=K2(e,"string");return Co(t)=="symbol"?t:t+""}function Q2(e,t,r){return(t=J2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zm(Object(r),!0).forEach(function(n){Q2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _t(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Wm=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Su=function(){return Math.random().toString(36).substring(7).split("").join(".")},Gm={INIT:"@@redux/INIT"+Su(),REPLACE:"@@redux/REPLACE"+Su(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Su()}};function Y2(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function X0(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(_t(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(_t(1));return r(X0)(e,t)}if(typeof e!="function")throw new Error(_t(2));var s=e,i=t,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function u(){if(l)throw new Error(_t(3));return i}function d(m){if(typeof m!="function")throw new Error(_t(4));if(l)throw new Error(_t(5));var b=!0;return c(),a.push(m),function(){if(b){if(l)throw new Error(_t(6));b=!1,c();var g=a.indexOf(m);a.splice(g,1),o=null}}}function h(m){if(!Y2(m))throw new Error(_t(7));if(typeof m.type>"u")throw new Error(_t(8));if(l)throw new Error(_t(9));try{l=!0,i=s(i,m)}finally{l=!1}for(var b=o=a,y=0;y<b.length;y++){var g=b[y];g()}return m}function p(m){if(typeof m!="function")throw new Error(_t(10));s=m,h({type:Gm.REPLACE})}function x(){var m,b=d;return m={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(_t(11));function v(){g.next&&g.next(u())}v();var S=b(v);return{unsubscribe:S}}},m[Wm]=function(){return this},m}return h({type:Gm.INIT}),n={dispatch:h,subscribe:d,getState:u,replaceReducer:p},n[Wm]=x,n}function Hm(e,t){return function(){return t(e.apply(this,arguments))}}function qm(e,t){if(typeof e=="function")return Hm(e,t);if(typeof e!="object"||e===null)throw new Error(_t(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=Hm(s,t))}return r}function ex(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function X2(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),i=function(){throw new Error(_t(15))},o={getState:s.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=t.map(function(l){return l(o)});return i=ex.apply(void 0,a)(s.dispatch),Vm(Vm({},s),{},{dispatch:i})}}}var tx={exports:{}},rx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=w;function eN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tN=typeof Object.is=="function"?Object.is:eN,rN=Zs.useState,nN=Zs.useEffect,sN=Zs.useLayoutEffect,iN=Zs.useDebugValue;function oN(e,t){var r=t(),n=rN({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return sN(function(){s.value=r,s.getSnapshot=t,ku(s)&&i({inst:s})},[e,r,t]),nN(function(){return ku(s)&&i({inst:s}),e(function(){ku(s)&&i({inst:s})})},[e]),iN(r),r}function ku(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tN(e,r)}catch{return!0}}function aN(e,t){return t()}var lN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aN:oN;rx.useSyncExternalStore=Zs.useSyncExternalStore!==void 0?Zs.useSyncExternalStore:lN;tx.exports=rx;var nx=tx.exports,cN={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=w,uN=nx;function dN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fN=typeof Object.is=="function"?Object.is:dN,hN=uN.useSyncExternalStore,pN=dc.useRef,mN=dc.useEffect,gN=dc.useMemo,yN=dc.useDebugValue;cN.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=pN(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=gN(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),s!==void 0&&o.hasValue){var x=o.value;if(s(x,p))return d=x}return d=p}if(x=d,fN(u,p))return x;var m=n(p);return s!==void 0&&s(x,m)?(u=p,x):(u=p,d=m)}var c=!1,u,d,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,s]);var a=hN(e,i[0],i[1]);return mN(function(){o.hasValue=!0,o.value=a},[a]),yN(a),a};function vN(e){e()}let sx=vN;const xN=e=>sx=e,wN=()=>sx,Zm=Symbol.for("react-redux-context"),Km=typeof globalThis<"u"?globalThis:{};function bN(){var e;if(!w.createContext)return{};const t=(e=Km[Zm])!=null?e:Km[Zm]=new Map;let r=t.get(w.createContext);return r||(r=w.createContext(null),t.set(w.createContext,r)),r}const ix=bN(),_N=()=>{throw new Error("uSES not initialized!")};function pn(){return pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pn.apply(null,arguments)}function ox(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ax={exports:{}},_e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xe=typeof Symbol=="function"&&Symbol.for,uh=Xe?Symbol.for("react.element"):60103,dh=Xe?Symbol.for("react.portal"):60106,fc=Xe?Symbol.for("react.fragment"):60107,hc=Xe?Symbol.for("react.strict_mode"):60108,pc=Xe?Symbol.for("react.profiler"):60114,mc=Xe?Symbol.for("react.provider"):60109,gc=Xe?Symbol.for("react.context"):60110,fh=Xe?Symbol.for("react.async_mode"):60111,yc=Xe?Symbol.for("react.concurrent_mode"):60111,vc=Xe?Symbol.for("react.forward_ref"):60112,xc=Xe?Symbol.for("react.suspense"):60113,SN=Xe?Symbol.for("react.suspense_list"):60120,wc=Xe?Symbol.for("react.memo"):60115,bc=Xe?Symbol.for("react.lazy"):60116,kN=Xe?Symbol.for("react.block"):60121,EN=Xe?Symbol.for("react.fundamental"):60117,CN=Xe?Symbol.for("react.responder"):60118,NN=Xe?Symbol.for("react.scope"):60119;function Ut(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case uh:switch(e=e.type,e){case fh:case yc:case fc:case pc:case hc:case xc:return e;default:switch(e=e&&e.$$typeof,e){case gc:case vc:case bc:case wc:case mc:return e;default:return t}}case dh:return t}}}function lx(e){return Ut(e)===yc}_e.AsyncMode=fh;_e.ConcurrentMode=yc;_e.ContextConsumer=gc;_e.ContextProvider=mc;_e.Element=uh;_e.ForwardRef=vc;_e.Fragment=fc;_e.Lazy=bc;_e.Memo=wc;_e.Portal=dh;_e.Profiler=pc;_e.StrictMode=hc;_e.Suspense=xc;_e.isAsyncMode=function(e){return lx(e)||Ut(e)===fh};_e.isConcurrentMode=lx;_e.isContextConsumer=function(e){return Ut(e)===gc};_e.isContextProvider=function(e){return Ut(e)===mc};_e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===uh};_e.isForwardRef=function(e){return Ut(e)===vc};_e.isFragment=function(e){return Ut(e)===fc};_e.isLazy=function(e){return Ut(e)===bc};_e.isMemo=function(e){return Ut(e)===wc};_e.isPortal=function(e){return Ut(e)===dh};_e.isProfiler=function(e){return Ut(e)===pc};_e.isStrictMode=function(e){return Ut(e)===hc};_e.isSuspense=function(e){return Ut(e)===xc};_e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fc||e===yc||e===pc||e===hc||e===xc||e===SN||typeof e=="object"&&e!==null&&(e.$$typeof===bc||e.$$typeof===wc||e.$$typeof===mc||e.$$typeof===gc||e.$$typeof===vc||e.$$typeof===EN||e.$$typeof===CN||e.$$typeof===NN||e.$$typeof===kN)};_e.typeOf=Ut;ax.exports=_e;var jN=ax.exports,hh=jN,DN={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},PN={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},AN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ph={};ph[hh.ForwardRef]=AN;ph[hh.Memo]=cx;function Jm(e){return hh.isMemo(e)?cx:ph[e.$$typeof]||DN}var IN=Object.defineProperty,TN=Object.getOwnPropertyNames,Qm=Object.getOwnPropertySymbols,ON=Object.getOwnPropertyDescriptor,RN=Object.getPrototypeOf,Ym=Object.prototype;function ux(e,t,r){if(typeof t!="string"){if(Ym){var n=RN(t);n&&n!==Ym&&ux(e,n,r)}var s=TN(t);Qm&&(s=s.concat(Qm(t)));for(var i=Jm(e),o=Jm(t),a=0;a<s.length;++a){var l=s[a];if(!PN[l]&&!(r&&r[l])&&!(o&&o[l])&&!(i&&i[l])){var c=ON(t,l);try{IN(e,l,c)}catch{}}}}return e}var $N=ux;const Xm=Yd($N);var dx={exports:{}},Se={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh=Symbol.for("react.element"),gh=Symbol.for("react.portal"),_c=Symbol.for("react.fragment"),Sc=Symbol.for("react.strict_mode"),kc=Symbol.for("react.profiler"),Ec=Symbol.for("react.provider"),Cc=Symbol.for("react.context"),LN=Symbol.for("react.server_context"),Nc=Symbol.for("react.forward_ref"),jc=Symbol.for("react.suspense"),Dc=Symbol.for("react.suspense_list"),Pc=Symbol.for("react.memo"),Ac=Symbol.for("react.lazy"),FN=Symbol.for("react.offscreen"),fx;fx=Symbol.for("react.module.reference");function Xt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case mh:switch(e=e.type,e){case _c:case kc:case Sc:case jc:case Dc:return e;default:switch(e=e&&e.$$typeof,e){case LN:case Cc:case Nc:case Ac:case Pc:case Ec:return e;default:return t}}case gh:return t}}}Se.ContextConsumer=Cc;Se.ContextProvider=Ec;Se.Element=mh;Se.ForwardRef=Nc;Se.Fragment=_c;Se.Lazy=Ac;Se.Memo=Pc;Se.Portal=gh;Se.Profiler=kc;Se.StrictMode=Sc;Se.Suspense=jc;Se.SuspenseList=Dc;Se.isAsyncMode=function(){return!1};Se.isConcurrentMode=function(){return!1};Se.isContextConsumer=function(e){return Xt(e)===Cc};Se.isContextProvider=function(e){return Xt(e)===Ec};Se.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===mh};Se.isForwardRef=function(e){return Xt(e)===Nc};Se.isFragment=function(e){return Xt(e)===_c};Se.isLazy=function(e){return Xt(e)===Ac};Se.isMemo=function(e){return Xt(e)===Pc};Se.isPortal=function(e){return Xt(e)===gh};Se.isProfiler=function(e){return Xt(e)===kc};Se.isStrictMode=function(e){return Xt(e)===Sc};Se.isSuspense=function(e){return Xt(e)===jc};Se.isSuspenseList=function(e){return Xt(e)===Dc};Se.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===_c||e===kc||e===Sc||e===jc||e===Dc||e===FN||typeof e=="object"&&e!==null&&(e.$$typeof===Ac||e.$$typeof===Pc||e.$$typeof===Ec||e.$$typeof===Cc||e.$$typeof===Nc||e.$$typeof===fx||e.getModuleId!==void 0)};Se.typeOf=Xt;dx.exports=Se;var MN=dx.exports;const BN=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function UN(e,t,r,n,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:o}){let a=!1,l,c,u,d,h;function p(g,v){return l=g,c=v,u=e(l,c),d=t(n,c),h=r(u,d,c),a=!0,h}function x(){return u=e(l,c),t.dependsOnOwnProps&&(d=t(n,c)),h=r(u,d,c),h}function m(){return e.dependsOnOwnProps&&(u=e(l,c)),t.dependsOnOwnProps&&(d=t(n,c)),h=r(u,d,c),h}function b(){const g=e(l,c),v=!o(g,u);return u=g,v&&(h=r(u,d,c)),h}function y(g,v){const S=!i(v,c),k=!s(g,l,v,c);return l=g,c=v,S&&k?x():S?m():k?b():h}return function(v,S){return a?y(v,S):p(v,S)}}function zN(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:s}=t,i=ox(t,BN);const o=r(e,i),a=n(e,i),l=s(e,i);return UN(o,a,l,e,i)}function VN(e,t){const r={};for(const n in e){const s=e[n];typeof s=="function"&&(r[n]=(...i)=>t(s(...i)))}return r}function Gd(e){return function(r){const n=e(r);function s(){return n}return s.dependsOnOwnProps=!1,s}}function eg(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function hx(e,t){return function(n,{displayName:s}){const i=function(a,l){return i.dependsOnOwnProps?i.mapToProps(a,l):i.mapToProps(a,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(a,l){i.mapToProps=e,i.dependsOnOwnProps=eg(e);let c=i(a,l);return typeof c=="function"&&(i.mapToProps=c,i.dependsOnOwnProps=eg(c),c=i(a,l)),c},i}}function yh(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function WN(e){return e&&typeof e=="object"?Gd(t=>VN(e,t)):e?typeof e=="function"?hx(e):yh(e,"mapDispatchToProps"):Gd(t=>({dispatch:t}))}function GN(e){return e?typeof e=="function"?hx(e):yh(e,"mapStateToProps"):Gd(()=>({}))}function HN(e,t,r){return pn({},r,e,t)}function qN(e){return function(r,{displayName:n,areMergedPropsEqual:s}){let i=!1,o;return function(l,c,u){const d=e(l,c,u);return i?s(d,o)||(o=d):(i=!0,o=d),o}}}function ZN(e){return e?typeof e=="function"?qN(e):yh(e,"mergeProps"):()=>HN}function KN(){const e=wN();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0,i=r={callback:n,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!s||t===null||(s=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}const tg={notify(){},get:()=>[]};function px(e,t){let r,n=tg,s=0,i=!1;function o(m){u();const b=n.subscribe(m);let y=!1;return()=>{y||(y=!0,b(),d())}}function a(){n.notify()}function l(){x.onStateChange&&x.onStateChange()}function c(){return i}function u(){s++,r||(r=t?t.addNestedSub(l):e.subscribe(l),n=KN())}function d(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=tg)}function h(){i||(i=!0,u())}function p(){i&&(i=!1,d())}const x={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return x}const JN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sl=JN?w.useLayoutEffect:w.useEffect;function rg(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Eu(e,t){if(rg(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!rg(e[r[s]],t[r[s]]))return!1;return!0}const QN=["reactReduxForwardedRef"];let mx=_N;const YN=e=>{mx=e},XN=[null,null];function ej(e,t,r){Sl(()=>e(...t),r)}function tj(e,t,r,n,s,i){e.current=n,r.current=!1,s.current&&(s.current=null,i())}function rj(e,t,r,n,s,i,o,a,l,c,u){if(!e)return()=>{};let d=!1,h=null;const p=()=>{if(d||!a.current)return;const m=t.getState();let b,y;try{b=n(m,s.current)}catch(g){y=g,h=g}y||(h=null),b===i.current?o.current||c():(i.current=b,l.current=b,o.current=!0,u())};return r.onStateChange=p,r.trySubscribe(),p(),()=>{if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,h)throw h}}function nj(e,t){return e===t}function gx(e,t,r,{pure:n,areStatesEqual:s=nj,areOwnPropsEqual:i=Eu,areStatePropsEqual:o=Eu,areMergedPropsEqual:a=Eu,forwardRef:l=!1,context:c=ix}={}){const u=c,d=GN(e),h=WN(t),p=ZN(r),x=!!e;return b=>{const y=b.displayName||b.name||"Component",g=`Connect(${y})`,v={shouldHandleStateChanges:x,displayName:g,wrappedComponentName:y,WrappedComponent:b,initMapStateToProps:d,initMapDispatchToProps:h,initMergeProps:p,areStatesEqual:s,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:a};function S(P){const[N,A,O]=w.useMemo(()=>{const{reactReduxForwardedRef:Ee}=P,Dt=ox(P,QN);return[P.context,Ee,Dt]},[P]),X=w.useMemo(()=>N&&N.Consumer&&MN.isContextConsumer(w.createElement(N.Consumer,null))?N:u,[N,u]),R=w.useContext(X),U=!!P.store&&!!P.store.getState&&!!P.store.dispatch,oe=!!R&&!!R.store,I=U?P.store:R.store,se=oe?R.getServerState:I.getState,ae=w.useMemo(()=>zN(I.dispatch,v),[I]),[L,C]=w.useMemo(()=>{if(!x)return XN;const Ee=px(I,U?void 0:R.subscription),Dt=Ee.notifyNestedSubs.bind(Ee);return[Ee,Dt]},[I,U,R]),F=w.useMemo(()=>U?R:pn({},R,{subscription:L}),[U,R,L]),Q=w.useRef(),z=w.useRef(O),le=w.useRef(),K=w.useRef(!1);w.useRef(!1);const Fe=w.useRef(!1),qe=w.useRef();Sl(()=>(Fe.current=!0,()=>{Fe.current=!1}),[]);const wt=w.useMemo(()=>()=>le.current&&O===z.current?le.current:ae(I.getState(),O),[I,O]),zr=w.useMemo(()=>Dt=>L?rj(x,I,L,ae,z,Q,K,Fe,le,C,Dt):()=>{},[L]);ej(tj,[z,Q,K,O,le,C]);let zt;try{zt=mx(zr,wt,se?()=>ae(se(),O):wt)}catch(Ee){throw qe.current&&(Ee.message+=`
The error may be correlated with this previous error:
${qe.current.stack}

`),Ee}Sl(()=>{qe.current=void 0,le.current=void 0,Q.current=zt});const Vr=w.useMemo(()=>w.createElement(b,pn({},zt,{ref:A})),[A,b,zt]);return w.useMemo(()=>x?w.createElement(X.Provider,{value:F},Vr):Vr,[X,Vr,F])}const j=w.memo(S);if(j.WrappedComponent=b,j.displayName=S.displayName=g,l){const N=w.forwardRef(function(O,X){return w.createElement(j,pn({},O,{reactReduxForwardedRef:X}))});return N.displayName=g,N.WrappedComponent=b,Xm(N,b)}return Xm(j,b)}}function sj({store:e,context:t,children:r,serverState:n,stabilityCheck:s="once",noopCheck:i="once"}){const o=w.useMemo(()=>{const c=px(e);return{store:e,subscription:c,getServerState:n?()=>n:void 0,stabilityCheck:s,noopCheck:i}},[e,n,s,i]),a=w.useMemo(()=>e.getState(),[e]);Sl(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=t||ix;return w.createElement(l.Provider,{value:o},r)}YN(nx.useSyncExternalStore);xN(Mo.unstable_batchedUpdates);function ij(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function yx(e,t){var r=w.useState(function(){return{inputs:t,result:e()}})[0],n=w.useRef(!0),s=w.useRef(r),i=n.current||!!(t&&s.current.inputs&&ij(t,s.current.inputs)),o=i?s.current:{inputs:t,result:e()};return w.useEffect(function(){n.current=!1,s.current=o},[o]),o.result}function oj(e,t){return yx(function(){return e},t)}var ge=yx,te=oj,aj="Invariant failed";function lj(e,t){throw new Error(aj)}var lr=function(t){var r=t.top,n=t.right,s=t.bottom,i=t.left,o=n-i,a=s-r,l={top:r,right:n,bottom:s,left:i,width:o,height:a,x:i,y:r,center:{x:(n+i)/2,y:(s+r)/2}};return l},vh=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},ng=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},cj=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Cu={top:0,right:0,bottom:0,left:0},xh=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?Cu:n,i=t.border,o=i===void 0?Cu:i,a=t.padding,l=a===void 0?Cu:a,c=lr(vh(r,s)),u=lr(ng(r,o)),d=lr(ng(u,l));return{marginBox:c,borderBox:lr(r),paddingBox:u,contentBox:d,margin:s,border:o,padding:l}},Vt=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&lj(),s},uj=function(){return{x:window.pageXOffset,y:window.pageYOffset}},kl=function(t,r){var n=t.borderBox,s=t.border,i=t.margin,o=t.padding,a=cj(n,r);return xh({borderBox:a,border:s,margin:i,padding:o})},El=function(t,r){return r===void 0&&(r=uj()),kl(t,r)},vx=function(t,r){var n={top:Vt(r.marginTop),right:Vt(r.marginRight),bottom:Vt(r.marginBottom),left:Vt(r.marginLeft)},s={top:Vt(r.paddingTop),right:Vt(r.paddingRight),bottom:Vt(r.paddingBottom),left:Vt(r.paddingLeft)},i={top:Vt(r.borderTopWidth),right:Vt(r.borderRightWidth),bottom:Vt(r.borderBottomWidth),left:Vt(r.borderLeftWidth)};return xh({borderBox:t,margin:n,padding:s,border:i})},xx=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return vx(r,n)},sg=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function dj(e,t){return!!(e===t||sg(e)&&sg(t))}function fj(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!dj(e[r],t[r]))return!1;return!0}function Qe(e,t){t===void 0&&(t=fj);var r=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var o=e.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}var No=function(t){var r=[],n=null,s=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r=a,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};function wx(e,t){}wx.bind(null,"warn");wx.bind(null,"error");function mn(){}function hj(e,t){return{...e,...t}}function qt(e,t,r){const n=t.map(s=>{const i=hj(r,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){n.forEach(i=>{i()})}}const pj="Invariant failed";class Cl extends Error{}Cl.prototype.toString=function(){return this.message};function B(e,t){throw new Cl(pj)}let mj=class extends de.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=mn,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof Cl&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=qt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Cl){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const gj=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Nl=e=>e+1,yj=e=>`
  You have lifted an item in position ${Nl(e.source.index)}
`,bx=(e,t)=>{const r=e.droppableId===t.droppableId,n=Nl(e.index),s=Nl(t.index);return r?`
      You have moved the item from position ${n}
      to position ${s}
    `:`
    You have moved the item from position ${n}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},_x=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,vj=e=>{const t=e.destination;if(t)return bx(e.source,t);const r=e.combine;return r?_x(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},ig=e=>`
  The item has returned to its starting position
  of ${Nl(e.index)}
`,xj=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${ig(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${bx(e.source,t)}
    `:r?`
      You have dropped the item.
      ${_x(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${ig(e.source)}
  `},wj={dragHandleUsageInstructions:gj,onDragStart:yj,onDragUpdate:vj,onDragEnd:xj};var Fa=wj;const Ye={x:0,y:0},tt=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Tt=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),gn=(e,t)=>e.x===t.x&&e.y===t.y,ii=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),ts=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},jo=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),og=(e,t)=>Math.min(...t.map(r=>jo(e,r))),Sx=e=>t=>({x:e(t.x),y:e(t.y)});var bj=(e,t)=>{const r=lr({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const Go=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),ag=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],_j={top:0,right:0,bottom:0,left:0},Sj=(e,t)=>t?Go(e,t.scroll.diff.displacement):e,kj=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,Ej=(e,t)=>t&&t.shouldClipSubject?bj(t.pageMarginBox,e):lr(e);var Ks=({page:e,withPlaceholder:t,axis:r,frame:n})=>{const s=Sj(e.marginBox,n),i=kj(s,r,t),o=Ej(i,n);return{page:e,withPlaceholder:t,active:o}},wh=(e,t)=>{e.frame||B();const r=e.frame,n=Tt(t,r.scroll.initial),s=ii(n),i={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}},o=Ks({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:o}};const kx=Qe(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),Ex=Qe(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),Ic=Qe(e=>Object.values(e)),Cj=Qe(e=>Object.values(e));var oi=Qe((e,t)=>Cj(t).filter(n=>e===n.descriptor.droppableId).sort((n,s)=>n.descriptor.index-s.descriptor.index));function bh(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Tc(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Oc=Qe((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),Nj=({isMovingForward:e,draggable:t,destination:r,insideDestination:n,previousImpact:s})=>{if(!r.isCombineEnabled||!bh(s))return null;function o(p){const x={type:"COMBINE",combine:{draggableId:p,droppableId:r.descriptor.id}};return{...s,at:x}}const a=s.displaced.all,l=a.length?a[0]:null;if(e)return l?o(l):null;const c=Oc(t,n);if(!l){if(!c.length)return null;const p=c[c.length-1];return o(p.descriptor.id)}const u=c.findIndex(p=>p.descriptor.id===l);u===-1&&B();const d=u-1;if(d<0)return null;const h=c[d];return o(h.descriptor.id)},ai=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Cx={point:Ye,value:0},Do={invisible:{},visible:{},all:[]},jj={displaced:Do,displacedBy:Cx,at:null};var Dj=jj,Kt=(e,t)=>r=>e<=r&&r<=t,Nx=e=>{const t=Kt(e.top,e.bottom),r=Kt(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const i=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right);if(i&&o)return!0;const l=n.top<e.top&&n.bottom>e.bottom,c=n.left<e.left&&n.right>e.right;return l&&c?!0:l&&o||c&&i}},Pj=e=>{const t=Kt(e.top,e.bottom),r=Kt(e.left,e.right);return n=>t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right)};const _h={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},jx={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Aj=e=>t=>{const r=Kt(t.top,t.bottom),n=Kt(t.left,t.right);return s=>e===_h?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)};const Ij=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:Ye;return Go(e,r)},Tj=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,Oj=(e,t,r)=>r(t)(e),Sh=({target:e,destination:t,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:s})=>{const i=n?Ij(e,t):e;return Tj(i,t,s)&&Oj(i,r,s)},Rj=e=>Sh({...e,isVisibleThroughFrameFn:Nx}),Dx=e=>Sh({...e,isVisibleThroughFrameFn:Pj}),$j=e=>Sh({...e,isVisibleThroughFrameFn:Aj(e.destination.axis)}),Lj=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:n,visible:s}=t;if(n[e])return!1;const i=s[e];return i?i.shouldAnimate:!0};function Fj(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return lr(vh(r,n))}function Po({afterDragging:e,destination:t,displacedBy:r,viewport:n,forceShouldAnimate:s,last:i}){return e.reduce(function(a,l){const c=Fj(l,r),u=l.descriptor.id;if(a.all.push(u),!Rj({target:c,destination:t,viewport:n,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const h=Lj(u,i,s),p={draggableId:u,shouldAnimate:h};return a.visible[u]=p,a},{all:[],visible:{},invisible:{}})}function Mj(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function lg({insideDestination:e,inHomeList:t,displacedBy:r,destination:n}){const s=Mj(e,{inHomeList:t});return{displaced:Do,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function jl({draggable:e,insideDestination:t,destination:r,viewport:n,displacedBy:s,last:i,index:o,forceShouldAnimate:a}){const l=ai(e,r);if(o==null)return lg({insideDestination:t,inHomeList:l,displacedBy:s,destination:r});const c=t.find(x=>x.descriptor.index===o);if(!c)return lg({insideDestination:t,inHomeList:l,displacedBy:s,destination:r});const u=Oc(e,t),d=t.indexOf(c),h=u.slice(d);return{displaced:Po({afterDragging:h,destination:r,displacedBy:s,last:i,viewport:n.frame,forceShouldAnimate:a}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Sn(e,t){return!!t.effected[e]}var Bj=({isMovingForward:e,destination:t,draggables:r,combine:n,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const i=n.draggableId,a=r[i].descriptor.index;return Sn(i,s)?e?a:a-1:e?a+1:a},Uj=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:n})=>{if(!r.length)return null;const s=n.index,i=e?s+1:s-1,o=r[0].descriptor.index,a=r[r.length-1].descriptor.index,l=t?a:a+1;return i<o||i>l?null:i},zj=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:n,destination:s,insideDestination:i,previousImpact:o,viewport:a,afterCritical:l})=>{const c=o.at;if(c||B(),c.type==="REORDER"){const d=Uj({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:i});return d==null?null:jl({draggable:r,insideDestination:i,destination:s,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:d})}const u=Bj({isMovingForward:e,destination:s,displaced:o.displaced,draggables:n,combine:c.combine,afterCritical:l});return u==null?null:jl({draggable:r,insideDestination:i,destination:s,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:u})},Vj=({displaced:e,afterCritical:t,combineWith:r,displacedBy:n})=>{const s=!!(e.visible[r]||e.invisible[r]);return Sn(r,t)?s?Ye:ii(n.point):s?n.point:Ye},Wj=({afterCritical:e,impact:t,draggables:r})=>{const n=Tc(t);n||B();const s=n.draggableId,i=r[s].page.borderBox.center,o=Vj({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return tt(i,o)};const Px=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Gj=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,kh=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,cg=({axis:e,moveRelativeTo:t,isMoving:r})=>ts(e.line,t.marginBox[e.end]+Px(e,r),kh(e,t.marginBox,r)),ug=({axis:e,moveRelativeTo:t,isMoving:r})=>ts(e.line,t.marginBox[e.start]-Gj(e,r),kh(e,t.marginBox,r)),Hj=({axis:e,moveInto:t,isMoving:r})=>ts(e.line,t.contentBox[e.start]+Px(e,r),kh(e,t.contentBox,r));var qj=({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s})=>{const i=oi(n.descriptor.id,r),o=t.page,a=n.axis;if(!i.length)return Hj({axis:a,moveInto:n.page,isMoving:o});const{displaced:l,displacedBy:c}=e,u=l.all[0];if(u){const h=r[u];if(Sn(u,s))return ug({axis:a,moveRelativeTo:h.page,isMoving:o});const p=kl(h.page,c.point);return ug({axis:a,moveRelativeTo:p,isMoving:o})}const d=i[i.length-1];if(d.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Sn(d.descriptor.id,s)){const h=kl(d.page,ii(s.displacedBy.point));return cg({axis:a,moveRelativeTo:h,isMoving:o})}return cg({axis:a,moveRelativeTo:d.page,isMoving:o})},Hd=(e,t)=>{const r=e.frame;return r?tt(t,r.scroll.diff.displacement):t};const Zj=({impact:e,draggable:t,droppable:r,draggables:n,afterCritical:s})=>{const i=t.page.borderBox.center,o=e.at;return!r||!o?i:o.type==="REORDER"?qj({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s}):Wj({impact:e,draggables:n,afterCritical:s})};var Rc=e=>{const t=Zj(e),r=e.droppable;return r?Hd(r,t):t},Ax=(e,t)=>{const r=Tt(t,e.scroll.initial),n=ii(r);return{frame:lr({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function dg(e,t){return e.map(r=>t[r])}function Kj(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}var Jj=({impact:e,viewport:t,destination:r,draggables:n,maxScrollChange:s})=>{const i=Ax(t,tt(t.scroll.current,s)),o=r.frame?wh(r,tt(r.frame.scroll.current,s)):r,a=e.displaced,l=Po({afterDragging:dg(a.all,n),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:a,forceShouldAnimate:!1}),c=Po({afterDragging:dg(a.all,n),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),u={},d={},h=[a,l,c];return a.all.forEach(x=>{const m=Kj(x,h);if(m){d[x]=m;return}u[x]=!0}),{...e,displaced:{all:a.all,invisible:u,visible:d}}},Qj=(e,t)=>tt(e.scroll.diff.displacement,t),Eh=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const n=Qj(r,e),s=Tt(n,t.page.borderBox.center);return tt(t.client.borderBox.center,s)},Ix=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const o=Tt(r,e.page.borderBox.center),l={target:Go(e.page.borderBox,o),destination:t,withDroppableDisplacement:s,viewport:n};return i?$j(l):Dx(l)},Yj=({isMovingForward:e,draggable:t,destination:r,draggables:n,previousImpact:s,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!r.isEnabled)return null;const c=oi(r.descriptor.id,n),u=ai(t,r),d=Nj({isMovingForward:e,draggable:t,destination:r,insideDestination:c,previousImpact:s})||zj({isMovingForward:e,isInHomeList:u,draggable:t,draggables:n,destination:r,insideDestination:c,previousImpact:s,viewport:i,afterCritical:l});if(!d)return null;const h=Rc({impact:d,draggable:t,droppable:r,draggables:n,afterCritical:l});if(Ix({draggable:t,destination:r,newPageBorderBoxCenter:h,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Eh({pageBorderBoxCenter:h,draggable:t,viewport:i}),impact:d,scrollJumpRequest:null};const x=Tt(h,o),m=Jj({impact:d,viewport:i,destination:r,draggables:n,maxScrollChange:x});return{clientSelection:a,impact:m,scrollJumpRequest:x}};const dt=e=>{const t=e.subject.active;return t||B(),t};var Xj=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:n,viewport:s})=>{const i=r.subject.active;if(!i)return null;const o=r.axis,a=Kt(i[o.start],i[o.end]),l=Ic(n).filter(u=>u!==r).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>Nx(s.frame)(dt(u))).filter(u=>{const d=dt(u);return e?i[o.crossAxisEnd]<d[o.crossAxisEnd]:d[o.crossAxisStart]<i[o.crossAxisStart]}).filter(u=>{const d=dt(u),h=Kt(d[o.start],d[o.end]);return a(d[o.start])||a(d[o.end])||h(i[o.start])||h(i[o.end])}).sort((u,d)=>{const h=dt(u)[o.crossAxisStart],p=dt(d)[o.crossAxisStart];return e?h-p:p-h}).filter((u,d,h)=>dt(u)[o.crossAxisStart]===dt(h[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(u=>Kt(dt(u)[o.start],dt(u)[o.end])(t[o.line]));return c.length===1?c[0]:c.length>1?c.sort((u,d)=>dt(u)[o.start]-dt(d)[o.start])[0]:l.sort((u,d)=>{const h=og(t,ag(dt(u))),p=og(t,ag(dt(d)));return h!==p?h-p:dt(u)[o.start]-dt(d)[o.start]})[0]};const fg=(e,t)=>{const r=e.page.borderBox.center;return Sn(e.descriptor.id,t)?Tt(r,t.displacedBy.point):r},eD=(e,t)=>{const r=e.page.borderBox;return Sn(e.descriptor.id,t)?Go(r,ii(t.displacedBy.point)):r};var tD=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:n,afterCritical:s})=>n.filter(o=>Dx({target:eD(o,s),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=jo(e,Hd(r,fg(o,s))),c=jo(e,Hd(r,fg(a,s)));return l<c?-1:c<l?1:o.descriptor.index-a.descriptor.index})[0]||null,Ho=Qe(function(t,r){const n=r[t.line];return{value:n,point:ts(t.line,n)}});const rD=(e,t,r)=>{const n=e.axis;if(e.descriptor.mode==="virtual")return ts(n.line,t[n.line]);const s=e.subject.page.contentBox[n.size],l=oi(e.descriptor.id,r).reduce((c,u)=>c+u.client.marginBox[n.size],0)+t[n.line]-s;return l<=0?null:ts(n.line,l)},Tx=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Ox=(e,t,r)=>{const n=e.frame;ai(t,e)&&B(),e.subject.withPlaceholder&&B();const s=Ho(e.axis,t.displaceBy).point,i=rD(e,s,r),o={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const u=Ks({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:u}}const a=i?tt(n.scroll.max,i):n.scroll.max,l=Tx(n,a),c=Ks({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:l});return{...e,subject:c,frame:l}},nD=e=>{const t=e.subject.withPlaceholder;t||B();const r=e.frame;if(!r){const o=Ks({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const n=t.oldFrameMaxScroll;n||B();const s=Tx(r,n),i=Ks({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:i,frame:s}};var sD=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:n,draggables:s,destination:i,viewport:o,afterCritical:a})=>{if(!t){if(r.length)return null;const d={displaced:Do,displacedBy:Cx,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},h=Rc({impact:d,draggable:n,droppable:i,draggables:s,afterCritical:a}),p=ai(n,i)?i:Ox(i,n,s);return Ix({draggable:n,destination:p,newPageBorderBoxCenter:h,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const l=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],c=(()=>{const d=t.descriptor.index;return t.descriptor.id===n.descriptor.id||l?d:d+1})(),u=Ho(i.axis,n.displaceBy);return jl({draggable:n,insideDestination:r,destination:i,viewport:o,displacedBy:u,last:Do,index:c})},iD=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:n,draggables:s,droppables:i,viewport:o,afterCritical:a})=>{const l=Xj({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:i,viewport:o});if(!l)return null;const c=oi(l.descriptor.id,s),u=tD({pageBorderBoxCenter:t,viewport:o,destination:l,insideDestination:c,afterCritical:a}),d=sD({previousPageBorderBoxCenter:t,destination:l,draggable:r,draggables:s,moveRelativeTo:u,insideDestination:c,viewport:o,afterCritical:a});if(!d)return null;const h=Rc({impact:d,draggable:r,droppable:l,draggables:s,afterCritical:a});return{clientSelection:Eh({pageBorderBoxCenter:h,draggable:r,viewport:o}),impact:d,scrollJumpRequest:null}},$t=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const oD=(e,t)=>{const r=$t(e);return r?t[r]:null};var aD=({state:e,type:t})=>{const r=oD(e.impact,e.dimensions.droppables),n=!!r,s=e.dimensions.droppables[e.critical.droppable.id],i=r||s,o=i.axis.direction,a=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!n)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:d,droppables:h}=e.dimensions;return a?Yj({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:i,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):iD({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:i,draggables:d,droppables:h,viewport:e.viewport,afterCritical:e.afterCritical})};function On(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Rx(e){const t=Kt(e.top,e.bottom),r=Kt(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function lD(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function cD({pageBorderBox:e,draggable:t,candidates:r}){const n=t.page.borderBox.center,s=r.map(i=>{const o=i.axis,a=ts(i.axis.line,e.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:jo(n,a)}}).sort((i,o)=>o.distance-i.distance);return s[0]?s[0].id:null}function uD({pageBorderBox:e,draggable:t,droppables:r}){const n=Ic(r).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!lD(e,i))return!1;if(Rx(i)(e.center))return!0;const o=s.axis,a=i.center[o.crossAxisLine],l=e[o.crossAxisStart],c=e[o.crossAxisEnd],u=Kt(i[o.crossAxisStart],i[o.crossAxisEnd]),d=u(l),h=u(c);return!d&&!h?!0:d?l<a:c>a});return n.length?n.length===1?n[0].descriptor.id:cD({pageBorderBox:e,draggable:t,candidates:n}):null}const $x=(e,t)=>lr(Go(e,t));var dD=(e,t)=>{const r=e.frame;return r?$x(t,r.scroll.diff.value):t};function Lx({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function fD({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var hD=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:n,last:s,viewport:i,afterCritical:o})=>{const a=r.axis,l=Ho(r.axis,t.displaceBy),c=l.value,u=e[a.start],d=e[a.end],p=Oc(t,n).find(m=>{const b=m.descriptor.id,y=m.page.borderBox.center[a.line],g=Sn(b,o),v=Lx({displaced:s,id:b});return g?v?d<=y:u<y-c:v?d<=y+c:u<y})||null,x=fD({draggable:t,closest:p,inHomeList:ai(t,r)});return jl({draggable:t,insideDestination:n,destination:r,viewport:i,last:s,displacedBy:l,index:x})};const pD=4;var mD=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:n,insideDestination:s,afterCritical:i})=>{if(!n.isCombineEnabled)return null;const o=n.axis,a=Ho(n.axis,e.displaceBy),l=a.value,c=t[o.start],u=t[o.end],h=Oc(e,s).find(x=>{const m=x.descriptor.id,b=x.page.borderBox,g=b[o.size]/pD,v=Sn(m,i),S=Lx({displaced:r.displaced,id:m});return v?S?u>b[o.start]+g&&u<b[o.end]-g:c>b[o.start]-l+g&&c<b[o.end]-l-g:S?u>b[o.start]+l+g&&u<b[o.end]+l-g:c>b[o.start]+g&&c<b[o.end]-g});return h?{displacedBy:a,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:n.descriptor.id}}}:null},Fx=({pageOffset:e,draggable:t,draggables:r,droppables:n,previousImpact:s,viewport:i,afterCritical:o})=>{const a=$x(t.page.borderBox,e),l=uD({pageBorderBox:a,draggable:t,droppables:n});if(!l)return Dj;const c=n[l],u=oi(c.descriptor.id,r),d=dD(c,a);return mD({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:s,destination:c,insideDestination:u,afterCritical:o})||hD({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:c,insideDestination:u,last:s.displaced,viewport:i,afterCritical:o})},Ch=(e,t)=>({...e,[t.descriptor.id]:t});const gD=({previousImpact:e,impact:t,droppables:r})=>{const n=$t(e),s=$t(t);if(!n||n===s)return r;const i=r[n];if(!i.subject.withPlaceholder)return r;const o=nD(i);return Ch(r,o)};var yD=({draggable:e,draggables:t,droppables:r,previousImpact:n,impact:s})=>{const i=gD({previousImpact:n,impact:s,droppables:r}),o=$t(s);if(!o)return i;const a=r[o];if(ai(e,a)||a.subject.withPlaceholder)return i;const l=Ox(a,e,t);return Ch(i,l)},Wi=({state:e,clientSelection:t,dimensions:r,viewport:n,impact:s,scrollJumpRequest:i})=>{const o=n||e.viewport,a=r||e.dimensions,l=t||e.current.client.selection,c=Tt(l,e.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:tt(e.initial.client.borderBoxCenter,c)},d={selection:tt(u.selection,o.scroll.current),borderBoxCenter:tt(u.borderBoxCenter,o.scroll.current),offset:tt(u.offset,o.scroll.diff.value)},h={client:u,page:d};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:o,current:h};const p=a.draggables[e.critical.draggable.id],x=s||Fx({pageOffset:d.offset,draggable:p,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),m=yD({draggable:p,impact:x,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:h,dimensions:{draggables:a.draggables,droppables:m},impact:x,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function vD(e,t){return e.map(r=>t[r])}var Mx=({impact:e,viewport:t,draggables:r,destination:n,forceShouldAnimate:s})=>{const i=e.displaced,o=vD(i.all,r),a=Po({afterDragging:o,destination:n,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:i});return{...e,displaced:a}},Bx=({impact:e,draggable:t,droppable:r,draggables:n,viewport:s,afterCritical:i})=>{const o=Rc({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i});return Eh({pageBorderBoxCenter:o,draggable:t,viewport:s})},Ux=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&B();const n=e.impact,s=r||e.viewport,i=t||e.dimensions,{draggables:o,droppables:a}=i,l=o[e.critical.draggable.id],c=$t(n);c||B();const u=a[c],d=Mx({impact:n,viewport:s,destination:u,draggables:o}),h=Bx({impact:d,draggable:l,droppable:u,draggables:o,viewport:s,afterCritical:e.afterCritical});return Wi({impact:d,clientSelection:h,state:e,dimensions:i,viewport:s})},xD=e=>({index:e.index,droppableId:e.droppableId}),zx=({draggable:e,home:t,draggables:r,viewport:n})=>{const s=Ho(t.axis,e.displaceBy),i=oi(t.descriptor.id,r),o=i.indexOf(e);o===-1&&B();const a=i.slice(o+1),l=a.reduce((h,p)=>(h[p.descriptor.id]=!0,h),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:l};return{impact:{displaced:Po({afterDragging:a,destination:t,displacedBy:s,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:xD(e.descriptor)}},afterCritical:c}},wD=(e,t)=>({draggables:e.draggables,droppables:Ch(e.droppables,t)}),bD=({draggable:e,offset:t,initialWindowScroll:r})=>{const n=kl(e.client,t),s=El(n,r);return{...e,placeholder:{...e.placeholder,client:n},client:n,page:s}},_D=e=>{const t=e.frame;return t||B(),t},SD=({additions:e,updatedDroppables:t,viewport:r})=>{const n=r.scroll.diff.value;return e.map(s=>{const i=s.descriptor.droppableId,o=t[i],l=_D(o).scroll.diff.value,c=tt(n,l);return bD({draggable:s,offset:c,initialWindowScroll:r.scroll.initial})})},kD=({state:e,published:t})=>{const r=t.modified.map(y=>{const g=e.dimensions.droppables[y.droppableId];return wh(g,y.scroll)}),n={...e.dimensions.droppables,...kx(r)},s=Ex(SD({additions:t.additions,updatedDroppables:n,viewport:e.viewport})),i={...e.dimensions.draggables,...s};t.removals.forEach(y=>{delete i[y]});const o={droppables:n,draggables:i},a=$t(e.impact),l=a?o.droppables[a]:null,c=o.draggables[e.critical.draggable.id],u=o.droppables[e.critical.droppable.id],{impact:d,afterCritical:h}=zx({draggable:c,home:u,draggables:i,viewport:e.viewport}),p=l&&l.isCombineEnabled?e.impact:d,x=Fx({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:p,viewport:e.viewport,afterCritical:h}),m={...e,phase:"DRAGGING",impact:x,onLiftImpact:d,dimensions:o,afterCritical:h,forceShouldAnimate:!1};return e.phase==="COLLECTING"?m:{...m,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const qd=e=>e.movementMode==="SNAP",Nu=(e,t,r)=>{const n=wD(e.dimensions,t);return!qd(e)||r?Wi({state:e,dimensions:n}):Ux({state:e,dimensions:n})};function ju(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const hg={phase:"IDLE",completed:null,shouldFlush:!1};var ED=(e=hg,t)=>{if(t.type==="FLUSH")return{...hg,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&B();const{critical:r,clientSelection:n,viewport:s,dimensions:i,movementMode:o}=t.payload,a=i.draggables[r.draggable.id],l=i.droppables[r.droppable.id],c={selection:n,borderBoxCenter:a.client.borderBox.center,offset:Ye},u={client:c,page:{selection:tt(c.selection,s.scroll.initial),borderBoxCenter:tt(c.selection,s.scroll.initial),offset:tt(c.selection,s.scroll.diff.value)}},d=Ic(i.droppables).every(m=>!m.isFixedOnPage),{impact:h,afterCritical:p}=zx({draggable:a,home:l,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:i,initial:u,current:u,isWindowScrollAllowed:d,impact:h,afterCritical:p,onLiftImpact:h,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&B(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||B(),kD({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;On(e)||B();const{client:r}=t.payload;return gn(r,e.current.client.selection)?e:Wi({state:e,clientSelection:r,impact:qd(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return ju(e);On(e)||B();const{id:r,newScroll:n}=t.payload,s=e.dimensions.droppables[r];if(!s)return e;const i=wh(s,n);return Nu(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;On(e)||B();const{id:r,isEnabled:n}=t.payload,s=e.dimensions.droppables[r];s||B(),s.isEnabled===n&&B();const i={...s,isEnabled:n};return Nu(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;On(e)||B();const{id:r,isCombineEnabled:n}=t.payload,s=e.dimensions.droppables[r];s||B(),s.isCombineEnabled===n&&B();const i={...s,isCombineEnabled:n};return Nu(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;On(e)||B(),e.isWindowScrollAllowed||B();const r=t.payload.newScroll;if(gn(e.viewport.scroll.current,r))return ju(e);const n=Ax(e.viewport,r);return qd(e)?Ux({state:e,viewport:n}):Wi({state:e,viewport:n})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!On(e))return e;const r=t.payload.maxScroll;if(gn(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&B();const r=aD({state:e,type:t.type});return r?Wi({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&B(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||B(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};const CD=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),ND=e=>({type:"LIFT",payload:e}),jD=e=>({type:"INITIAL_PUBLISH",payload:e}),DD=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),PD=()=>({type:"COLLECTION_STARTING",payload:null}),AD=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),ID=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),TD=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Vx=e=>({type:"MOVE",payload:e}),OD=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),RD=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),$D=()=>({type:"MOVE_UP",payload:null}),LD=()=>({type:"MOVE_DOWN",payload:null}),FD=()=>({type:"MOVE_RIGHT",payload:null}),MD=()=>({type:"MOVE_LEFT",payload:null}),Nh=()=>({type:"FLUSH",payload:null}),BD=e=>({type:"DROP_ANIMATE",payload:e}),jh=e=>({type:"DROP_COMPLETE",payload:e}),Wx=e=>({type:"DROP",payload:e}),UD=e=>({type:"DROP_PENDING",payload:e}),Gx=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var zD=e=>({getState:t,dispatch:r})=>n=>s=>{if(s.type!=="LIFT"){n(s);return}const{id:i,clientSelection:o,movementMode:a}=s.payload,l=t();l.phase==="DROP_ANIMATING"&&r(jh({completed:l.completed})),t().phase!=="IDLE"&&B(),r(Nh()),r(CD({draggableId:i,movementMode:a}));const u={draggableId:i,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:d,dimensions:h,viewport:p}=e.startPublishing(u);r(jD({critical:d,dimensions:h,clientSelection:o,movementMode:a,viewport:p}))},VD=e=>()=>t=>r=>{r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)};const Dh={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ao={opacity:{drop:0,combining:.7},scale:{drop:.75}},Hx={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Pn=`${Hx.outOfTheWay}s ${Dh.outOfTheWay}`,Gi={fluid:`opacity ${Pn}`,snap:`transform ${Pn}, opacity ${Pn}`,drop:e=>{const t=`${e}s ${Dh.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Pn}`,placeholder:`height ${Pn}, width ${Pn}, margin ${Pn}`},pg=e=>gn(e,Ye)?void 0:`translate(${e.x}px, ${e.y}px)`,Zd={moveTo:pg,drop:(e,t)=>{const r=pg(e);if(r)return t?`${r} scale(${Ao.scale.drop})`:r}},{minDropTime:Kd,maxDropTime:qx}=Hx,WD=qx-Kd,mg=1500,GD=.6;var HD=({current:e,destination:t,reason:r})=>{const n=jo(e,t);if(n<=0)return Kd;if(n>=mg)return qx;const s=n/mg,i=Kd+WD*s,o=r==="CANCEL"?i*GD:i;return Number(o.toFixed(2))},qD=({impact:e,draggable:t,dimensions:r,viewport:n,afterCritical:s})=>{const{draggables:i,droppables:o}=r,a=$t(e),l=a?o[a]:null,c=o[t.descriptor.droppableId],u=Bx({impact:e,draggable:t,draggables:i,afterCritical:s,droppable:l||c,viewport:n});return Tt(u,t.client.borderBox.center)},ZD=({draggables:e,reason:t,lastImpact:r,home:n,viewport:s,onLiftImpact:i})=>!r.at||t!=="DROP"?{impact:Mx({draggables:e,impact:i,destination:n,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Do},didDropInsideDroppable:!0};const KD=({getState:e,dispatch:t})=>r=>n=>{if(n.type!=="DROP"){r(n);return}const s=e(),i=n.payload.reason;if(s.phase==="COLLECTING"){t(UD({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&B(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||B();const a=s.critical,l=s.dimensions,c=l.draggables[s.critical.draggable.id],{impact:u,didDropInsideDroppable:d}=ZD({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),h=d?bh(u):null,p=d?Tc(u):null,x={index:a.draggable.index,droppableId:a.droppable.id},m={draggableId:c.descriptor.id,type:c.descriptor.type,source:x,reason:i,mode:s.movementMode,destination:h,combine:p},b=qD({impact:u,draggable:c,dimensions:l,viewport:s.viewport,afterCritical:s.afterCritical}),y={critical:s.critical,afterCritical:s.afterCritical,result:m,impact:u};if(!(!gn(s.current.client.offset,b)||!!m.combine)){t(jh({completed:y}));return}const v=HD({current:s.current.client.offset,destination:b,reason:i});t(BD({newHomeClientOffset:b,dropDuration:v,completed:y}))};var JD=KD,Zx=()=>({x:window.pageXOffset,y:window.pageYOffset});function QD(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function YD({onWindowScroll:e}){function t(){e(Zx())}const r=No(t),n=QD(r);let s=mn;function i(){return s!==mn}function o(){i()&&B(),s=qt(window,[n])}function a(){i()||B(),r.cancel(),s(),s=mn}return{start:o,stop:a,isActive:i}}const XD=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH",eP=e=>{const t=YD({onWindowScroll:r=>{e.dispatch(OD({newScroll:r}))}});return r=>n=>{!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&XD(n)&&t.stop(),r(n)}};var tP=eP,rP=e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),s=i=>{t||r||(t=!0,e(i),clearTimeout(n))};return s.wasCalled=()=>t,s},nP=()=>{const e=[],t=s=>{const i=e.findIndex(a=>a.timerId===s);i===-1&&B();const[o]=e.splice(i,1);o.callback()};return{add:s=>{const i=setTimeout(()=>t(i)),o={timerId:i,callback:s};e.push(o)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const sP=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,iP=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,oP=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n},xi=(e,t)=>{t()},wa=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Du(e,t,r,n){if(!e){r(n(t));return}const s=rP(r);e(t,{announce:s}),s.wasCalled()||r(n(t))}var aP=(e,t)=>{const r=nP();let n=null;const s=(d,h)=>{n&&B(),xi("onBeforeCapture",()=>{const p=e().onBeforeCapture;p&&p({draggableId:d,mode:h})})},i=(d,h)=>{n&&B(),xi("onBeforeDragStart",()=>{const p=e().onBeforeDragStart;p&&p(wa(d,h))})},o=(d,h)=>{n&&B();const p=wa(d,h);n={mode:h,lastCritical:d,lastLocation:p.source,lastCombine:null},r.add(()=>{xi("onDragStart",()=>Du(e().onDragStart,p,t,Fa.onDragStart))})},a=(d,h)=>{const p=bh(h),x=Tc(h);n||B();const m=!oP(d,n.lastCritical);m&&(n.lastCritical=d);const b=!sP(n.lastLocation,p);b&&(n.lastLocation=p);const y=!iP(n.lastCombine,x);if(y&&(n.lastCombine=x),!m&&!b&&!y)return;const g={...wa(d,n.mode),combine:x,destination:p};r.add(()=>{xi("onDragUpdate",()=>Du(e().onDragUpdate,g,t,Fa.onDragUpdate))})},l=()=>{n||B(),r.flush()},c=d=>{n||B(),n=null,xi("onDragEnd",()=>Du(e().onDragEnd,d,t,Fa.onDragEnd))};return{beforeCapture:s,beforeStart:i,start:o,update:a,flush:l,drop:c,abort:()=>{if(!n)return;const d={...wa(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};c(d)}}},lP=(e,t)=>{const r=aP(e,t);return n=>s=>i=>{if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){const a=i.payload.critical;r.beforeStart(a,i.payload.movementMode),s(i),r.start(a,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){const a=i.payload.completed.result;r.flush(),s(i),r.drop(a);return}if(s(i),i.type==="FLUSH"){r.abort();return}const o=n.getState();o.phase==="DRAGGING"&&r.update(o.critical,o.impact)}};const cP=e=>t=>r=>{if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}const n=e.getState();n.phase!=="DROP_ANIMATING"&&B(),e.dispatch(jh({completed:n.completed}))};var uP=cP;const dP=e=>{let t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return s=>i=>{if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),s(i),i.type!=="DROP_ANIMATE")return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Gx())}};r=requestAnimationFrame(()=>{r=null,t=qt(window,[o])})}};var fP=dP,hP=e=>()=>t=>r=>{(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)},pP=e=>{let t=!1;return()=>r=>n=>{if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;const s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const mP=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH";var gP=e=>t=>r=>n=>{if(mP(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);const s=t.getState();s.phase!=="DRAGGING"&&B(),e.start(s);return}r(n),e.scroll(t.getState())};const yP=e=>t=>r=>{if(t(r),r.type!=="PUBLISH_WHILE_DRAGGING")return;const n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Wx({reason:n.reason})))};var vP=yP;const xP=ex;var wP=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:n,announce:s,autoScroller:i})=>X0(ED,xP(X2(VD(r),hP(e),zD(e),JD,uP,fP,vP,gP(i),tP,pP(t),lP(n,s))));const Pu=()=>({additions:{},removals:{},modified:{}});function bP({registry:e,callbacks:t}){let r=Pu(),n=null;const s=()=>{n||(t.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:l,removals:c,modified:u}=r,d=Object.keys(l).map(x=>e.draggable.getById(x).getDimension(Ye)).sort((x,m)=>x.descriptor.index-m.descriptor.index),h=Object.keys(u).map(x=>{const b=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:b}}),p={additions:d,removals:Object.keys(c),modified:h};r=Pu(),t.publish(p)}))};return{add:l=>{const c=l.descriptor.id;r.additions[c]=l,r.modified[l.descriptor.droppableId]=!0,r.removals[c]&&delete r.removals[c],s()},remove:l=>{const c=l.descriptor;r.removals[c.id]=!0,r.modified[c.droppableId]=!0,r.additions[c.id]&&delete r.additions[c.id],s()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=Pu())}}}var Kx=({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const s=Tt({x:t,y:e},{x:n,y:r});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},Jx=()=>{const e=document.documentElement;return e||B(),e},Qx=()=>{const e=Jx();return Kx({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},_P=()=>{const e=Zx(),t=Qx(),r=e.y,n=e.x,s=Jx(),i=s.clientWidth,o=s.clientHeight,a=n+i,l=r+o;return{frame:lr({top:r,left:n,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:Ye,displacement:Ye}}}},SP=({critical:e,scrollOptions:t,registry:r})=>{const n=_P(),s=n.scroll.current,i=e.droppable,o=r.droppable.getAllByType(i.type).map(u=>u.callbacks.getDimensionAndWatchScroll(s,t)),a=r.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(s));return{dimensions:{draggables:Ex(a),droppables:kx(o)},critical:e,viewport:n}};function gg(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var kP=(e,t)=>{let r=null;const n=bP({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(h,p)=>{e.droppable.exists(h)||B(),r&&t.updateDroppableIsEnabled({id:h,isEnabled:p})},i=(h,p)=>{r&&(e.droppable.exists(h)||B(),t.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:p}))},o=(h,p)=>{r&&(e.droppable.exists(h)||B(),t.updateDroppableScroll({id:h,newScroll:p}))},a=(h,p)=>{r&&e.droppable.getById(h).callbacks.scroll(p)},l=()=>{if(!r)return;n.stop();const h=r.critical.droppable;e.droppable.getAllByType(h.type).forEach(p=>p.callbacks.dragStopped()),r.unsubscribe(),r=null},c=h=>{r||B();const p=r.critical.draggable;h.type==="ADDITION"&&gg(e,p,h.value)&&n.add(h.value),h.type==="REMOVAL"&&gg(e,p,h.value)&&n.remove(h.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:a,updateDroppableScroll:o,startPublishing:h=>{r&&B();const p=e.draggable.getById(h.draggableId),x=e.droppable.getById(p.descriptor.droppableId),m={draggable:p.descriptor,droppable:x.descriptor},b=e.subscribe(c);return r={critical:m,unsubscribe:b},SP({critical:m,registry:e,scrollOptions:h.scrollOptions})},stopPublishing:l}},Yx=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",EP=e=>{window.scrollBy(e.x,e.y)};const CP=Qe(e=>Ic(e).filter(t=>!(!t.isEnabled||!t.frame))),NP=(e,t)=>CP(t).find(n=>(n.frame||B(),Rx(n.frame.pageMarginBox)(e)))||null;var jP=({center:e,destination:t,droppables:r})=>{if(t){const s=r[t];return s.frame?s:null}return NP(e,r)};const Io={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var DP=(e,t,r=()=>Io)=>{const n=r(),s=e[t.size]*n.startFromPercentage,i=e[t.size]*n.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},Xx=({startOfRange:e,endOfRange:t,current:r})=>{const n=t-e;return n===0?0:(r-e)/n},Ph=1,PP=(e,t,r=()=>Io)=>{const n=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return Ph;const i=1-Xx({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=n.maxPixelScroll*n.ease(i);return Math.ceil(o)},AP=(e,t,r)=>{const n=r(),s=n.durationDampening.accelerateAt,i=n.durationDampening.stopDampeningAt,o=t,a=i,c=Date.now()-o;if(c>=i)return e;if(c<s)return Ph;const u=Xx({startOfRange:s,endOfRange:a,current:c}),d=e*n.ease(u);return Math.ceil(d)},yg=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:s})=>{const i=PP(e,t,s);return i===0?0:n?Math.max(AP(i,r,s),Ph):i},vg=({container:e,distanceToEdges:t,dragStartTime:r,axis:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=DP(e,n,i);return t[n.end]<t[n.start]?yg({distanceToEdge:t[n.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*yg({distanceToEdge:t[n.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},IP=({container:e,subject:t,proposedScroll:r})=>{const n=t.height>e.height,s=t.width>e.width;return!s&&!n?r:s&&n?null:{x:s?0:r.x,y:n?0:r.y}};const TP=Sx(e=>e===0?0:e);var ew=({dragStartTime:e,container:t,subject:r,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o={top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y,left:n.x-t.left},a=vg({container:t,distanceToEdges:o,dragStartTime:e,axis:_h,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),l=vg({container:t,distanceToEdges:o,dragStartTime:e,axis:jx,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),c=TP({x:l,y:a});if(gn(c,Ye))return null;const u=IP({container:t,subject:r,proposedScroll:c});return u?gn(u,Ye)?null:u:null};const OP=Sx(e=>e===0?0:e>0?1:-1),Ah=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:n})=>{const s=tt(t,n),i={x:e(s.x,r.x),y:e(s.y,r.y)};return gn(i,Ye)?null:i}})(),tw=({max:e,current:t,change:r})=>{const n={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=OP(r),i=Ah({max:n,current:t,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},Ih=(e,t)=>tw({current:e.scroll.current,max:e.scroll.max,change:t}),RP=(e,t)=>{if(!Ih(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return Ah({current:n,max:r,change:t})},Th=(e,t)=>{const r=e.frame;return r?tw({current:r.scroll.current,max:r.scroll.max,change:t}):!1},$P=(e,t)=>{const r=e.frame;return!r||!Th(e,t)?null:Ah({current:r.scroll.current,max:r.scroll.max,change:t})};var LP=({viewport:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=ew({dragStartTime:n,container:e.frame,subject:t,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return o&&Ih(e,o)?o:null},FP=({droppable:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const o=e.frame;if(!o)return null;const a=ew({dragStartTime:n,container:o.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return a&&Th(e,a)?a:null},xg=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:s,getAutoScrollerOptions:i})=>{const o=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const d=e.viewport,h=LP({dragStartTime:t,viewport:d,subject:l,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(h){n(h);return}}const c=jP({center:o,destination:$t(e.impact),droppables:e.dimensions.droppables});if(!c)return;const u=FP({dragStartTime:t,droppable:c,subject:l,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});u&&s(c.descriptor.id,u)},MP=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>Io})=>{const n=No(e),s=No(t);let i=null;const o=c=>{i||B();const{shouldUseTimeDampening:u,dragStartTime:d}=i;xg({state:c,scrollWindow:n,scrollDroppable:s,dragStartTime:d,shouldUseTimeDampening:u,getAutoScrollerOptions:r})};return{start:c=>{i&&B();const u=Date.now();let d=!1;const h=()=>{d=!0};xg({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h,getAutoScrollerOptions:r}),i={dragStartTime:u,shouldUseTimeDampening:d},d&&o(c)},stop:()=>{i&&(n.cancel(),s.cancel(),i=null)},scroll:o}},BP=({move:e,scrollDroppable:t,scrollWindow:r})=>{const n=(a,l)=>{const c=tt(a.current.client.selection,l);e({client:c})},s=(a,l)=>{if(!Th(a,l))return l;const c=$P(a,l);if(!c)return t(a.descriptor.id,l),null;const u=Tt(l,c);return t(a.descriptor.id,u),Tt(l,u)},i=(a,l,c)=>{if(!a||!Ih(l,c))return c;const u=RP(l,c);if(!u)return r(c),null;const d=Tt(c,u);return r(d),Tt(c,d)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=$t(a.impact);c||B();const u=s(a.dimensions.droppables[c],l);if(!u)return;const d=a.viewport,h=i(a.isWindowScrollAllowed,d,u);h&&n(a,h)}},UP=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:n})=>{const s=MP({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n}),i=BP({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(n().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){s.scroll(l);return}l.scrollJumpRequest&&i(l)}},start:s.start,stop:s.stop}};const Js="data-rfd",Qs=(()=>{const e=`${Js}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Jd=(()=>{const e=`${Js}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),zP=(()=>{const e=`${Js}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),wg={contextId:`${Js}-scroll-container-context-id`},VP=e=>t=>`[${t}="${e}"]`,wi=(e,t)=>e.map(r=>{const n=r.styles[t];return n?`${r.selector} { ${n} }`:""}).join(" "),WP="pointer-events: none;";var GP=e=>{const t=VP(e),r=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Qs.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:WP,dropAnimating:a}}})(),n=(()=>{const a=`
      transition: ${Gi.outOfTheWay};
    `;return{selector:t(Jd.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),s={selector:t(zP.contextId),styles:{always:"overflow-anchor: none;"}},o=[n,r,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:wi(o,"always"),resting:wi(o,"resting"),dragging:wi(o,"dragging"),dropAnimating:wi(o,"dropAnimating"),userCancel:wi(o,"userCancel")}};const HP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;var Lt=HP;const Au=()=>{const e=document.querySelector("head");return e||B(),e},bg=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function qP(e,t){const r=ge(()=>GP(e),[e]),n=w.useRef(null),s=w.useRef(null),i=te(Qe(d=>{const h=s.current;h||B(),h.textContent=d}),[]),o=te(d=>{const h=n.current;h||B(),h.textContent=d},[]);Lt(()=>{!n.current&&!s.current||B();const d=bg(t),h=bg(t);return n.current=d,s.current=h,d.setAttribute(`${Js}-always`,e),h.setAttribute(`${Js}-dynamic`,e),Au().appendChild(d),Au().appendChild(h),o(r.always),i(r.resting),()=>{const p=x=>{const m=x.current;m||B(),Au().removeChild(m),x.current=null};p(n),p(s)}},[t,o,i,r.always,r.resting,e]);const a=te(()=>i(r.dragging),[i,r.dragging]),l=te(d=>{if(d==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),c=te(()=>{s.current&&i(r.resting)},[i,r.resting]);return ge(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function rw(e,t){return Array.from(e.querySelectorAll(t))}var nw=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function $c(e){return e instanceof nw(e).HTMLElement}function ZP(e,t){const r=`[${Qs.contextId}="${e}"]`,n=rw(document,r);if(!n.length)return null;const s=n.find(i=>i.getAttribute(Qs.draggableId)===t);return!s||!$c(s)?null:s}function KP(e){const t=w.useRef({}),r=w.useRef(null),n=w.useRef(null),s=w.useRef(!1),i=te(function(h,p){const x={id:h,focus:p};return t.current[h]=x,function(){const b=t.current;b[h]!==x&&delete b[h]}},[]),o=te(function(h){const p=ZP(e,h);p&&p!==document.activeElement&&p.focus()},[e]),a=te(function(h,p){r.current===h&&(r.current=p)},[]),l=te(function(){n.current||s.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const h=r.current;h&&o(h)}))},[o]),c=te(function(h){r.current=null;const p=document.activeElement;p&&p.getAttribute(Qs.draggableId)===h&&(r.current=h)},[]);return Lt(()=>(s.current=!0,function(){s.current=!1;const h=n.current;h&&cancelAnimationFrame(h)}),[]),ge(()=>({register:i,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[i,c,l,a])}function JP(){const e={draggables:{},droppables:{}},t=[];function r(d){return t.push(d),function(){const p=t.indexOf(d);p!==-1&&t.splice(p,1)}}function n(d){t.length&&t.forEach(h=>h(d))}function s(d){return e.draggables[d]||null}function i(d){const h=s(d);return h||B(),h}const o={register:d=>{e.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:(d,h)=>{const p=e.draggables[h.descriptor.id];p&&p.uniqueId===d.uniqueId&&(delete e.draggables[h.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:d=>{const h=d.descriptor.id,p=s(h);p&&d.uniqueId===p.uniqueId&&(delete e.draggables[h],e.droppables[d.descriptor.droppableId]&&n({type:"REMOVAL",value:d}))},getById:i,findById:s,exists:d=>!!s(d),getAllByType:d=>Object.values(e.draggables).filter(h=>h.descriptor.type===d)};function a(d){return e.droppables[d]||null}function l(d){const h=a(d);return h||B(),h}const c={register:d=>{e.droppables[d.descriptor.id]=d},unregister:d=>{const h=a(d.descriptor.id);h&&d.uniqueId===h.uniqueId&&delete e.droppables[d.descriptor.id]},getById:l,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(e.droppables).filter(h=>h.descriptor.type===d)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:c,subscribe:r,clean:u}}function QP(){const e=ge(JP,[]);return w.useEffect(()=>function(){de.version.startsWith("16")||de.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()},[e]),e}var Oh=de.createContext(null),Dl=()=>{const e=document.body;return e||B(),e};const YP={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var XP=YP;const eA=e=>`rfd-announcement-${e}`;function tA(e){const t=ge(()=>eA(e),[e]),r=w.useRef(null);return w.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),pn(i.style,XP),Dl().appendChild(i),function(){setTimeout(function(){const l=Dl();l.contains(i)&&l.removeChild(i),i===r.current&&(r.current=null)})}},[t]),te(s=>{const i=r.current;if(i){i.textContent=s;return}},[])}let rA=0;const sw={separator:"::"};function nA(e,t=sw){return ge(()=>`${e}${t.separator}${rA++}`,[t.separator,e])}function sA(e,t=sw){const r=de.useId();return ge(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}var Rh="useId"in de?sA:nA;function iA({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function oA({contextId:e,text:t}){const r=Rh("hidden-text",{separator:"-"}),n=ge(()=>iA({contextId:e,uniqueId:r}),[r,e]);return w.useEffect(function(){const i=document.createElement("div");return i.id=n,i.textContent=t,i.style.display="none",Dl().appendChild(i),function(){const a=Dl();a.contains(i)&&a.removeChild(i)}},[n,t]),n}var Lc=de.createContext(null);function iw(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t}function aA(){let e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&B();const a={abandon:o};return e=a,a}function s(){e||B(),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:i}}function To(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const lA=9,cA=13,$h=27,ow=32,uA=33,dA=34,fA=35,hA=36,pA=37,mA=38,gA=39,yA=40,vA={[cA]:!0,[lA]:!0};var aw=e=>{vA[e.keyCode]&&e.preventDefault()};const xA=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(n=>`on${n}`in document)||e})();var Fc=xA;const lw=0,_g=5;function wA(e,t){return Math.abs(t.x-e.x)>=_g||Math.abs(t.y-e.y)>=_g}const Sg={type:"IDLE"};function bA({cancel:e,completed:t,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:s=>{const{button:i,clientX:o,clientY:a}=s;if(i!==lw)return;const l={x:o,y:a},c=r();if(c.type==="DRAGGING"){s.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&B();const u=c.point;if(!wA(u,l))return;s.preventDefault();const d=c.actions.fluidLift(l);n({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:s=>{const i=r();if(i.type!=="DRAGGING"){e();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(r().type==="PENDING"){e();return}if(s.keyCode===$h){s.preventDefault(),e();return}aw(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const i=r();if(i.type==="IDLE"&&B(),i.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:Fc,fn:e}]}function _A(e){const t=w.useRef(Sg),r=w.useRef(mn),n=ge(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==lw||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const h=e.findClosestDraggableId(d);if(!h)return;const p=e.tryGetLock(h,o,{sourceEvent:d});if(!p)return;d.preventDefault();const x={x:d.clientX,y:d.clientY};r.current(),c(p,x)}}),[e]),s=ge(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const d=e.findClosestDraggableId(u);if(!d)return;const h=e.findOptionsForDraggable(d);h&&(h.shouldRespectForcePress||e.canGetLock(d)&&u.preventDefault())}}),[e]),i=te(function(){const d={passive:!1,capture:!0};r.current=qt(window,[s,n],d)},[s,n]),o=te(()=>{t.current.type!=="IDLE"&&(t.current=Sg,r.current(),i())},[i]),a=te(()=>{const u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),l=te(function(){const d={capture:!0,passive:!1},h=bA({cancel:a,completed:o,getPhase:()=>t.current,setPhase:p=>{t.current=p}});r.current=qt(window,h,d)},[a,o]),c=te(function(d,h){t.current.type!=="IDLE"&&B(),t.current={type:"PENDING",point:h,actions:d},l()},[l]);Lt(function(){return i(),function(){r.current()}},[i])}function SA(){}const kA={[dA]:!0,[uA]:!0,[hA]:!0,[fA]:!0};function EA(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===$h){s.preventDefault(),r();return}if(s.keyCode===ow){s.preventDefault(),n();return}if(s.keyCode===yA){s.preventDefault(),e.moveDown();return}if(s.keyCode===mA){s.preventDefault(),e.moveUp();return}if(s.keyCode===gA){s.preventDefault(),e.moveRight();return}if(s.keyCode===pA){s.preventDefault(),e.moveLeft();return}if(kA[s.keyCode]){s.preventDefault();return}aw(s)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Fc,fn:r}]}function CA(e){const t=w.useRef(SA),r=ge(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==ow)return;const o=e.findClosestDraggableId(i);if(!o)return;const a=e.tryGetLock(o,u,{sourceEvent:i});if(!a)return;i.preventDefault();let l=!0;const c=a.snapLift();t.current();function u(){l||B(),l=!1,t.current(),n()}t.current=qt(window,EA(c,u),{capture:!0,passive:!1})}}),[e]),n=te(function(){const i={passive:!1,capture:!0};t.current=qt(window,[r],i)},[r]);Lt(function(){return n(),function(){t.current()}},[n])}const Iu={type:"IDLE"},NA=120,jA=.15;function DA({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===$h&&r.preventDefault(),e()}},{eventName:Fc,fn:e}]}function PA({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:i,clientY:o}=n.touches[0],a={x:i,y:o};n.preventDefault(),s.actions.move(a)}},{eventName:"touchend",fn:n=>{const s=r();if(s.type!=="DRAGGING"){e();return}n.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){e();return}n.preventDefault(),e()}},{eventName:"touchforcechange",fn:n=>{const s=r();s.type==="IDLE"&&B();const i=n.touches[0];if(!i||!(i.force>=jA))return;const a=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){a&&e();return}if(a){if(s.hasMoved){n.preventDefault();return}e();return}n.preventDefault()}},{eventName:Fc,fn:e}]}function AA(e){const t=w.useRef(Iu),r=w.useRef(mn),n=te(function(){return t.current},[]),s=te(function(p){t.current=p},[]),i=ge(()=>({eventName:"touchstart",fn:function(p){if(p.defaultPrevented)return;const x=e.findClosestDraggableId(p);if(!x)return;const m=e.tryGetLock(x,a,{sourceEvent:p});if(!m)return;const b=p.touches[0],{clientX:y,clientY:g}=b,v={x:y,y:g};r.current(),d(m,v)}}),[e]),o=te(function(){const p={capture:!0,passive:!1};r.current=qt(window,[i],p)},[i]),a=te(()=>{const h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),s(Iu),r.current(),o())},[o,s]),l=te(()=>{const h=t.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),c=te(function(){const p={capture:!0,passive:!1},x={cancel:l,completed:a,getPhase:n},m=qt(window,PA(x),p),b=qt(window,DA(x),p);r.current=function(){m(),b()}},[l,n,a]),u=te(function(){const p=n();p.type!=="PENDING"&&B();const x=p.actions.fluidLift(p.point);s({type:"DRAGGING",actions:x,hasMoved:!1})},[n,s]),d=te(function(p,x){n().type!=="IDLE"&&B();const m=setTimeout(u,NA);s({type:"PENDING",point:x,actions:p,longPressTimerId:m}),c()},[c,n,s,u]);Lt(function(){return o(),function(){r.current();const x=n();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),s(Iu))}},[n,o,s]),Lt(function(){return qt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const IA=["input","button","textarea","select","option","optgroup","video","audio"];function cw(e,t){if(t==null)return!1;if(IA.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:cw(e,t.parentElement)}function TA(e,t){const r=t.target;return $c(r)?cw(e,r):!1}var OA=e=>lr(e.getBoundingClientRect()).center;function RA(e){return e instanceof nw(e).Element}const $A=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||e})();function uw(e,t){return e==null?null:e[$A](t)?e:uw(e.parentElement,t)}function LA(e,t){return e.closest?e.closest(t):uw(e,t)}function FA(e){return`[${Qs.contextId}="${e}"]`}function MA(e,t){const r=t.target;if(!RA(r))return null;const n=FA(e),s=LA(r,n);return!s||!$c(s)?null:s}function BA(e,t){const r=MA(e,t);return r?r.getAttribute(Qs.draggableId):null}function UA(e,t){const r=`[${Jd.contextId}="${e}"]`,s=rw(document,r).find(i=>i.getAttribute(Jd.id)===t);return!s||!$c(s)?null:s}function zA(e){e.preventDefault()}function ba({expected:e,phase:t,isLockActive:r,shouldWarn:n}){return!(!r()||e!==t)}function dw({lockAPI:e,store:t,registry:r,draggableId:n}){if(e.isClaimed())return!1;const s=r.draggable.findById(n);return!(!s||!s.options.isEnabled||!Yx(t.getState(),n))}function VA({lockAPI:e,contextId:t,store:r,registry:n,draggableId:s,forceSensorStop:i,sourceEvent:o}){if(!dw({lockAPI:e,store:r,registry:n,draggableId:s}))return null;const l=n.draggable.getById(s),c=UA(t,l.descriptor.id);if(!c||o&&!l.options.canDragInteractiveElements&&TA(c,o))return null;const u=e.claim(i||mn);let d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function p(){return e.isActive(u)}function x(k,j){ba({expected:k,phase:d,isLockActive:p,shouldWarn:!0})&&r.dispatch(j())}const m=x.bind(null,"DRAGGING");function b(k){function j(){e.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(j(),B()),r.dispatch(ND(k.liftActionArgs)),d="DRAGGING";function P(N,A={shouldBlockNextClick:!1}){if(k.cleanup(),A.shouldBlockNextClick){const O=qt(window,[{eventName:"click",fn:zA,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(O)}j(),r.dispatch(Wx({reason:N}))}return{isActive:()=>ba({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,drop:N=>P("DROP",N),cancel:N=>P("CANCEL",N),...k.actions}}function y(k){const j=No(N=>{m(()=>Vx({client:N}))});return{...b({liftActionArgs:{id:s,clientSelection:k,movementMode:"FLUID"},cleanup:()=>j.cancel(),actions:{move:j}}),move:j}}function g(){const k={moveUp:()=>m($D),moveRight:()=>m(FD),moveDown:()=>m(LD),moveLeft:()=>m(MD)};return b({liftActionArgs:{id:s,clientSelection:OA(c),movementMode:"SNAP"},cleanup:mn,actions:k})}function v(){ba({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&e.release()}return{isActive:()=>ba({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:y,snapLift:g,abort:v}}const WA=[_A,CA,AA];function GA({contextId:e,store:t,registry:r,customSensors:n,enableDefaultSensors:s}){const i=[...s?WA:[],...n||[]],o=w.useState(()=>aA())[0],a=te(function(b,y){To(b)&&!To(y)&&o.tryAbandon()},[o]);Lt(function(){let b=t.getState();return t.subscribe(()=>{const g=t.getState();a(b,g),b=g})},[o,t,a]),Lt(()=>o.tryAbandon,[o.tryAbandon]);const l=te(m=>dw({lockAPI:o,registry:r,store:t,draggableId:m}),[o,r,t]),c=te((m,b,y)=>VA({lockAPI:o,registry:r,contextId:e,store:t,draggableId:m,forceSensorStop:b||null,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null}),[e,o,r,t]),u=te(m=>BA(e,m),[e]),d=te(m=>{const b=r.draggable.findById(m);return b?b.options:null},[r.draggable]),h=te(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Nh()))},[o,t]),p=te(()=>o.isClaimed(),[o]),x=ge(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:d,tryReleaseLock:h,isLockClaimed:p}),[l,c,u,d,h,p]);for(let m=0;m<i.length;m++)i[m](x)}const HA=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};de.version.startsWith("16")||de.version.startsWith("17")?r():Mo.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),qA=e=>({...Io,...e.autoScrollerOptions,durationDampening:{...Io.durationDampening,...e.autoScrollerOptions}});function bi(e){return e.current||B(),e.current}function ZA(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:s,dragHandleUsageInstructions:i}=e,o=w.useRef(null),a=iw(e),l=te(()=>HA(a.current),[a]),c=te(()=>qA(a.current),[a]),u=tA(t),d=oA({contextId:t,text:i}),h=qP(t,s),p=te(O=>{bi(o).dispatch(O)},[]),x=ge(()=>qm({publishWhileDragging:DD,updateDroppableScroll:AD,updateDroppableIsEnabled:ID,updateDroppableIsCombineEnabled:TD,collectionStarting:PD},p),[p]),m=QP(),b=ge(()=>kP(m,x),[m,x]),y=ge(()=>UP({scrollWindow:EP,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:c,...qm({move:Vx},p)}),[b.scrollDroppable,p,c]),g=KP(t),v=ge(()=>wP({announce:u,autoScroller:y,dimensionMarshal:b,focusMarshal:g,getResponders:l,styleMarshal:h}),[u,y,b,g,l,h]);o.current=v;const S=te(()=>{const O=bi(o);O.getState().phase!=="IDLE"&&O.dispatch(Nh())},[]),k=te(()=>{const O=bi(o).getState();return O.phase==="DROP_ANIMATING"?!0:O.phase==="IDLE"?!1:O.isDragging},[]),j=ge(()=>({isDragging:k,tryAbort:S}),[k,S]);r(j);const P=te(O=>Yx(bi(o).getState(),O),[]),N=te(()=>On(bi(o).getState()),[]),A=ge(()=>({marshal:b,focus:g,contextId:t,canLift:P,isMovementAllowed:N,dragHandleUsageInstructionsId:d,registry:m}),[t,b,d,g,P,N,m]);return GA({contextId:t,store:v,registry:m,customSensors:n||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(()=>S,[S]),de.createElement(Lc.Provider,{value:A},de.createElement(sj,{context:Oh,store:v},e.children))}let KA=0;function JA(){return ge(()=>`${KA++}`,[])}function QA(){return de.useId()}var YA="useId"in de?QA:JA;function XA(e){const t=YA(),r=e.dragHandleUsageInstructions||Fa.dragHandleUsageInstructions;return de.createElement(mj,null,n=>de.createElement(ZA,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const kg={dragging:5e3,dropAnimating:4500},eI=(e,t)=>t?Gi.drop(t.duration):e?Gi.snap:Gi.fluid,tI=(e,t)=>{if(e)return t?Ao.opacity.drop:Ao.opacity.combining},rI=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function nI(e){const r=e.dimension.client,{offset:n,combineWith:s,dropping:i}=e,o=!!s,a=rI(e),l=!!i,c=l?Zd.drop(n,o):Zd.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:eI(a,i),transform:c,opacity:tI(o,l),zIndex:l?kg.dropAnimating:kg.dragging,pointerEvents:"none"}}function sI(e){return{transform:Zd.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function iI(e){return e.type==="DRAGGING"?nI(e):sI(e)}function oI(e,t,r=Ye){const n=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=vx(s,n),o=El(i,r),a={client:i,tagName:t.tagName.toLowerCase(),display:n.display},l={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:i,page:o}}function aI(e){const t=Rh("draggable"),{descriptor:r,registry:n,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:a}=e,l=ge(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:a}),[i,a,o]),c=te(p=>{const x=s();return x||B(),oI(r,x,p)},[r,s]),u=ge(()=>({uniqueId:t,descriptor:r,options:l,getDimension:c}),[r,c,l,t]),d=w.useRef(u),h=w.useRef(!0);Lt(()=>(n.draggable.register(d.current),()=>n.draggable.unregister(d.current)),[n.draggable]),Lt(()=>{if(h.current){h.current=!1;return}const p=d.current;d.current=u,n.draggable.update(u,p)},[u,n.draggable])}var Lh=de.createContext(null);function Pl(e){const t=w.useContext(e);return t||B(),t}function lI(e){e.preventDefault()}const cI=e=>{const t=w.useRef(null),r=te((j=null)=>{t.current=j},[]),n=te(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:o}=Pl(Lc),{type:a,droppableId:l}=Pl(Lh),c=ge(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:u,draggableId:d,isEnabled:h,shouldRespectForcePress:p,canDragInteractiveElements:x,isClone:m,mapped:b,dropAnimationFinished:y}=e;if(!m){const j=ge(()=>({descriptor:c,registry:o,getDraggableRef:n,canDragInteractiveElements:x,shouldRespectForcePress:p,isEnabled:h}),[c,o,n,x,p,h]);aI(j)}const g=ge(()=>h?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:lI}:null,[s,i,d,h]),v=te(j=>{b.type==="DRAGGING"&&b.dropping&&j.propertyName==="transform"&&(de.version.startsWith("16")||de.version.startsWith("17")?y():Mo.flushSync(y))},[y,b]),S=ge(()=>{const j=iI(b),P=b.type==="DRAGGING"&&b.dropping?v:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":d,style:j,onTransitionEnd:P},dragHandleProps:g}},[s,g,d,b,v,r]),k=ge(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return de.createElement(de.Fragment,null,u(S,b.snapshot,k))};var uI=cI,fw=(e,t)=>e===t,hw=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const dI=e=>e.combine?e.combine.draggableId:null,fI=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function hI(){const e=Qe((s,i)=>({x:s,y:i})),t=Qe((s,i,o=null,a=null,l=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!l,dropAnimation:l,mode:s,draggingOver:o,combineWith:a,combineTargetFor:null})),r=Qe((s,i,o,a,l=null,c=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:i,offset:s,dimension:o,forceShouldAnimate:u,snapshot:t(i,a,l,c,null)}}));return(s,i)=>{if(To(s)){if(s.critical.draggable.id!==i.draggableId)return null;const o=s.current.client.offset,a=s.dimensions.draggables[i.draggableId],l=$t(s.impact),c=fI(s.impact),u=s.forceShouldAnimate;return r(e(o.x,o.y),s.movementMode,a,i.isClone,l,c,u)}if(s.phase==="DROP_ANIMATING"){const o=s.completed;if(o.result.draggableId!==i.draggableId)return null;const a=i.isClone,l=s.dimensions.draggables[i.draggableId],c=o.result,u=c.mode,d=hw(c),h=dI(c),x={duration:s.dropDuration,curve:Dh.drop,moveTo:s.newHomeClientOffset,opacity:h?Ao.opacity.drop:null,scale:h?Ao.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:l,dropping:x,draggingOver:d,combineWith:h,mode:u,forceShouldAnimate:null,snapshot:t(u,a,d,h,x)}}}return null}}function pw(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const pI={mapped:{type:"SECONDARY",offset:Ye,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:pw(null)}};function mI(){const e=Qe((o,a)=>({x:o,y:a})),t=Qe(pw),r=Qe((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),n=o=>o?r(Ye,o,!0):null,s=(o,a,l,c)=>{const u=l.displaced.visible[o],d=!!(c.inVirtualList&&c.effected[o]),h=Tc(l),p=h&&h.draggableId===o?a:null;if(!u){if(!d)return n(p);if(l.displaced.invisible[o])return null;const b=ii(c.displacedBy.point),y=e(b.x,b.y);return r(y,p,!0)}if(d)return n(p);const x=l.displacedBy.point,m=e(x.x,x.y);return r(m,p,u.shouldAnimate)};return(o,a)=>{if(To(o))return o.critical.draggable.id===a.draggableId?null:s(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:s(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const gI=()=>{const e=hI(),t=mI();return(n,s)=>e(n,s)||t(n,s)||pI},yI={dropAnimationFinished:Gx},vI=gx(gI,yI,null,{context:Oh,areStatePropsEqual:fw})(uI);var xI=vI;function mw(e){return Pl(Lh).isUsingCloneFor===e.draggableId&&!e.isClone?null:de.createElement(xI,e)}function wI(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return de.createElement(mw,pn({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const gw=e=>t=>e===t,bI=gw("scroll"),_I=gw("auto"),Eg=(e,t)=>t(e.overflowX)||t(e.overflowY),SI=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return Eg(r,bI)||Eg(r,_I)},kI=()=>!1,yw=e=>e==null?null:e===document.body?kI()?e:null:e===document.documentElement?null:SI(e)?e:yw(e.parentElement);var Qd=e=>({x:e.scrollLeft,y:e.scrollTop});const vw=e=>e?window.getComputedStyle(e).position==="fixed"?!0:vw(e.parentElement):!1;var EI=e=>{const t=yw(e),r=vw(e);return{closestScrollable:t,isFixedOnPage:r}},CI=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:s,client:i,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:h,client:p}=a,x=Kx({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:p,scrollSize:h,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:x,diff:{value:Ye,displacement:Ye}}}})(),c=s==="vertical"?_h:jx,u=Ks({page:o,withPlaceholder:null,axis:c,frame:l});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:c,isEnabled:t,client:i,page:o,frame:l,subject:u}};const NI=(e,t)=>{const r=xx(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,s=r.paddingBox.left-t.scrollLeft,i=n+t.scrollHeight,o=s+t.scrollWidth,l=vh({top:n,right:o,bottom:i,left:s},r.border);return xh({borderBox:l,margin:r.margin,border:r.border,padding:r.padding})};var jI=({ref:e,descriptor:t,env:r,windowScroll:n,direction:s,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:a})=>{const l=r.closestScrollable,c=NI(e,l),u=El(c,n),d=(()=>{if(!l)return null;const p=xx(l),x={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:p,page:El(p,n),scroll:Qd(l),scrollSize:x,shouldClipSubject:a}})();return CI({descriptor:t,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:s,client:c,page:u,closest:d})};const DI={passive:!1},PI={passive:!0};var Cg=e=>e.shouldPublishImmediately?DI:PI;const _a=e=>e&&e.env.closestScrollable||null;function AI(e){const t=w.useRef(null),r=Pl(Lc),n=Rh("droppable"),{registry:s,marshal:i}=r,o=iw(e),a=ge(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=w.useRef(a),c=ge(()=>Qe((S,k)=>{t.current||B();const j={x:S,y:k};i.updateDroppableScroll(a.id,j)}),[a.id,i]),u=te(()=>{const S=t.current;return!S||!S.env.closestScrollable?Ye:Qd(S.env.closestScrollable)},[]),d=te(()=>{const S=u();c(S.x,S.y)},[u,c]),h=ge(()=>No(d),[d]),p=te(()=>{const S=t.current,k=_a(S);if(S&&k||B(),S.scrollOptions.shouldPublishImmediately){d();return}h()},[h,d]),x=te((S,k)=>{t.current&&B();const j=o.current,P=j.getDroppableRef();P||B();const N=EI(P),A={ref:P,descriptor:a,env:N,scrollOptions:k};t.current=A;const O=jI({ref:P,descriptor:a,env:N,windowScroll:S,direction:j.direction,isDropDisabled:j.isDropDisabled,isCombineEnabled:j.isCombineEnabled,shouldClipSubject:!j.ignoreContainerClipping}),X=N.closestScrollable;return X&&(X.setAttribute(wg.contextId,r.contextId),X.addEventListener("scroll",p,Cg(A.scrollOptions))),O},[r.contextId,a,p,o]),m=te(()=>{const S=t.current,k=_a(S);return S&&k||B(),Qd(k)},[]),b=te(()=>{const S=t.current;S||B();const k=_a(S);t.current=null,k&&(h.cancel(),k.removeAttribute(wg.contextId),k.removeEventListener("scroll",p,Cg(S.scrollOptions)))},[p,h]),y=te(S=>{const k=t.current;k||B();const j=_a(k);j||B(),j.scrollTop+=S.y,j.scrollLeft+=S.x},[]),g=ge(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:m,dragStopped:b,scroll:y}),[b,x,m,y]),v=ge(()=>({uniqueId:n,descriptor:a,callbacks:g}),[g,a,n]);Lt(()=>(l.current=v.descriptor,s.droppable.register(v),()=>{t.current&&b(),s.droppable.unregister(v)}),[g,a,b,v,i,s.droppable]),Lt(()=>{t.current&&i.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Lt(()=>{t.current&&i.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function Tu(){}const Ng={width:0,height:0,margin:_j},II=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?Ng:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},TI=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=II({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Gi.placeholder:null}},OI=e=>{const t=w.useRef(null),r=te(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:s,onClose:i,contextId:o}=e,[a,l]=w.useState(e.animate==="open");w.useEffect(()=>a?n!=="open"?(r(),l(!1),Tu):t.current?Tu:(t.current=setTimeout(()=>{t.current=null,l(!1)}),r):Tu,[n,a,r]);const c=te(d=>{d.propertyName==="height"&&(s(),n==="close"&&i())},[n,i,s]),u=TI({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return de.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:c,ref:e.innerRef})};var RI=de.memo(OI);class $I extends de.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const LI=e=>{const t=w.useContext(Lc);t||B();const{contextId:r,isMovementAllowed:n}=t,s=w.useRef(null),i=w.useRef(null),{children:o,droppableId:a,type:l,mode:c,direction:u,ignoreContainerClipping:d,isDropDisabled:h,isCombineEnabled:p,snapshot:x,useClone:m,updateViewportMaxScroll:b,getContainerForClone:y}=e,g=te(()=>s.current,[]),v=te((X=null)=>{s.current=X},[]);te(()=>i.current,[]);const S=te((X=null)=>{i.current=X},[]),k=te(()=>{n()&&b({maxScroll:Qx()})},[n,b]);AI({droppableId:a,type:l,mode:c,direction:u,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:d,getDroppableRef:g});const j=ge(()=>de.createElement($I,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:X,data:R,animate:U})=>de.createElement(RI,{placeholder:R,onClose:X,innerRef:S,animate:U,contextId:r,onTransitionEnd:k})),[r,k,e.placeholder,e.shouldAnimatePlaceholder,S]),P=ge(()=>({innerRef:v,placeholder:j,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":r}}),[r,a,j,v]),N=m?m.dragging.draggableId:null,A=ge(()=>({droppableId:a,type:l,isUsingCloneFor:N}),[a,N,l]);function O(){if(!m)return null;const{dragging:X,render:R}=m,U=de.createElement(mw,{draggableId:X.draggableId,index:X.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(oe,I)=>R(oe,I,X));return Y_.createPortal(U,y())}return de.createElement(Lh.Provider,{value:A},o(P,x),O())};var FI=LI;function MI(){return document.body||B(),document.body}const jg={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:MI},xw=e=>{let t={...e},r;for(r in jg)e[r]===void 0&&(t={...t,[r]:jg[r]});return t},Ou=(e,t)=>e===t.droppable.type,Dg=(e,t)=>t.draggables[e.draggable.id],BI=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=Qe(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),n=Qe((i,o,a,l,c,u)=>{const d=c.descriptor.id;if(c.descriptor.droppableId===i){const x=u?{render:u,dragging:r(c.descriptor)}:null,m={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:m,useClone:x}}if(!o)return t;if(!l)return e;const p={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}});return(i,o)=>{const a=xw(o),l=a.droppableId,c=a.type,u=!a.isDropDisabled,d=a.renderClone;if(To(i)){const h=i.critical;if(!Ou(c,h))return t;const p=Dg(h,i.dimensions),x=$t(i.impact)===l;return n(l,u,x,x,p,d)}if(i.phase==="DROP_ANIMATING"){const h=i.completed;if(!Ou(c,h.critical))return t;const p=Dg(h.critical,i.dimensions);return n(l,u,hw(h.result)===l,$t(h.impact)===l,p,d)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const h=i.completed;if(!Ou(c,h.critical))return t;const p=$t(h.impact)===l,x=!!(h.impact.at&&h.impact.at.type==="COMBINE"),m=h.critical.droppable.id===l;return p?x?e:t:m?e:t}return t}},UI={updateViewportMaxScroll:RD},zI=gx(BI,UI,(e,t,r)=>({...xw(r),...e,...t}),{context:Oh,areStatePropsEqual:fw})(FI);var VI=zI;function WI(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(""),[o,a]=w.useState(1),[l,c]=w.useState(!1),[u,d]=w.useState(null),[h,p]=w.useState(null),[x,m]=w.useState("checking"),[b,y]=w.useState(null),g=10;w.useEffect(()=>{(async()=>{await v()})()},[]),w.useEffect(()=>{x==="connected"&&S()},[o,s]);async function v(){try{m("checking"),y(null);const{data:{user:N},error:A}=await G.auth.getUser();if(A)throw new Error(`Authentication error: ${A.message}`);if(!N)throw new Error("No authenticated user found");const{error:O}=await G.from("workflows").select("id").limit(1);if(O)throw new Error(`Database ping failed: ${O.message}`);m("connected"),S()}catch(N){const A=N instanceof Error?N.message:"Failed to connect to database";console.error("Connection check failed:",N),m("error"),y(A),re.error(A)}}async function S(){try{n(!0),console.log("WorkflowList: Starting to fetch workflows (RLS bypassed)..."),y(null);const{data:{user:N}}=await G.auth.getUser();if(console.log("WorkflowList: Current user:",N),console.log("WorkflowList: RLS status: BYPASSED"),!N)throw new Error("User not authenticated");const{data:A,error:O}=await G.from("workflows").select("id, name, description, status, created_at, updated_at, order, supports_documents, supports_images, worker_id, api_auth_token, variables, api_url").eq("status","active").order("order",{ascending:!0});if(console.log("WorkflowList: Fetched workflows:",A),console.log("WorkflowList: Query error:",O),console.log("WorkflowList: Query parameters:",{status:"active"}),O)throw console.error("WorkflowList: Supabase query error:",O),new Error("Failed to fetch workflows");t(A||[])}catch(N){console.error("WorkflowList: Error in fetchWorkflows:",N);const A=N instanceof Error?N.message:"Failed to fetch workflows";y(A),re.error(A)}finally{n(!1)}}const k=N=>{switch(N){case"active":return"bg-emerald-500";case"inactive":return"bg-yellow-500";case"archived":return"bg-gray-500";default:return"bg-gray-500"}},j=async N=>{if(!N.destination)return;const A=Array.from(e),[O]=A.splice(N.source.index,1);A.splice(N.destination.index,0,O);const X=A.map((R,U)=>({...R,order:U}));t(X);try{const{error:R}=await G.from("workflows").upsert(X.map(({id:U,order:oe,name:I,status:se,description:ae})=>({id:U,order:oe,name:I,status:se,description:ae})));if(R)throw R;re.success("Workflow order updated successfully")}catch(R){re.error("Failed to update workflow order"),console.error("Error:",R),S()}},P=async N=>{try{if(!confirm("Are you sure you want to delete this workflow? This will also delete all conversations and logs associated with it."))return;const{data:{user:A}}=await G.auth.getUser();if(!A)throw new Error("User not authenticated");const{data:O,error:X}=await G.rpc("safely_delete_workflow",{p_workflow_id:N,p_user_id:A.id});if(X)throw X;O===!0?(re.success("Workflow and all associated data deleted successfully"),S()):re.error("You do not have permission to delete this workflow")}catch(A){console.error("Error deleting workflow:",A),re.error(A instanceof Error?A.message:"Failed to delete workflow")}};return f.jsxs("div",{className:"p-6 bg-[#121212] min-h-screen",children:[f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h1",{className:"text-2xl font-bold text-[#E0E0E0]",children:"Workflows"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{className:`inline-flex h-3 w-3 rounded-full ${x==="connected"?"bg-emerald-500":x==="checking"?"bg-yellow-500 animate-pulse":"bg-red-500"}`}),f.jsx("span",{className:"text-sm text-[#757575]",children:x==="connected"?"Connected":x==="checking"?"Checking connection...":"Connection error"}),x==="error"&&f.jsx("button",{onClick:v,className:"ml-2 text-[#BB86FC] hover:text-[#E0E0E0] transition-colors",title:"Retry connection",children:f.jsx(Wn,{className:"w-4 h-4"})})]}),f.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-4 py-2 bg-[#f7ab38] text-white rounded-lg hover:bg-opacity-90 transition-colors",children:[f.jsx(Yf,{className:"w-5 h-5 mr-2"}),"Add Workflow"]})]})]}),f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"relative",children:[f.jsx(Ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsx("input",{type:"text",placeholder:"Search workflows...",value:s,onChange:N=>i(N.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#1F1F1F] text-[#E0E0E0] rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"})]})}),f.jsx(XA,{onDragEnd:j,children:f.jsx(VI,{droppableId:"workflows",children:N=>f.jsxs("div",{...N.droppableProps,ref:N.innerRef,className:"space-y-4",children:[r?f.jsx("div",{className:"bg-[#1F1F1F] p-8 rounded-lg flex justify-center",children:f.jsx(Wn,{className:"w-6 h-6 animate-spin text-[#E0E0E0]"})}):b?f.jsxs("div",{className:"bg-[#1F1F1F] p-8 rounded-lg flex items-center justify-center space-x-3 text-red-500",children:[f.jsx(Jf,{className:"w-6 h-6"}),f.jsx("span",{children:b})]}):e.length===0?f.jsx("div",{className:"bg-[#1F1F1F] p-8 rounded-lg text-center text-[#757575]",children:"No workflows found"}):e.map((A,O)=>f.jsx(wI,{draggableId:A.id,index:O,children:X=>f.jsxs("div",{ref:X.innerRef,...X.draggableProps,...X.dragHandleProps,className:"bg-[#1F1F1F] rounded-lg border border-[#2D2D2D] p-4 hover:border-[#f7ab38] transition-colors","data-workflow-id":A.id,children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(BS,{className:"w-5 h-5 text-[#757575] cursor-move"}),f.jsxs("h3",{className:"text-[#E0E0E0] font-medium",children:[A.display_name||A.name,A.display_name&&f.jsxs("span",{className:"text-[#757575] text-sm ml-2",children:["(",A.name,")"]})]})]}),A.description&&f.jsx("p",{className:"text-[#757575] text-sm",children:A.description}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(A.status)} text-white`,children:A.status}),f.jsxs("span",{className:"text-[#757575] text-sm",children:["Created: ",new Date(A.created_at).toLocaleDateString()]}),f.jsxs("span",{className:"text-[#757575] text-sm",children:["Updated: ",new Date(A.updated_at).toLocaleDateString()]})]})]}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:()=>{d(A),c(!0)},className:"text-[#f7ab38] hover:text-[#E0E0E0] transition-colors",children:f.jsx(HS,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>p(h===A.id?null:A.id),className:`text-[#f7ab38] hover:text-[#E0E0E0] transition-colors ${h===A.id?"text-[#E0E0E0]":""}`,children:f.jsx(o0,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>P(A.id),className:"text-red-500 hover:text-red-400 transition-colors",children:f.jsx(Yl,{className:"w-5 h-5"})})]})]}),h===A.id&&f.jsx("div",{className:"mt-4 border-t border-[#2D2D2D] pt-4",children:f.jsx(Z2,{workflowId:A.id})})]})},A.id)),N.placeholder]})})}),f.jsxs("div",{className:"mt-4 flex justify-between items-center text-[#757575]",children:[f.jsx("button",{onClick:()=>a(N=>Math.max(1,N-1)),disabled:o===1,className:"px-4 py-2 disabled:opacity-50",children:"Previous"}),f.jsxs("span",{children:["Page ",o]}),f.jsx("button",{onClick:()=>a(N=>N+1),disabled:e.length<g,className:"px-4 py-2 disabled:opacity-50",children:"Next"})]})]}),l&&f.jsx(q2,{workflow:u,onClose:()=>{c(!1),d(null)},onSave:()=>{c(!1),d(null),S()}})]})}const GI=3,HI=1e3;async function ww(e,t=GI,r=HI){try{return await e()}catch(n){if(t>0)return await new Promise(s=>setTimeout(s,r)),ww(e,t-1,r*1.5);throw n}}function qI(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[s,i]=w.useState(""),[o,a]=w.useState("email"),[l,c]=w.useState("asc"),[u,d]=w.useState([]),[h,p]=w.useState(!1),[x,m]=w.useState(null),[b,y]=w.useState(1),g=10,{register:v,handleSubmit:S,formState:{errors:k,isSubmitting:j},reset:P,setValue:N}=lc({resolver:cc(G2),defaultValues:{email:"",company_name:"",role:"user"}});w.useEffect(()=>{x&&(N("email",x.email),N("company_name",x.company_name),N("role",x.role))},[x,N]),w.useEffect(()=>{A()},[b,o,l,s]);const A=async()=>{try{n(!0);let I=G.from("profiles").select("*").order(o,{ascending:l==="asc"}).range((b-1)*g,b*g-1);s&&(I=I.or(`email.ilike.%${s}%,company_name.ilike.%${s}%`));const{data:se,error:ae}=await ww(async()=>{const L=await I;if(L.error)throw L.error;return L});if(ae)throw ae;t(se||[])}catch(I){console.error("Error fetching users:",I),re.error(I.message==="Failed to fetch"?"Unable to connect to the server. Please check your internet connection and try again.":`Failed to fetch users: ${I.message}`),t([])}finally{n(!1)}},O=I=>{I===o?c(l==="asc"?"desc":"asc"):(a(I),c("asc"))},X=I=>{d(I?e.map(se=>se.id):[])},R=(I,se)=>{d(ae=>se?[...ae,I]:ae.filter(L=>L!==I))},U=async I=>{if(u.length)try{switch(I){case"delete":if(!confirm("Are you sure you want to delete the selected users?"))return;await G.from("profiles").delete().in("id",u);break;case"activate":case"deactivate":await G.from("profiles").update({status:I==="activate"}).in("id",u);break}re.success(`Successfully ${I}d selected users`),d([]),A()}catch(se){re.error(`Failed to ${I} users`),console.error("Error:",se)}},oe=async I=>{try{if(x){if(I.password){const{error:ae}=await G.auth.admin.updateUserById(x.id,{password:I.password});if(ae)throw ae}const{error:se}=await G.from("profiles").update({company_name:I.company_name,role:I.role,updated_at:new Date().toISOString()}).eq("id",x.id);if(se)throw se;re.success("User updated successfully")}else{const{data:se,error:ae}=await G.auth.signUp({email:I.email,password:I.password});if(ae)throw ae;re.success("User created successfully")}await A(),p(!1),P()}catch(se){re.error(se.message||"Failed to save user"),console.error("Error:",se)}};return f.jsx("div",{className:"p-6 bg-[#121212] min-h-screen",children:f.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-white",children:"User Management"}),f.jsxs("button",{onClick:()=>{m(null),p(!0)},className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[f.jsx(Yf,{className:"w-5 h-5 mr-2"}),"Add New User"]})]}),f.jsxs("div",{className:"flex items-center justify-between gap-4",children:[f.jsxs("div",{className:"relative flex-1 max-w-md",children:[f.jsx(Ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),f.jsx("input",{type:"text",placeholder:"Search users...",value:s,onChange:I=>i(I.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#1F1F1F] text-white rounded-lg border border-[#2D2D2D] focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),u.length>0&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>U("activate"),className:"px-3 py-1.5 bg-emerald-600 text-white rounded hover:bg-emerald-700 transition-colors",children:"Activate"}),f.jsx("button",{onClick:()=>U("deactivate"),className:"px-3 py-1.5 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors",children:"Deactivate"}),f.jsx("button",{onClick:()=>U("delete"),className:"px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Delete"})]})]}),f.jsx("div",{className:"overflow-x-auto rounded-lg border border-[#2D2D2D]",children:f.jsxs("table",{className:"w-full border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-[#1F1F1F]",children:[f.jsx("th",{className:"p-4 text-left",children:f.jsx("input",{type:"checkbox",checked:u.length===e.length,onChange:I=>X(I.target.checked),className:"rounded border-gray-400 text-emerald-600 focus:ring-emerald-500"})}),["email","company_name","role","last_login","status"].map(I=>f.jsx("th",{onClick:()=>O(I),className:"p-4 text-left text-gray-400 font-medium cursor-pointer",children:f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx("span",{children:I.replace("_"," ").toUpperCase()}),o===I&&(l==="asc"?f.jsx(FS,{className:"w-4 h-4"}):f.jsx(Qf,{className:"w-4 h-4"}))]})},I)),f.jsx("th",{className:"p-4 text-left text-gray-400 font-medium",children:"ACTIONS"})]})}),f.jsx("tbody",{children:r?f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"text-center py-8",children:f.jsx(Qn,{className:"w-6 h-6 animate-spin mx-auto text-emerald-500"})})}):e.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"text-center py-8 text-gray-400",children:"No users found"})}):e.map(I=>f.jsxs("tr",{className:"border-t border-[#2D2D2D] hover:bg-[#1A1A1A]",children:[f.jsx("td",{className:"p-4",children:f.jsx("input",{type:"checkbox",checked:u.includes(I.id),onChange:se=>R(I.id,se.target.checked),className:"rounded border-gray-400 text-emerald-600 focus:ring-emerald-500"})}),f.jsx("td",{className:"p-4 text-white",children:I.email}),f.jsx("td",{className:"p-4 text-white",children:I.company_name}),f.jsx("td",{className:"p-4",children:f.jsx("span",{className:`px-2 py-1 rounded text-sm ${I.role==="admin"?"bg-purple-600":I.role==="manager"?"bg-blue-600":"bg-gray-600"} text-white`,children:I.role})}),f.jsx("td",{className:"p-4 text-gray-400",children:new Date(I.last_login).toLocaleString()}),f.jsx("td",{className:"p-4",children:f.jsx("button",{onClick:async()=>{try{await G.from("profiles").update({status:!I.status}).eq("id",I.id),await A()}catch{re.error("Failed to update user status")}},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I.status?"bg-emerald-600":"bg-gray-600"}`,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I.status?"translate-x-6":"translate-x-1"}`})})}),f.jsx("td",{className:"p-4",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>{m(I),p(!0)},className:"p-1 text-blue-400 hover:text-blue-300 transition-colors",children:f.jsx(VS,{className:"w-4 h-4"})}),f.jsx("button",{onClick:async()=>{if(confirm("Are you sure you want to delete this user?"))try{await G.from("profiles").delete().eq("id",I.id),await A(),re.success("User deleted successfully")}catch{re.error("Failed to delete user")}},className:"p-1 text-red-400 hover:text-red-300 transition-colors",children:f.jsx(Yl,{className:"w-4 h-4"})})]})})]},I.id))})]})}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"text-gray-400",children:["Showing ",(b-1)*g+1," to ",Math.min(b*g,e.length)," of ",e.length," users"]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>y(I=>Math.max(1,I-1)),disabled:b===1,className:"px-3 py-1 bg-[#1F1F1F] text-white rounded disabled:opacity-50",children:"Previous"}),f.jsxs("span",{className:"text-white",children:["Page ",b]}),f.jsx("button",{onClick:()=>y(I=>I+1),disabled:e.length<g,className:"px-3 py-1 bg-[#1F1F1F] text-white rounded disabled:opacity-50",children:"Next"})]})]}),h&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:f.jsx("div",{className:"bg-[#1F1F1F] rounded-lg w-full max-w-md",children:f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-xl font-bold text-white",children:x?"Edit User":"Add New User"}),f.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-white transition-colors",children:f.jsx(Xl,{className:"w-5 h-5"})})]}),f.jsxs("form",{onSubmit:S(oe),className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email Address"}),f.jsx("input",{...v("email"),type:"email",disabled:!!x,className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500 disabled:opacity-50",placeholder:"Enter email address"}),k.email&&f.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.email.message})]}),!x&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Password"}),f.jsx("input",{...v("password"),type:"password",className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Enter password"}),k.password&&f.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.password.message})]}),x&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"New Password (optional)"}),f.jsx("input",{...v("password"),type:"password",className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Enter new password"}),k.password&&f.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.password.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Confirm New Password"}),f.jsx("input",{...v("confirmPassword"),type:"password",className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Confirm new password"}),k.confirmPassword&&f.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.confirmPassword.message})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Company Name"}),f.jsx("input",{...v("company_name"),type:"text",className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Enter company name"}),k.company_name&&f.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.company_name.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Role"}),f.jsxs("select",{...v("role"),className:"w-full px-4 py-2 bg-[#2D2D2D] text-white rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[f.jsx("option",{value:"user",children:"User"}),f.jsx("option",{value:"manager",children:"Manager"}),f.jsx("option",{value:"admin",children:"Admin"})]}),k.role&&f.jsx("p",{className:"mt-1 text-sm text-red-400",children:k.role.message})]}),f.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 flex items-center",children:j?f.jsxs(f.Fragment,{children:[f.jsx(Qn,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):"Save User"})]})]})]})})})]})})}const ZI=me.object({company_name:me.string().min(1,"Company name is required"),email:me.string().email("Invalid email format").min(1,"Email is required"),current_password:me.string().optional(),new_password:me.string().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least 1 uppercase letter").regex(/[a-z]/,"Password must contain at least 1 lowercase letter").regex(/[0-9]/,"Password must contain at least 1 number").regex(/[^A-Za-z0-9]/,"Password must contain at least 1 special character").optional(),confirm_password:me.string().optional()}).refine(e=>!(e.new_password&&!e.current_password),{message:"Current password is required when setting a new password",path:["current_password"]}).refine(e=>e.new_password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]});function KI(){const[e,t]=w.useState(null),[r,n]=w.useState(!0),[s,i]=w.useState(!1);w.useState(!1);const o=Kf(),{register:a,handleSubmit:l,formState:{errors:c},reset:u,formState:{isDirty:d}}=lc({resolver:cc(ZI)});w.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const{data:{user:m}}=await G.auth.getUser();if(!m)throw new Error("Not authenticated");const{data:b,error:y}=await G.from("profiles").select("*").eq("id",m.id).single();if(y)throw y;t(b),u({email:b.email,company_name:b.company_name||""})}catch(m){console.error("Error fetching profile:",m),re.error("Failed to load profile")}finally{n(!1)}},p=async m=>{try{i(!0);const{data:{user:b}}=await G.auth.getUser();if(!b)throw new Error("Not authenticated");const{error:y}=await G.from("profiles").update({company_name:m.company_name,updated_at:new Date().toISOString()}).eq("id",b.id);if(y)throw y;if(m.new_password&&m.current_password){const{error:g}=await G.auth.updateUser({password:m.new_password});if(g)throw g}re.success("Profile updated successfully"),await h()}catch(b){console.error("Error updating profile:",b),re.error(b instanceof Error?b.message:"Failed to update profile")}finally{i(!1)}},x=()=>{d&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||o(-1)};return r?f.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center",children:f.jsx(Qn,{className:"w-8 h-8 animate-spin text-[#BB86FC]"})}):f.jsx("div",{className:"min-h-screen bg-[#121212] p-6",children:f.jsxs("div",{className:"max-w-2xl mx-auto",children:[f.jsx("h1",{className:"text-2xl font-bold text-[#E0E0E0] mb-8",children:"Profile Settings"}),f.jsx("div",{className:"bg-[#1F1F1F] rounded-lg p-6",children:f.jsxs("form",{onSubmit:l(p),className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"Email Address"}),f.jsx("input",{...a("email"),type:"email",readOnly:!0,className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38] opacity-50 cursor-not-allowed"}),c.email&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.email.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"Company Name"}),f.jsx("input",{...a("company_name"),type:"text",className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"}),c.company_name&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.company_name.message})]}),f.jsxs("div",{className:"pt-4 border-t border-[#3D3D3D]",children:[f.jsx("h3",{className:"text-lg font-medium text-[#E0E0E0] mb-4",children:"Change Password"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"Current Password"}),f.jsx("input",{...a("current_password"),type:"password",className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"}),c.current_password&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.current_password.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"New Password"}),f.jsx("input",{...a("new_password"),type:"password",className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"}),c.new_password&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.new_password.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0] mb-2",children:"Confirm New Password"}),f.jsx("input",{...a("confirm_password"),type:"password",className:"w-full px-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#f7ab38]"}),c.confirm_password&&f.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.confirm_password.message})]})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[f.jsx("button",{type:"button",onClick:x,className:"px-6 py-2 text-[#E0E0E0] hover:text-[#f7ab38] transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-[#f7ab38] text-white rounded-lg hover:bg-opacity-90 transition-colors disabled:opacity-50 flex items-center space-x-2",children:s?f.jsxs(f.Fragment,{children:[f.jsx(Qn,{className:"w-4 h-4 animate-spin"}),f.jsx("span",{children:"Saving..."})]}):f.jsx("span",{children:"Save Changes"})})]})]})})]})})}function JI(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[s,i]=w.useState(null),[o,a]=w.useState([]),[l,c]=w.useState(!0),[u,d]=w.useState(!1),[h,p]=w.useState("");w.useEffect(()=>{x()},[]);const x=async()=>{try{c(!0),console.log("PermissionsManagement: Starting to fetch data...");const{data:{user:v}}=await G.auth.getUser();console.log("PermissionsManagement: Current user:",v);const{data:S,error:k}=await G.from("profiles").select("*").order("email");if(console.log("PermissionsManagement: Fetched users:",S),k)throw k;const{data:j,error:P}=await G.from("workflows").select("*").eq("status","active").order("name");if(console.log("PermissionsManagement: Fetched workflows:",j),console.log("PermissionsManagement: Workflows query error:",P),P)throw P;t(S||[]),n(j||[])}catch(v){console.error("PermissionsManagement: Error fetching data:",v),re.error("Failed to load data")}finally{c(!1)}},m=async v=>{try{const{data:S,error:k}=await G.from("user_workflows").select("workflow_id").eq("user_id",v);if(k)throw k;a(S.map(j=>({userId:v,workflowId:j.workflow_id})))}catch(S){console.error("Error fetching permissions:",S),re.error("Failed to load user permissions")}},b=async v=>{i(v),await m(v)},y=v=>{s&&a(S=>S.some(j=>j.userId===s&&j.workflowId===v)?S.filter(j=>!(j.userId===s&&j.workflowId===v)):[...S,{userId:s,workflowId:v}])},g=async()=>{if(s)try{d(!0);const{error:v}=await G.from("user_workflows").delete().eq("user_id",s);if(v)throw v;if(o.length>0){const{error:S}=await G.from("user_workflows").insert(o.map(k=>({user_id:k.userId,workflow_id:k.workflowId})));if(S)throw S}re.success("Permissions saved successfully")}catch(v){console.error("Error saving permissions:",v),re.error("Failed to save permissions")}finally{d(!1)}};return l?f.jsx("div",{className:"p-6 flex justify-center",children:f.jsx(Wn,{className:"w-6 h-6 animate-spin text-[#BB86FC]"})}):f.jsx("div",{className:"p-6 bg-[#121212] min-h-screen",children:f.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-2xl font-bold text-[#E0E0E0]",children:"Workflow Permissions"}),f.jsx("button",{onClick:x,className:"text-[#BB86FC] hover:text-[#E0E0E0] transition-colors",title:"Refresh data",children:f.jsx(Wn,{className:"w-5 h-5"})})]}),f.jsxs("div",{className:"bg-[#1F1F1F] rounded-lg p-6 space-y-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-[#E0E0E0]",children:"Manage User Permissions"}),f.jsx("p",{className:"text-[#757575]",children:"Control which workflows each user can access"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("label",{className:"block text-sm font-medium text-[#E0E0E0]",children:"Select User"}),f.jsxs("div",{className:"relative",children:[f.jsx(Ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[#757575] w-5 h-5"}),f.jsx("input",{type:"text",placeholder:"Search users...",value:h,onChange:v=>p(v.target.value),className:"w-full pl-10 pr-4 py-2 bg-[#2C2C2C] text-[#E0E0E0] rounded-lg border border-[#3D3D3D] focus:outline-none focus:ring-2 focus:ring-[#BB86FC]"})]}),f.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:e.filter(v=>v.email.toLowerCase().includes(h.toLowerCase())).map(v=>f.jsx("button",{onClick:()=>b(v.id),className:`w-full text-left px-4 py-2 rounded-lg transition-colors ${s===v.id?"bg-[#BB86FC] text-white":"text-[#E0E0E0] hover:bg-[#2C2C2C]"}`,children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{children:v.email}),f.jsx("span",{className:`text-sm px-2 py-0.5 rounded ${v.role==="admin"?"bg-purple-600":v.role==="manager"?"bg-blue-600":"bg-gray-600"}`,children:v.role})]})},v.id))})]}),s&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-lg font-medium text-[#E0E0E0]",children:"Workflow Access"}),f.jsx("button",{onClick:g,disabled:u,className:"flex items-center px-4 py-2 bg-[#BB86FC] text-white rounded-lg hover:bg-opacity-90 transition-colors disabled:opacity-50",children:u?f.jsxs(f.Fragment,{children:[f.jsx(Wn,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):f.jsxs(f.Fragment,{children:[f.jsx(WS,{className:"w-4 h-4 mr-2"}),"Save Permissions"]})})]}),f.jsx("div",{className:"space-y-2",children:r.length===0?f.jsx("div",{className:"text-center py-4 text-[#757575]",children:"No workflows available"}):r.map(v=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#2C2C2C] rounded-lg",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-[#E0E0E0] font-medium",children:v.name}),v.description&&f.jsx("p",{className:"text-sm text-[#757575]",children:v.description})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.some(S=>S.userId===s&&S.workflowId===v.id),onChange:()=>y(v.id)}),f.jsx("div",{className:"w-11 h-6 bg-[#3D3D3D] peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-[#BB86FC] rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#BB86FC]"})]})]},v.id))})]})]})]})})}function QI(){const[e,t]=w.useState(!1),[r,n]=w.useState(!1);w.useEffect(()=>{const c=new Image;c.src="https://n-remote.com/sdc/public/sharon/cmodern_office_invironment_in_the_background-2.png",c.onload=()=>n(!0)},[]);const{register:s,handleSubmit:i,formState:{errors:o},reset:a}=lc({resolver:cc(W2),mode:"onBlur"}),l=async c=>{try{t(!0);const{error:u}=await G.auth.signInWithPassword({email:c.email,password:c.password});if(u)if(u.message.includes("session_not_found")){const{data:{session:d},error:h}=await G.auth.refreshSession();if(h||!d)throw new Error("Failed to refresh session. Please try logging in again.")}else throw u;re.success("Successfully signed in")}catch(u){re.error(u.message)}finally{t(!1),a()}};return f.jsx("div",{className:`min-h-screen w-full flex items-center justify-center bg-cover bg-center transition-opacity duration-1000 ${r?"opacity-100":"opacity-0"}`,style:{backgroundImage:"url(https://n-remote.com/sdc/public/sharon/cmodern_office_invironment_in_the_background-2.png)",backgroundColor:"#121212"},children:f.jsxs("div",{className:"w-full max-w-md p-8 bg-white/95 backdrop-blur-sm rounded-lg shadow-xl",children:[f.jsxs("div",{className:"flex flex-col items-center mb-8",children:[f.jsx("img",{src:"https://n-remote.com/sdc/public/logos/N-Remote295x95.png",alt:"N-Remote Logo",className:"h-12 mb-6"}),f.jsx("h2",{className:"text-2xl font-bold text-center",children:"Welcome to Sharon AI"})]}),f.jsxs("form",{onSubmit:i(l),className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),f.jsxs("div",{className:"relative",children:[f.jsx(zS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),f.jsx("input",{...s("email"),type:"email",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),o.email&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx(US,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 h-5 w-5"}),f.jsx("input",{...s("password"),type:"password",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password"})]}),o.password&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password.message})]}),f.jsx("button",{type:"submit",disabled:e,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:e?f.jsx(Qn,{className:"h-5 w-5 animate-spin"}):"Sign In"})]})]})})}async function Sa(e,t,r,n,s){try{const{error:i}=await e.from("workflow_logs").insert({workflow_id:t,level:r,message:n,details:s});i&&console.error("Failed to log workflow event:",i)}catch(i){console.error("Error logging workflow event:",i)}}function YI(){const e=Kf(),[t,r]=w.useState(null),[n,s]=w.useState(!0),[i,o]=w.useState(""),[a,l]=w.useState([]),[c,u]=w.useState(null),[d,h]=w.useState("New Chat"),[p,x]=w.useState(!1),[m,b]=w.useState(null),[y,g]=w.useState(null),[v,S]=w.useState(null),[k,j]=w.useState(0),[P,N]=w.useState(null),[A,O]=w.useState(null),[X,R]=w.useState(!1),U=!m||p,oe=async C=>{try{const F=document.querySelector(`[data-message-id="${C}"]`);F&&await navigator.clipboard.writeText(F.textContent||""),g(C),setTimeout(()=>g(null),2e3)}catch(F){console.error("Failed to copy text:",F)}},I=C=>{let F=C.replace(/<a\s+(?:[^>]*?\s+)?href=(["'])(.*?)\1[^>]*>(.*?)<\/a>/g,"%%%LINK$1$2$1$3%%%").replace(/<sup\s+class="citation">(.*?)<\/sup>/g,"%%%CITATION$1%%%").replace(/^(#{1,6})\s+(.+)$/gm,(Q,z,le)=>{const K=7-z.length;return`<h${z.length} class="text-${K}xl font-bold mb-4">${le}</h${z.length}>`}).replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,(Q,z,le)=>`<a href="${le.startsWith("http")?le:`https://${le}`}" target="_blank" rel="noopener noreferrer" class="text-[#BB86FC] hover:text-[#9B66DC] underline">${z}</a>`).replace(/^\s*[•*-]\s+(.+)$/gm,"<li>$1</li>").split(`
`).map(Q=>Q.trim()).filter(Q=>Q).map(Q=>Q.startsWith("<")?Q:`<p>${Q}</p>`).join(`
`).replace(/%%%LINK(["'])(.*?)\1(.*?)%%%/g,'<a href="$2" target="_blank" rel="noopener noreferrer" class="text-[#BB86FC] hover:text-[#9B66DC] underline">$3</a>').replace(/%%%CITATION(.*?)%%%/g,'<sup class="citation">$1</sup>');return F=F.replace(/(<li>.*<\/li>\n*)+/g,'<ul class="list-disc pl-6 space-y-2 my-4">$&</ul>').replace(/\n{3,}/g,`
`).trim(),F};w.useEffect(()=>{if(!G){O("Supabase client not initialized. Please check your environment variables.");return}(async()=>{try{const{data:{session:Q},error:z}=await G.auth.getSession();if(z)if(z.message.includes("session_not_found")){const{data:{session:le},error:K}=await G.auth.refreshSession();if(K||!le){await G.auth.signOut(),e("/");return}r(le.user)}else throw z;else r((Q==null?void 0:Q.user)??null)}catch(Q){console.error("Session initialization error:",Q),O("Failed to initialize session. Please try logging in again."),await G.auth.signOut(),e("/")}finally{s(!1)}})();const{data:{subscription:F}}=G.auth.onAuthStateChange(async(Q,z)=>{z!=null&&z.user?r(z.user):(r(null),e("/"))});return()=>F.unsubscribe()},[e]),w.useEffect(()=>{c&&se(c)},[c]);const se=async C=>{try{const{data:F,error:Q}=await G.from("messages").select("*").eq("conversation_id",C).order("created_at",{ascending:!0});if(Q){if(Q.message.includes("session_not_found")){const{data:{session:K},error:Fe}=await G.auth.refreshSession();if(Fe||!K){await G.auth.signOut(),e("/");return}return se(C)}throw Q}const z=F.map(K=>({id:K.id,type:K.sender_type,text:K.text,document_url:K.document_url,timestamp:new Date(K.created_at).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}));l(z);const{data:le}=await G.from("conversations").select("title").eq("id",C).single();le&&h(le.title)}catch(F){console.error("Error loading messages:",F),re.error("Failed to load conversation messages")}},ae=async C=>{var Q;if(C.preventDefault(),!i.trim()&&!v)return;console.log("App: Submitting message with workflow:",{workflow_id:m==null?void 0:m.id,workflow_name:m==null?void 0:m.name,worker_id:m==null?void 0:m.worker_id});const F=new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"});try{if(!m)throw new Error("Please select a workflow first");if(!t)throw new Error("You must be logged in to send messages");let z=null,le=null,K=c;if(v){le=Date.now();const ze=(Q=v.name.split(".").pop())==null?void 0:Q.toLowerCase(),Ee=ze&&["png","jpg","jpeg","gif"].includes(ze);if(Ee&&!(m!=null&&m.supports_images))throw new Error("Image uploads are not supported for this workflow");if(!Ee&&!(m!=null&&m.supports_documents))throw new Error("Document uploads are not supported for this workflow");const Dt=Ee?"images":"documents",Wr=`${t.id}/${crypto.randomUUID()}.${ze}`;await Sa(G,m.id,"info","Starting file upload",{fileType:Ee?"image":"document",fileName:v.name,fileSize:v.size,bucket:Dt});const{error:qo,data:Mc}=await G.storage.from(Dt).upload(Wr,v,{onUploadProgress:Ko=>{j(Ko.loaded/Ko.total*100)}});if(qo)throw qo;const Zo=Date.now()-le,{data:os}=G.storage.from(Dt).getPublicUrl(Wr);if(!(os!=null&&os.publicUrl))throw new Error("Failed to generate public URL for uploaded file");z=os.publicUrl,await Sa(G,m.id,"info","File uploaded successfully",{filePath:Wr,duration:Zo,documentUrl:z,fileType:Ee?"image":"document"}),console.log("Generated file URL:",z)}if(!K){const{data:ze,error:Ee}=await G.from("conversations").insert({title:i,workflow_id:m.id,created_by:t.id}).select().single();if(Ee){if(Ee.message.includes("session_not_found")){const{data:{session:Dt},error:Wr}=await G.auth.refreshSession();if(Wr||!Dt){await G.auth.signOut(),e("/");return}return ae(C)}throw Ee}K=ze.id,u(ze.id),h(i)}const{error:Fe}=await G.from("messages").insert({conversation_id:K,sender_type:"user",text:i,document_url:z});if(Fe){if(Fe.message.includes("session_not_found")){const{data:{session:ze},error:Ee}=await G.auth.refreshSession();if(Ee||!ze){await G.auth.signOut(),e("/");return}return ae(C)}throw Fe}const qe={id:crypto.randomUUID(),type:"user",text:i,document_url:z,timestamp:F,isFollowUp:!!P};o(""),l(ze=>[...ze,qe]),x(!0);const wt=await z0({workerId:m.worker_id,apiAuthToken:m.api_auth_token,apiConfig:{method:"post",url:"https://api.mindstudio.ai/developer/v2/workers/run",content_type:"application/json"},variables:{request:i,workflowId:m.id,workflowName:m.name,documentUrl:z,...P&&{previousAnswer:P}}});if(!wt.data||typeof wt.data.response!="string")throw new Error("Invalid response format from API");const zr=I(wt.data.response),{error:zt}=await G.from("messages").insert({conversation_id:K,sender_type:"assistant",text:zr});if(zt){if(zt.message.includes("session_not_found")){const{data:{session:ze},error:Ee}=await G.auth.refreshSession();if(Ee||!ze){await G.auth.signOut(),e("/");return}return ae(C)}throw zt}const Vr={id:crypto.randomUUID(),type:"assistant",text:zr,timestamp:F};l(ze=>[...ze,Vr]),N(zr),await Sa(G,m.id,"info","Message exchange completed successfully",{conversationId:K,requestLength:i.length,responseLength:zr.length,hadDocument:!!z,isFollowUp:!!P})}catch(z){console.error("Error in message submission:",z),console.error("Error details:",{stack:z instanceof Error?z.stack:void 0,context:{workflowId:m==null?void 0:m.id,message:i,documentUrl,previousAnswer:P}});const le={id:crypto.randomUUID(),type:"assistant",text:z instanceof Error?z.message:"An unexpected error occurred",timestamp:F};l(K=>[...K,le]),m&&await Sa(G,m.id,"error","Error processing message",{error:z instanceof Error?z.message:"Unknown error",stack:z instanceof Error?z.stack:void 0,context:{message:i,documentUrl,previousAnswer:P,isFollowUp:!!P}}),re.error("Failed to process message")}finally{x(!1),S(null),j(0)}},L=async()=>{await G.auth.signOut(),e("/")};return n?f.jsx(va,{children:f.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-4rem)]",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):t?A?f.jsx(va,{children:f.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-[#1F1F1F] rounded-lg p-8 max-w-md w-full text-center space-y-4",children:[f.jsx(Jf,{className:"w-16 h-16 text-red-500 mx-auto"}),f.jsx("h2",{className:"text-xl font-bold text-white",children:"Connection Error"}),f.jsx("p",{className:"text-[#757575]",children:A})]})})}):f.jsx(va,{onSignOut:L,user:!0,children:f.jsxs(z1,{children:[f.jsx(fs,{path:"/workflows",element:f.jsx(WI,{})}),f.jsx(fs,{path:"/users",element:f.jsx(qI,{})}),f.jsx(fs,{path:"/permissions",element:f.jsx(JI,{})}),f.jsx(fs,{path:"/profile",element:f.jsx(KI,{})}),f.jsx(fs,{path:"/",element:f.jsxs("div",{className:"flex flex-col md:flex-row h-[100dvh] bg-[#121212] relative overflow-hidden",children:[f.jsx("button",{onClick:()=>R(!0),className:"md:hidden fixed top-4 left-4 z-[60] p-2 bg-[#1F1F1F] rounded-lg text-[#E0E0E0] hover:bg-[#2D2D2D]",children:f.jsx(a0,{className:"w-6 h-6"})}),f.jsx(dC,{onNewChat:()=>{l([]),u(null),h("New Chat"),b(null),N(null)},selectedChat:c,selectedWorkflow:m,onSelectWorkflow:b,onSelectChat:C=>{u(C),R(!1)},isSidebarVisible:X,setIsSidebarVisible:R}),f.jsxs("div",{className:"flex-1 flex flex-col h-full relative",children:[f.jsx("div",{className:"bg-[#1F1F1F] p-4 border-b border-[#2D2D2D] shadow-lg",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-[#E0E0E0] text-lg font-medium hidden md:block",children:d}),m&&f.jsxs("span",{className:"text-sm text-[#BB86FC]",children:["Using: ",m.display_name||m.name]})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-[120px] md:pb-[100px]",children:[!m&&f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-4",children:[f.jsx(Ad,{className:"w-16 h-16 text-[#757575]"}),f.jsxs("div",{className:"max-w-md space-y-2",children:[f.jsx("h3",{className:"text-xl font-medium text-[#E0E0E0]",children:"Select a Workflow to Start"}),f.jsx("p",{className:"text-[#757575]",children:"Choose a workflow from the dropdown menu above to begin your conversation."})]})]}),a.map(C=>f.jsx("div",{className:"flex flex-col animate-fade-in",children:f.jsxs("div",{className:`flex flex-col ${C.type==="user"?"items-end":"items-start"}`,children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[f.jsx("span",{className:"text-sm text-[#757575]",children:C.type==="user"?C.isFollowUp?"Your Follow-up":"Your Question":"Sharon's Answer"}),f.jsx("button",{onClick:()=>oe(C.id),className:"text-[#757575] hover:text-accent transition-colors",children:y===C.id?f.jsx(i0,{className:"w-4 h-4"}):f.jsx(MS,{className:"w-4 h-4"})})]}),f.jsx("div",{className:`relative p-4 rounded-2xl shadow-md max-w-2xl w-full ${C.type==="user"?"bg-[#3871f7] text-[#E0E0E0]":"bg-[#2C2C2C] text-[#E0E0E0] prose prose-invert prose-headings:text-[#E0E0E0] prose-a:text-accent prose-a:no-underline hover:prose-a:underline"} mx-auto`,"data-message-id":C.id,children:C.type==="assistant"?f.jsx("div",{children:f.jsx("div",{className:"prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:C.text}})}):f.jsxs("div",{children:[f.jsx("p",{children:C.text}),C.document_url&&f.jsx("div",{className:"mt-2",children:C.document_url.match(/\.(jpg|jpeg|png|gif)$/i)?f.jsx("img",{src:C.document_url,alt:"Uploaded image",className:"max-w-full h-auto rounded-lg"}):f.jsxs("a",{href:C.document_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 bg-[#1A1A1A] p-2 rounded hover:bg-[#2D2D2D] transition-colors",children:[f.jsx(im,{className:"w-5 h-5 text-[#757575]"}),f.jsx("span",{className:"text-[#757575] text-sm",children:"View document"})]})})]})}),f.jsx("span",{className:"text-[#757575] text-sm mt-1",children:C.timestamp})]})},C.id)),p&&f.jsxs("div",{className:"flex flex-col items-start animate-fade-in",children:[f.jsx("span",{className:"text-sm text-[#757575] mb-1",children:"Sharon's working..."}),f.jsxs("div",{className:"bg-[#2C2C2C] p-4 rounded-2xl shadow-md flex items-center space-x-2 animate-pulse",children:[f.jsx(Qn,{className:"w-5 h-5 text-accent animate-spin"}),f.jsx("span",{className:"text-[#E0E0E0]",children:"Processing your request..."})]})]})]}),f.jsx("div",{className:"fixed bottom-0 left-0 right-0 md:left-80 p-4 bg-[#121212] border-t border-[#2D2D2D] shadow-lg",children:f.jsxs("form",{onSubmit:ae,className:"flex space-x-2 md:space-x-3",children:[((m==null?void 0:m.supports_documents)||(m==null?void 0:m.supports_images))&&f.jsxs("div",{className:`relative ${U?"opacity-50 cursor-not-allowed":""}`,title:m!=null&&m.supports_documents&&(m!=null&&m.supports_images)?"Upload documents (.pdf, .doc, .docx, .txt) or images (.png, .jpg, .jpeg, .gif)":m!=null&&m.supports_documents?"Upload documents (.pdf, .doc, .docx, .txt)":"Upload images (.png, .jpg, .jpeg, .gif)",children:[f.jsx("input",{type:"file",onChange:C=>{var F;return S(((F=C.target.files)==null?void 0:F[0])||null)},className:"hidden",id:"file-upload",accept:`${m!=null&&m.supports_documents?".pdf,.doc,.docx,.txt":""}${m!=null&&m.supports_documents&&(m!=null&&m.supports_images)?",":""}${m!=null&&m.supports_images?".png,.jpg,.jpeg,.gif":""}`,disabled:U}),f.jsx("label",{htmlFor:"file-upload",className:`flex items-center justify-center w-10 md:w-12 h-10 md:h-12 rounded-xl transition-colors ${v?"bg-emerald-600":"bg-[#2C2C2C]"} ${U?"cursor-not-allowed":"cursor-pointer hover:opacity-90"} w-10 md:w-12 h-10 md:h-12`,children:f.jsx(qS,{className:"w-5 h-5 text-white"})}),v&&f.jsxs("div",{className:"absolute bottom-full mb-2 left-0 bg-[#2C2C2C] text-white text-sm rounded-lg p-4 min-w-[200px] max-w-[300px]",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"truncate",children:v.name}),f.jsx("button",{onClick:C=>{C.preventDefault(),S(null)},className:"ml-2 text-gray-400 hover:text-white",children:f.jsx(Xl,{className:"w-4 h-4"})})]}),k>0&&k<100?f.jsx("div",{className:"w-full h-1 bg-gray-700 rounded-full",children:f.jsx("div",{className:"h-full bg-emerald-600 rounded-full",style:{width:`${k}%`}})}):f.jsx("div",{className:"mt-2",children:v.type.startsWith("image/")?f.jsx("img",{src:URL.createObjectURL(v),alt:"Preview",className:"w-full h-auto rounded-lg",onLoad:()=>URL.revokeObjectURL(URL.createObjectURL(v))}):f.jsxs("div",{className:"flex items-center space-x-2 bg-[#1A1A1A] p-2 rounded",children:[f.jsx(im,{className:"w-5 h-5 text-[#757575]"}),f.jsx("span",{className:"text-[#757575] text-xs",children:v.type||"Document"})]})})]})]}),f.jsx("textarea",{rows:1,onKeyDown:C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),ae(C))},value:i,onChange:C=>{if(!m){re.error("Please select a workflow first");return}C.target.style.height="auto",C.target.style.height=`${C.target.scrollHeight}px`,o(C.target.value)},placeholder:m?"Type your message...":"Select a workflow to start chatting",className:`flex-1 bg-[#2C2C2C] text-white px-4 py-3 rounded-xl placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-accent transition-shadow text-sm md: text-base ${U?"opacity-50 cursor-not-allowed":""} resize-none overflow-y-auto min-h-[40px] md:min-h-[48px] max-h-[200px] overflow-y-auto`,disabled:U}),f.jsx("button",{type:"submit",className:`bg-accent text-white p-3 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-[#121212] transition-all ${U||!i.trim()&&!v?"opacity-50 cursor-not-allowed":"hover:bg-opacity-90"}`,disabled:U||!i.trim()&&!v,children:f.jsx(GS,{className:"w-5 h-5"})})]})})]})]})})]})}):f.jsx(va,{user:!1,children:f.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center p-4",children:f.jsx(QI,{})})})}class XI extends w.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){var t;return this.state.hasError?f.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-[#1F1F1F] rounded-lg p-8 max-w-md w-full space-y-6 text-center",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx(s0,{className:"w-16 h-16 text-red-500"})}),f.jsx("h1",{className:"text-2xl font-bold text-white",children:"Something went wrong"}),f.jsx("p",{className:"text-[#757575]",children:((t=this.state.error)==null?void 0:t.message)||"An unexpected error occurred"}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-[#BB86FC] text-white rounded-lg hover:bg-opacity-90 transition-colors",children:"Reload Page"})]})}):this.props.children}}zv(document.getElementById("root")).render(f.jsx(w.StrictMode,{children:f.jsx(G1,{children:f.jsx(XI,{children:f.jsx(YI,{})})})}));export{Yd as g};
